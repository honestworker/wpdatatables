(function(h) {
    "function" === typeof define && define.amd ? define(["jquery"], function(E) {
        return h(E, window, document)
    }) : "object" === typeof exports ? module.exports = function(E, H) {
        E || (E = window);
        H || (H = "undefined" !== typeof window ? require("jquery") : require("jquery")(E));
        return h(H, E, E.document)
    } : h(jQuery, window, document)
})(function(h, E, H, k) {
    function Y(a) {
        var b, c, d = {};
        h.each(a, function(e) {
            if ((b = e.match(/^([^A-Z]+?)([A-Z])/)) && -1 !== "a aa ai ao as b fn i m o s ".indexOf(b[1] + " ")) c = e.replace(b[0], b[2].toLowerCase()), d[c] = e, "o" === b[1] && Y(a[e])
        });
        a._hungarianMap = d
    }

    function J(a, b, c) {
        a._hungarianMap || Y(a);
        var d;
        h.each(b, function(e) {
            d = a._hungarianMap[e];
            if (d !== k && (c || b[d] === k)) "o" === d.charAt(0) ? (b[d] || (b[d] = {}), h.extend(!0, b[d], b[e]), J(a[d], b[d], c)) : b[d] = b[e]
        })
    }

    function Fa(a) {
        var b = m.defaults.oLanguage,
            c = a.sZeroRecords;
        !a.sEmptyTable && (c && "No data available in table" === b.sEmptyTable) && F(a, a, "sZeroRecords", "sEmptyTable");
        !a.sLoadingRecords && (c && "Loading..." === b.sLoadingRecords) && F(a, a, "sZeroRecords", "sLoadingRecords");
        a.sInfoThousands && (a.sThousands = a.sInfoThousands);
        (a = a.sDecimal) && fb(a)
    }

    function gb(a) {
        A(a, "ordering", "bSort");
        A(a, "orderMulti", "bSortMulti");
        A(a, "orderClasses", "bSortClasses");
        A(a, "orderCellsTop", "bSortCellsTop");
        A(a, "order", "aaSorting");
        A(a, "orderFixed", "aaSortingFixed");
        A(a, "paging", "bPaginate");
        A(a, "pagingType", "sPaginationType");
        A(a, "pageLength", "iDisplayLength");
        A(a, "searching", "bFilter");
        "boolean" === typeof a.sScrollX && (a.sScrollX = a.sScrollX ? "100%" : "");
        "boolean" === typeof a.scrollX && (a.scrollX = a.scrollX ? "100%" : "");
        if (a = a.aoSearchCols)
            for (var b = 0, c = a.length; b < c; b++) a[b] && J(m.models.oSearch, a[b])
    }

    function hb(a) {
        A(a, "orderable", "bSortable");
        A(a, "orderData", "aDataSort");
        A(a, "orderSequence", "asSorting");
        A(a, "orderDataType", "sortDataType");
        var b = a.aDataSort;
        "number" === typeof b && !h.isArray(b) && (a.aDataSort = [b])
    }

    function ib(a) {
        if (!m.__browser) {
            var b = {};
            m.__browser = b;
            var c = h("<div/>").css({
                    position: "fixed",
                    top: 0,
                    left: -1 * h(E).scrollLeft(),
                    height: 1,
                    width: 1,
                    overflow: "hidden"
                }).append(h("<div/>").css({
                    position: "absolute",
                    top: 1,
                    left: 1,
                    width: 100,
                    overflow: "scroll"
                }).append(h("<div/>").css({
                    width: "100%",
                    height: 10
                }))).appendTo("body"),
                d = c.children(),
                e = d.children();
            b.barWidth = d[0].offsetWidth - d[0].clientWidth;
            b.bScrollOversize = 100 === e[0].offsetWidth && 100 !== d[0].clientWidth;
            b.bScrollbarLeft = 1 !== Math.round(e.offset().left);
            b.bBounding = c[0].getBoundingClientRect().width ? !0 : !1;
            c.remove()
        }
        h.extend(a.oBrowser, m.__browser);
        a.oScroll.iBarWidth = m.__browser.barWidth
    }

    function jb(a, b, c, d, e, f) {
        var g, j = !1;
        c !== k && (g = c, j = !0);
        for (; d !== e;) a.hasOwnProperty(d) && (g = j ? b(g, a[d], d, a) : a[d], j = !0, d += f);
        return g
    }

    function Ga(a, b) {
        var c = m.defaults.column,
            d = a.aoColumns.length,
            c = h.extend({}, m.models.oColumn, c, {
                nTh: b ? b : H.createElement("th"),
                sTitle: c.sTitle ? c.sTitle : b ? b.innerHTML : "",
                aDataSort: c.aDataSort ? c.aDataSort : [d],
                mData: c.mData ? c.mData : d,
                idx: d
            });
        a.aoColumns.push(c);
        c = a.aoPreSearchCols;
        c[d] = h.extend({}, m.models.oSearch, c[d]);
        la(a, d, h(b).data())
    }

    function la(a, b, c) {
        var b = a.aoColumns[b],
            d = a.oClasses,
            e = h(b.nTh);
        if (!b.sWidthOrig) {
            b.sWidthOrig = e.attr("width") || null;
            var f = (e.attr("style") || "").match(/width:\s*(\d+[pxem%]+)/);
            f && (b.sWidthOrig = f[1])
        }
        c !== k && null !== c && (hb(c), J(m.defaults.column, c), c.mDataProp !== k && !c.mData && (c.mData = c.mDataProp), c.sType && (b._sManualType = c.sType), c.className && !c.sClass && (c.sClass = c.className), h.extend(b, c), F(b, c, "sWidth", "sWidthOrig"), c.iDataSort !== k && (b.aDataSort = [c.iDataSort]), F(b, c, "aDataSort"));
        var g = b.mData,
            j = R(g),
            i = b.mRender ? R(b.mRender) : null,
            c = function(a) {
                return "string" === typeof a && -1 !== a.indexOf("@")
            };
        b._bAttrSrc = h.isPlainObject(g) && (c(g.sort) || c(g.type) || c(g.filter));
        b._setter = null;
        b.fnGetData = function(a, b, c) {
            var d = j(a, b, k, c);
            return i && b ? i(d, b, a, c) : d
        };
        b.fnSetData = function(a, b, c) {
            return S(g)(a, b, c)
        };
        "number" !== typeof g && (a._rowReadObject = !0);
        a.oFeatures.bSort || (b.bSortable = !1, e.addClass(d.sSortableNone));
        a = -1 !== h.inArray("asc", b.asSorting);
        c = -1 !== h.inArray("desc", b.asSorting);
        !b.bSortable || !a && !c ? (b.sSortingClass = d.sSortableNone, b.sSortingClassJUI = "") : a && !c ? (b.sSortingClass = d.sSortableAsc, b.sSortingClassJUI = d.sSortJUIAscAllowed) : !a && c ? (b.sSortingClass = d.sSortableDesc, b.sSortingClassJUI = d.sSortJUIDescAllowed) : (b.sSortingClass = d.sSortable, b.sSortingClassJUI = d.sSortJUI)
    }

    function Z(a) {
        if (!1 !== a.oFeatures.bAutoWidth) {
            var b = a.aoColumns;
            Ha(a);
            for (var c = 0, d = b.length; c < d; c++) b[c].nTh.style.width = b[c].sWidth
        }
        b = a.oScroll;
        ("" !== b.sY || "" !== b.sX) && ma(a);
        s(a, null, "column-sizing", [a])
    }

    function $(a, b) {
        var c = na(a, "bVisible");
        return "number" === typeof c[b] ? c[b] : null
    }

    function aa(a, b) {
        var c = na(a, "bVisible"),
            c = h.inArray(b, c);
        return -1 !== c ? c : null
    }

    function ba(a) {
        var b = 0;
        h.each(a.aoColumns, function(a, d) {
            d.bVisible && "none" !== h(d.nTh).css("display") && b++
        });
        return b
    }

    function na(a, b) {
        var c = [];
        h.map(a.aoColumns, function(a, e) {
            a[b] && c.push(e)
        });
        return c
    }

    function Ia(a) {
        var b = a.aoColumns,
            c = a.aoData,
            d = m.ext.type.detect,
            e, f, g, j, i, h, l, q, r;
        e = 0;
        for (f = b.length; e < f; e++)
            if (l = b[e], r = [], !l.sType && l._sManualType) l.sType = l._sManualType;
            else if (!l.sType) {
            g = 0;
            for (j = d.length; g < j; g++) {
                i = 0;
                for (h = c.length; i < h; i++) {
                    r[i] === k && (r[i] = B(a, i, e, "type"));
                    q = d[g](r[i], a);
                    if (!q && g !== d.length - 1) break;
                    if ("html" === q) break
                }
                if (q) {
                    l.sType = q;
                    break
                }
            }
            l.sType || (l.sType = "string")
        }
    }

    function kb(a, b, c, d) {
        var e, f, g, j, i, n, l = a.aoColumns;
        if (b)
            for (e = b.length - 1; 0 <= e; e--) {
                n = b[e];
                var q = n.targets !== k ? n.targets : n.aTargets;
                h.isArray(q) || (q = [q]);
                f = 0;
                for (g = q.length; f < g; f++)
                    if ("number" === typeof q[f] && 0 <= q[f]) {
                        for (; l.length <= q[f];) Ga(a);
                        d(q[f], n)
                    } else if ("number" === typeof q[f] && 0 > q[f]) d(l.length + q[f], n);
                else if ("string" === typeof q[f]) {
                    j = 0;
                    for (i = l.length; j < i; j++)("_all" == q[f] || h(l[j].nTh).hasClass(q[f])) && d(j, n)
                }
            }
        if (c) {
            e = 0;
            for (a = c.length; e < a; e++) d(e, c[e])
        }
    }

    function N(a, b, c, d) {
        var e = a.aoData.length,
            f = h.extend(!0, {}, m.models.oRow, {
                src: c ? "dom" : "data",
                idx: e
            });
        f._aData = b;
        a.aoData.push(f);
        for (var g = a.aoColumns, j = 0, i = g.length; j < i; j++) g[j].sType = null;
        a.aiDisplayMaster.push(e);
        b = a.rowIdFn(b);
        b !== k && (a.aIds[b] = f);
        (c || !a.oFeatures.bDeferRender) && Ja(a, e, c, d);
        return e
    }

    function oa(a, b) {
        var c;
        b instanceof h || (b = h(b));
        return b.map(function(b, e) {
            c = Ka(a, e);
            return N(a, c.data, e, c.cells)
        })
    }

    function B(a, b, c, d) {
        var e = a.iDraw,
            f = a.aoColumns[c],
            g = a.aoData[b]._aData,
            j = f.sDefaultContent,
            i = f.fnGetData(g, d, {
                settings: a,
                row: b,
                col: c
            });
        if (i === k) return a.iDrawError != e && null === j && (K(a, 0, "Requested unknown parameter " + ("function" == typeof f.mData ? "{function}" : "'" + f.mData + "'") + " for row " + b + ", column " + c, 4), a.iDrawError = e), j;
        if ((i === g || null === i) && null !== j && d !== k) i = j;
        else if ("function" === typeof i) return i.call(g);
        return null === i && "display" == d ? "" : i
    }

    function lb(a, b, c, d) {
        a.aoColumns[c].fnSetData(a.aoData[b]._aData, d, {
            settings: a,
            row: b,
            col: c
        })
    }

    function La(a) {
        return h.map(a.match(/(\\.|[^\.])+/g) || [""], function(a) {
            return a.replace(/\\\./g, ".")
        })
    }

    function R(a) {
        if (h.isPlainObject(a)) {
            var b = {};
            h.each(a, function(a, c) {
                c && (b[a] = R(c))
            });
            return function(a, c, f, g) {
                var j = b[c] || b._;
                return j !== k ? j(a, c, f, g) : a
            }
        }
        if (null === a) return function(a) {
            return a
        };
        if ("function" === typeof a) return function(b, c, f, g) {
            return a(b, c, f, g)
        };
        if ("string" === typeof a && (-1 !== a.indexOf(".") || -1 !== a.indexOf("[") || -1 !== a.indexOf("("))) {
            var c = function(a, b, f) {
                var g, j;
                if ("" !== f) {
                    j = La(f);
                    for (var i = 0, n = j.length; i < n; i++) {
                        f = j[i].match(ca);
                        g = j[i].match(V);
                        if (f) {
                            j[i] = j[i].replace(ca, "");
                            "" !== j[i] && (a = a[j[i]]);
                            g = [];
                            j.splice(0, i + 1);
                            j = j.join(".");
                            if (h.isArray(a)) {
                                i = 0;
                                for (n = a.length; i < n; i++) g.push(c(a[i], b, j))
                            }
                            a = f[0].substring(1, f[0].length - 1);
                            a = "" === a ? g : g.join(a);
                            break
                        } else if (g) {
                            j[i] = j[i].replace(V, "");
                            a = a[j[i]]();
                            continue
                        }
                        if (null === a || a[j[i]] === k) return k;
                        a = a[j[i]]
                    }
                }
                return a
            };
            return function(b, e) {
                return c(b, e, a)
            }
        }
        return function(b) {
            return b[a]
        }
    }

    function S(a) {
        if (h.isPlainObject(a)) return S(a._);
        if (null === a) return function() {};
        if ("function" === typeof a) return function(b, d, e) {
            a(b, "set", d, e)
        };
        if ("string" === typeof a && (-1 !== a.indexOf(".") || -1 !== a.indexOf("[") || -1 !== a.indexOf("("))) {
            var b = function(a, d, e) {
                var e = La(e),
                    f;
                f = e[e.length - 1];
                for (var g, j, i = 0, n = e.length - 1; i < n; i++) {
                    g = e[i].match(ca);
                    j = e[i].match(V);
                    if (g) {
                        e[i] = e[i].replace(ca, "");
                        a[e[i]] = [];
                        f = e.slice();
                        f.splice(0, i + 1);
                        g = f.join(".");
                        if (h.isArray(d)) {
                            j = 0;
                            for (n = d.length; j < n; j++) f = {}, b(f, d[j], g), a[e[i]].push(f)
                        } else a[e[i]] = d;
                        return
                    }
                    j && (e[i] = e[i].replace(V, ""), a = a[e[i]](d));
                    if (null === a[e[i]] || a[e[i]] === k) a[e[i]] = {};
                    a = a[e[i]]
                }
                if (f.match(V)) a[f.replace(V, "")](d);
                else a[f.replace(ca, "")] = d
            };
            return function(c, d) {
                return b(c, d, a)
            }
        }
        return function(b, d) {
            b[a] = d
        }
    }

    function Ma(a) {
        return D(a.aoData, "_aData")
    }

    function pa(a) {
        a.aoData.length = 0;
        a.aiDisplayMaster.length = 0;
        a.aiDisplay.length = 0;
        a.aIds = {}
    }

    function qa(a, b, c) {
        for (var d = -1, e = 0, f = a.length; e < f; e++) a[e] == b ? d = e : a[e] > b && a[e]--; - 1 != d && c === k && a.splice(d, 1)
    }

    function da(a, b, c, d) {
        var e = a.aoData[b],
            f, g = function(c, d) {
                for (; c.childNodes.length;) c.removeChild(c.firstChild);
                c.innerHTML = B(a, b, d, "display")
            };
        if ("dom" === c || (!c || "auto" === c) && "dom" === e.src) e._aData = Ka(a, e, d, d === k ? k : e._aData).data;
        else {
            var j = e.anCells;
            if (j)
                if (d !== k) g(j[d], d);
                else {
                    c = 0;
                    for (f = j.length; c < f; c++) g(j[c], c)
                }
        }
        e._aSortData = null;
        e._aFilterData = null;
        g = a.aoColumns;
        if (d !== k) g[d].sType = null;
        else {
            c = 0;
            for (f = g.length; c < f; c++) g[c].sType = null;
            Na(a, e)
        }
    }

    function Ka(a, b, c, d) {
        var e = [],
            f = b.firstChild,
            g, j, i = 0,
            n, l = a.aoColumns,
            q = a._rowReadObject,
            d = d !== k ? d : q ? {} : [],
            r = function(a, b) {
                if ("string" === typeof a) {
                    var c = a.indexOf("@"); - 1 !== c && (c = a.substring(c + 1), S(a)(d, b.getAttribute(c)))
                }
            },
            m = function(a) {
                if (c === k || c === i) j = l[i], n = h.trim(a.innerHTML), j && j._bAttrSrc ? (S(j.mData._)(d, n), r(j.mData.sort, a), r(j.mData.type, a), r(j.mData.filter, a)) : q ? (j._setter || (j._setter = S(j.mData)), j._setter(d, n)) : d[i] = n;
                i++
            };
        if (f)
            for (; f;) {
                g = f.nodeName.toUpperCase();
                if ("TD" == g || "TH" == g) m(f), e.push(f);
                f = f.nextSibling
            } else {
                e = b.anCells;
                f = 0;
                for (g = e.length; f < g; f++) m(e[f])
            }
        if (b = b.firstChild ? b : b.nTr)(b = b.getAttribute("id")) && S(a.rowId)(d, b);
        return {
            data: d,
            cells: e
        }
    }

    function Ja(a, b, c, d) {
        var e = a.aoData[b],
            f = e._aData,
            g = [],
            j, i, n, l, q;
        if (null === e.nTr) {
            j = c || H.createElement("tr");
            e.nTr = j;
            e.anCells = g;
            j._DT_RowIndex = b;
            Na(a, e);
            l = 0;
            for (q = a.aoColumns.length; l < q; l++) {
                n = a.aoColumns[l];
                i = c ? d[l] : H.createElement(n.sCellType);
                i._DT_CellIndex = {
                    row: b,
                    column: l
                };
                g.push(i);
                if ((!c || n.mRender || n.mData !== l) && (!h.isPlainObject(n.mData) || n.mData._ !== l + ".display")) i.innerHTML = B(a, b, l, "display");
                n.sClass && (i.className += " " + n.sClass);
                n.bVisible && !c ? j.appendChild(i) : !n.bVisible && c && i.parentNode.removeChild(i);
                n.fnCreatedCell && n.fnCreatedCell.call(a.oInstance, i, B(a, b, l), f, b, l)
            }
            s(a, "aoRowCreatedCallback", null, [j, f, b])
        }
        e.nTr.setAttribute("role", "row")
    }

    function Na(a, b) {
        var c = b.nTr,
            d = b._aData;
        if (c) {
            var e = a.rowIdFn(d);
            e && (c.id = e);
            d.DT_RowClass && (e = d.DT_RowClass.split(" "), b.__rowc = b.__rowc ? sa(b.__rowc.concat(e)) : e, h(c).removeClass(b.__rowc.join(" ")).addClass(d.DT_RowClass));
            d.DT_RowAttr && h(c).attr(d.DT_RowAttr);
            d.DT_RowData && h(c).data(d.DT_RowData)
        }
    }

    function mb(a) {
        var b, c, d, e, f, g = a.nTHead,
            j = a.nTFoot,
            i = 0 === h("th, td", g).length,
            n = a.oClasses,
            l = a.aoColumns;
        i && (e = h("<tr/>").appendTo(g));
        b = 0;
        for (c = l.length; b < c; b++) f = l[b], d = h(f.nTh).addClass(f.sClass), i && d.appendTo(e), a.oFeatures.bSort && (d.addClass(f.sSortingClass), !1 !== f.bSortable && (d.attr("tabindex", a.iTabIndex).attr("aria-controls", a.sTableId), Oa(a, f.nTh, b))), f.sTitle != d[0].innerHTML && d.html(f.sTitle), Pa(a, "header")(a, d, f, n);
        i && ea(a.aoHeader, g);
        h(g).find(">tr").attr("role", "row");
        h(g).find(">tr>th, >tr>td").addClass(n.sHeaderTH);
        h(j).find(">tr>th, >tr>td").addClass(n.sFooterTH);
        if (null !== j) {
            a = a.aoFooter[0];
            b = 0;
            for (c = a.length; b < c; b++) f = l[b], f.nTf = a[b].cell, f.sClass && h(f.nTf).addClass(f.sClass)
        }
    }

    function fa(a, b, c) {
        var d, e, f, g = [],
            j = [],
            i = a.aoColumns.length,
            n;
        if (b) {
            c === k && (c = !1);
            d = 0;
            for (e = b.length; d < e; d++) {
                g[d] = b[d].slice();
                g[d].nTr = b[d].nTr;
                for (f = i - 1; 0 <= f; f--) !a.aoColumns[f].bVisible && !c && g[d].splice(f, 1);
                j.push([])
            }
            d = 0;
            for (e = g.length; d < e; d++) {
                if (a = g[d].nTr)
                    for (; f = a.firstChild;) a.removeChild(f);
                f = 0;
                for (b = g[d].length; f < b; f++)
                    if (n = i = 1, j[d][f] === k) {
                        a.appendChild(g[d][f].cell);
                        for (j[d][f] = 1; g[d + i] !== k && g[d][f].cell == g[d + i][f].cell;) j[d + i][f] = 1, i++;
                        for (; g[d][f + n] !== k && g[d][f].cell == g[d][f + n].cell;) {
                            for (c = 0; c < i; c++) j[d + c][f + n] = 1;
                            n++
                        }
                        h(g[d][f].cell).attr("rowspan", i).attr("colspan", n)
                    }
            }
        }
    }

    function O(a) {
        var b = s(a, "aoPreDrawCallback", "preDraw", [a]);
        if (-1 !== h.inArray(!1, b)) C(a, !1);
        else {
            var b = [],
                c = 0,
                d = a.asStripeClasses,
                e = d.length,
                f = a.oLanguage,
                g = a.iInitDisplayStart,
                j = "ssp" == y(a),
                i = a.aiDisplay;
            a.bDrawing = !0;
            g !== k && -1 !== g && (a._iDisplayStart = j ? g : g >= a.fnRecordsDisplay() ? 0 : g, a.iInitDisplayStart = -1);
            var g = a._iDisplayStart,
                n = a.fnDisplayEnd();
            if (a.bDeferLoading) a.bDeferLoading = !1, a.iDraw++, C(a, !1);
            else if (j) {
                if (!a.bDestroying && !nb(a)) return
            } else a.iDraw++;
            if (0 !== i.length) {
                f = j ? a.aoData.length : n;
                for (j = j ? 0 : g; j < f; j++) {
                    var l = i[j],
                        q = a.aoData[l];
                    null === q.nTr && Ja(a, l);
                    l = q.nTr;
                    if (0 !== e) {
                        var r = d[c % e];
                        q._sRowStripe != r && (h(l).removeClass(q._sRowStripe).addClass(r), q._sRowStripe = r)
                    }
                    s(a, "aoRowCallback", null, [l, q._aData, c, j]);
                    b.push(l);
                    c++
                }
            } else c = f.sZeroRecords, 1 == a.iDraw && "ajax" == y(a) ? c = f.sLoadingRecords : f.sEmptyTable && 0 === a.fnRecordsTotal() && (c = f.sEmptyTable), b[0] = h("<tr/>", {
                "class": e ? d[0] : ""
            }).append(h("<td />", {
                valign: "top",
                colSpan: ba(a),
                "class": a.oClasses.sRowEmpty
            }).html(c))[0];
            s(a, "aoHeaderCallback", "header", [h(a.nTHead).children("tr")[0], Ma(a), g, n, i]);
            s(a, "aoFooterCallback", "footer", [h(a.nTFoot).children("tr")[0], Ma(a), g, n, i]);
            d = h(a.nTBody);
            d.children().detach();
            d.append(h(b));
            s(a, "aoDrawCallback", "draw", [a]);
            a.bSorted = !1;
            a.bFiltered = !1;
            a.bDrawing = !1
        }
    }

    function T(a, b) {
        var c = a.oFeatures,
            d = c.bFilter;
        c.bSort && ob(a);
        d ? ga(a, a.oPreviousSearch) : a.aiDisplay = a.aiDisplayMaster.slice();
        !0 !== b && (a._iDisplayStart = 0);
        a._drawHold = b;
        O(a);
        a._drawHold = !1
    }

    function pb(a) {
        var b = a.oClasses,
            c = h(a.nTable),
            c = h("<div/>").insertBefore(c),
            d = a.oFeatures,
            e = h("<div/>", {
                id: a.sTableId + "_wrapper",
                "class": b.sWrapper + (a.nTFoot ? "" : " " + b.sNoFooter)
            });
        a.nHolding = c[0];
        a.nTableWrapper = e[0];
        a.nTableReinsertBefore = a.nTable.nextSibling;
        for (var f = a.sDom.split(""), g, j, i, n, l, q, k = 0; k < f.length; k++) {
            g = null;
            j = f[k];
            if ("<" == j) {
                i = h("<div/>")[0];
                n = f[k + 1];
                if ("'" == n || '"' == n) {
                    l = "";
                    for (q = 2; f[k + q] != n;) l += f[k + q], q++;
                    "H" == l ? l = b.sJUIHeader : "F" == l && (l = b.sJUIFooter); - 1 != l.indexOf(".") ? (n = l.split("."), i.id = n[0].substr(1, n[0].length - 1), i.className = n[1]) : "#" == l.charAt(0) ? i.id = l.substr(1, l.length - 1) : i.className = l;
                    k += q
                }
                e.append(i);
                e = h(i)
            } else if (">" == j) e = e.parent();
            else if ("l" == j && d.bPaginate && d.bLengthChange) g = qb(a);
            else if ("f" == j && d.bFilter) g = rb(a);
            else if ("r" == j && d.bProcessing) g = sb(a);
            else if ("t" == j) g = tb(a);
            else if ("i" == j && d.bInfo) g = ub(a);
            else if ("p" == j && d.bPaginate) g = vb(a);
            else if (0 !== m.ext.feature.length) {
                i = m.ext.feature;
                q = 0;
                for (n = i.length; q < n; q++)
                    if (j == i[q].cFeature) {
                        g = i[q].fnInit(a);
                        break
                    }
            }
            g && (i = a.aanFeatures, i[j] || (i[j] = []), i[j].push(g), e.append(g))
        }
        c.replaceWith(e);
        a.nHolding = null
    }

    function ea(a, b) {
        var c = h(b).children("tr"),
            d, e, f, g, j, i, n, l, q, k;
        a.splice(0, a.length);
        f = 0;
        for (i = c.length; f < i; f++) a.push([]);
        f = 0;
        for (i = c.length; f < i; f++) {
            d = c[f];
            for (e = d.firstChild; e;) {
                if ("TD" == e.nodeName.toUpperCase() || "TH" == e.nodeName.toUpperCase()) {
                    l = 1 * e.getAttribute("colspan");
                    q = 1 * e.getAttribute("rowspan");
                    l = !l || 0 === l || 1 === l ? 1 : l;
                    q = !q || 0 === q || 1 === q ? 1 : q;
                    g = 0;
                    for (j = a[f]; j[g];) g++;
                    n = g;
                    k = 1 === l ? !0 : !1;
                    for (j = 0; j < l; j++)
                        for (g = 0; g < q; g++) a[f + g][n + j] = {
                            cell: e,
                            unique: k
                        }, a[f + g].nTr = d
                }
                e = e.nextSibling
            }
        }
    }

    function ta(a, b, c) {
        var d = [];
        c || (c = a.aoHeader, b && (c = [], ea(c, b)));
        for (var b = 0, e = c.length; b < e; b++)
            for (var f = 0, g = c[b].length; f < g; f++)
                if (c[b][f].unique && (!d[f] || !a.bSortCellsTop)) d[f] = c[b][f].cell;
        return d
    }

    function ua(a, b, c) {
        s(a, "aoServerParams", "serverParams", [b]);
        if (b && h.isArray(b)) {
            var d = {},
                e = /(.*?)\[\]$/;
            h.each(b, function(a, b) {
                var c = b.name.match(e);
                c ? (c = c[0], d[c] || (d[c] = []), d[c].push(b.value)) : d[b.name] = b.value
            });
            b = d
        }
        var f, g = a.ajax,
            j = a.oInstance,
            i = function(b) {
                s(a, null, "xhr", [a, b, a.jqXHR]);
                c(b)
            };
        if (h.isPlainObject(g) && g.data) {
            f = g.data;
            var n = h.isFunction(f) ? f(b, a) : f,
                b = h.isFunction(f) && n ? n : h.extend(!0, b, n);
            delete g.data
        }
        n = {
            data: b,
            success: function(b) {
                var c = b.error || b.sError;
                c && K(a, 0, c);
                a.json = b;
                i(b)
            },
            dataType: "json",
            cache: !1,
            type: a.sServerMethod,
            error: function(b, c) {
                var d = s(a, null, "xhr", [a, null, a.jqXHR]); - 1 === h.inArray(!0, d) && ("parsererror" == c ? K(a, 0, "Invalid JSON response", 1) : 4 === b.readyState && K(a, 0, "Ajax error", 7));
                C(a, !1)
            }
        };
        a.oAjaxData = b;
        s(a, null, "preXhr", [a, b]);
        a.fnServerData ? a.fnServerData.call(j, a.sAjaxSource, h.map(b, function(a, b) {
            return {
                name: b,
                value: a
            }
        }), i, a) : a.sAjaxSource || "string" === typeof g ? a.jqXHR = h.ajax(h.extend(n, {
            url: g || a.sAjaxSource
        })) : h.isFunction(g) ? a.jqXHR = g.call(j, b, i, a) : (a.jqXHR = h.ajax(h.extend(n, g)), g.data = f)
    }

    function nb(a) {
        return a.bAjaxDataGet ? (a.iDraw++, C(a, !0), ua(a, wb(a), function(b) {
            xb(a, b)
        }), !1) : !0
    }

    function wb(a) {
        var b = a.aoColumns,
            c = b.length,
            d = a.oFeatures,
            e = a.oPreviousSearch,
            f = a.aoPreSearchCols,
            g, j = [],
            i, n, l, k = W(a);
        g = a._iDisplayStart;
        i = !1 !== d.bPaginate ? a._iDisplayLength : -1;
        var r = function(a, b) {
            j.push({
                name: a,
                value: b
            })
        };
        r("sEcho", a.iDraw);
        r("iColumns", c);
        r("sColumns", D(b, "sName").join(","));
        r("iDisplayStart", g);
        r("iDisplayLength", i);
        var ra = {
            draw: a.iDraw,
            columns: [],
            order: [],
            start: g,
            length: i,
            search: {
                value: e.sSearch,
                regex: e.bRegex
            }
        };
        for (g = 0; g < c; g++) n = b[g], l = f[g], i = "function" == typeof n.mData ? "function" : n.mData, ra.columns.push({
            data: i,
            name: n.sName,
            searchable: n.bSearchable,
            orderable: n.bSortable,
            search: {
                value: l.sSearch,
                regex: l.bRegex
            }
        }), r("mDataProp_" + g, i), d.bFilter && (r("sSearch_" + g, l.sSearch), r("bRegex_" + g, l.bRegex), r("bSearchable_" + g, n.bSearchable)), d.bSort && r("bSortable_" + g, n.bSortable);
        d.bFilter && (r("sSearch", e.sSearch), r("bRegex", e.bRegex));
        d.bSort && (h.each(k, function(a, b) {
            ra.order.push({
                column: b.col,
                dir: b.dir
            });
            r("iSortCol_" + a, b.col);
            r("sSortDir_" + a, b.dir)
        }), r("iSortingCols", k.length));
        b = m.ext.legacy.ajax;
        return null === b ? a.sAjaxSource ? j : ra : b ? j : ra
    }

    function xb(a, b) {
        var c = va(a, b),
            d = b.sEcho !== k ? b.sEcho : b.draw,
            e = b.iTotalRecords !== k ? b.iTotalRecords : b.recordsTotal,
            f = b.iTotalDisplayRecords !== k ? b.iTotalDisplayRecords : b.recordsFiltered;
        if (d) {
            if (1 * d < a.iDraw) return;
            a.iDraw = 1 * d
        }
        pa(a);
        a._iRecordsTotal = parseInt(e, 10);
        a._iRecordsDisplay = parseInt(f, 10);
        d = 0;
        for (e = c.length; d < e; d++) N(a, c[d]);
        a.aiDisplay = a.aiDisplayMaster.slice();
        a.bAjaxDataGet = !1;
        O(a);
        a._bInitComplete || wa(a, b);
        a.bAjaxDataGet = !0;
        if (a.aoColumns.length >= 15) {
           var a_header1 = a.aoColumns[13].sTitle;
           var a_header2 = a.aoColumns[14].sTitle;
           a_header1 = a_header1.replace(/[^0-9]/g, "");
           a_header2 = a_header2.replace(/[^0-9]/g, "");
          // jQuery('#iump_extracharge1').val(Number(a_header1));
          //  jQuery('#iump_extracharge2').val(Number(a_header2));
        }
        C(a, !1)
    }

    function va(a, b) {
        var c = h.isPlainObject(a.ajax) && a.ajax.dataSrc !== k ? a.ajax.dataSrc : a.sAjaxDataProp;
        return "data" === c ? b.aaData || b[c] : "" !== c ? R(c)(b) : b
    }

    function rb(a) {
        var b = a.oClasses,
            c = a.sTableId,
            d = a.oLanguage,
            e = a.oPreviousSearch,
            f = a.aanFeatures,
            g = '<input type="search" class="' + b.sFilterInput + '"/>',
            j = d.sSearch,
            j = j.match(/_INPUT_/) ? j.replace("_INPUT_", g) : j + g,
            b = h("<div/>", {
                id: !f.f ? c + "_filter" : null,
                "class": b.sFilter
            }).append(h("<label/>").append(j)),
            f = function() {
                var b = !this.value ? "" : this.value;
                b != e.sSearch && (ga(a, {
                    sSearch: b,
                    bRegex: e.bRegex,
                    bSmart: e.bSmart,
                    bCaseInsensitive: e.bCaseInsensitive
                }), a._iDisplayStart = 0, O(a))
            },
            g = null !== a.searchDelay ? a.searchDelay : "ssp" === y(a) ? 400 : 0,
            i = h("input", b).val(e.sSearch).attr("placeholder", d.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT", g ? Qa(f, g) : f).on("keypress.DT", function(a) {
                if (13 == a.keyCode) return !1
            }).attr("aria-controls", c);
        h(a.nTable).on("search.dt.DT", function(b, c) {
            if (a === c) try {
                i[0] !== H.activeElement && i.val(e.sSearch)
            } catch (d) {}
        });
        return b[0]
    }

    function ga(a, b, c) {
        var d = a.oPreviousSearch,
            e = a.aoPreSearchCols,
            f = function(a) {
                d.sSearch = a.sSearch;
                d.bRegex = a.bRegex;
                d.bSmart = a.bSmart;
                d.bCaseInsensitive = a.bCaseInsensitive
            };
        Ia(a);
        if ("ssp" != y(a)) {
            yb(a, b.sSearch, c, b.bEscapeRegex !== k ? !b.bEscapeRegex : b.bRegex, b.bSmart, b.bCaseInsensitive);
            f(b);
            for (b = 0; b < e.length; b++) zb(a, e[b].sSearch, b, e[b].bEscapeRegex !== k ? !e[b].bEscapeRegex : e[b].bRegex, e[b].bSmart, e[b].bCaseInsensitive);
            Ab(a)
        } else f(b);
        a.bFiltered = !0;
        s(a, null, "search", [a])
    }

    function Ab(a) {
        for (var b = m.ext.search, c = a.aiDisplay, d, e, f = 0, g = b.length; f < g; f++) {
            for (var j = [], i = 0, n = c.length; i < n; i++) e = c[i], d = a.aoData[e], b[f](a, d._aFilterData, e, d._aData, i) && j.push(e);
            c.length = 0;
            h.merge(c, j)
        }
    }

    function zb(a, b, c, d, e, f) {
        if ("" !== b) {
            for (var g = [], j = a.aiDisplay, d = Ra(b, d, e, f), e = 0; e < j.length; e++) b = a.aoData[j[e]]._aFilterData[c], d.test(b) && g.push(j[e]);
            a.aiDisplay = g
        }
    }

    function yb(a, b, c, d, e, f) {
        var d = Ra(b, d, e, f),
            f = a.oPreviousSearch.sSearch,
            g = a.aiDisplayMaster,
            j, e = [];
        0 !== m.ext.search.length && (c = !0);
        j = Bb(a);
        if (0 >= b.length) a.aiDisplay = g.slice();
        else {
            if (j || c || f.length > b.length || 0 !== b.indexOf(f) || a.bSorted) a.aiDisplay = g.slice();
            b = a.aiDisplay;
            for (c = 0; c < b.length; c++) d.test(a.aoData[b[c]]._sFilterRow) && e.push(b[c]);
            a.aiDisplay = e
        }
    }

    function Ra(a, b, c, d) {
        a = b ? a : Sa(a);
        c && (a = "^(?=.*?" + h.map(a.match(/"[^"]+"|[^ ]+/g) || [""], function(a) {
            if ('"' === a.charAt(0)) var b = a.match(/^"(.*)"$/),
                a = b ? b[1] : a;
            return a.replace('"', "")
        }).join(")(?=.*?") + ").*$");
        return RegExp(a, d ? "i" : "")
    }

    function Bb(a) {
        var b = a.aoColumns,
            c, d, e, f, g, j, i, h, l = m.ext.type.search;
        c = !1;
        d = 0;
        for (f = a.aoData.length; d < f; d++)
            if (h = a.aoData[d], !h._aFilterData) {
                j = [];
                e = 0;
                for (g = b.length; e < g; e++) c = b[e], c.bSearchable ? (i = B(a, d, e, "filter"), l[c.sType] && (i = l[c.sType](i)), null === i && (i = ""), "string" !== typeof i && i.toString && (i = i.toString())) : i = "", i.indexOf && -1 !== i.indexOf("&") && (xa.innerHTML = i, i = $b ? xa.textContent : xa.innerText), i.replace && (i = i.replace(/[\r\n]/g, "")), j.push(i);
                h._aFilterData = j;
                h._sFilterRow = j.join("  ");
                c = !0
            }
        return c
    }

    function Cb(a) {
        return {
            search: a.sSearch,
            smart: a.bSmart,
            regex: a.bRegex,
            caseInsensitive: a.bCaseInsensitive
        }
    }

    function Db(a) {
        return {
            sSearch: a.search,
            bSmart: a.smart,
            bRegex: a.regex,
            bCaseInsensitive: a.caseInsensitive
        }
    }

    function ub(a) {
        var b = a.sTableId,
            c = a.aanFeatures.i,
            d = h("<div/>", {
                "class": a.oClasses.sInfo,
                id: !c ? b + "_info" : null
            });
        c || (a.aoDrawCallback.push({
            fn: Eb,
            sName: "information"
        }), d.attr("role", "status").attr("aria-live", "polite"), h(a.nTable).attr("aria-describedby", b + "_info"));
        return d[0]
    }

    function Eb(a) {
        var b = a.aanFeatures.i;
        if (0 !== b.length) {
            var c = a.oLanguage,
                d = a._iDisplayStart + 1,
                e = a.fnDisplayEnd(),
                f = a.fnRecordsTotal(),
                g = a.fnRecordsDisplay(),
                j = g ? c.sInfo : c.sInfoEmpty;
            g !== f && (j += " " + c.sInfoFiltered);
            j += c.sInfoPostFix;
            j = Fb(a, j);
            c = c.fnInfoCallback;
            null !== c && (j = c.call(a.oInstance, a, d, e, f, g, j));
            h(b).html(j)
        }
    }

    function Fb(a, b) {
        var c = a.fnFormatNumber,
            d = a._iDisplayStart + 1,
            e = a._iDisplayLength,
            f = a.fnRecordsDisplay(),
            g = -1 === e;
        return b.replace(/_START_/g, c.call(a, d)).replace(/_END_/g, c.call(a, a.fnDisplayEnd())).replace(/_MAX_/g, c.call(a, a.fnRecordsTotal())).replace(/_TOTAL_/g, c.call(a, f)).replace(/_PAGE_/g, c.call(a, g ? 1 : Math.ceil(d / e))).replace(/_PAGES_/g, c.call(a, g ? 1 : Math.ceil(f / e)))
    }

    function ha(a) {
        var b, c, d = a.iInitDisplayStart,
            e = a.aoColumns,
            f;
        c = a.oFeatures;
        var g = a.bDeferLoading;
        if (a.bInitialised) {
            pb(a);
            mb(a);
            fa(a, a.aoHeader);
            fa(a, a.aoFooter);
            C(a, !0);
            c.bAutoWidth && Ha(a);
            b = 0;
            for (c = e.length; b < c; b++) f = e[b], f.sWidth && (f.nTh.style.width = v(f.sWidth));
            s(a, null, "preInit", [a]);
            T(a);
            e = y(a);
            if ("ssp" != e || g) "ajax" == e ? ua(a, [], function(c) {
                var f = va(a, c);
                for (b = 0; b < f.length; b++) N(a, f[b]);
                a.iInitDisplayStart = d;
                T(a);
                C(a, !1);
                wa(a, c)
            }, a) : (C(a, !1), wa(a))
        } else setTimeout(function() {
            ha(a)
        }, 200)
    }

    function wa(a, b) {
        a._bInitComplete = !0;
        (b || a.oInit.aaData) && Z(a);
        s(a, null, "plugin-init", [a, b]);
        s(a, "aoInitComplete", "init", [a, b])
    }

    function Ta(a, b) {
        var c = parseInt(b, 10);
        a._iDisplayLength = c;
        Ua(a);
        s(a, null, "length", [a, c])
    }

    function qb(a) {
        for (var b = a.oClasses, c = a.sTableId, d = a.aLengthMenu, e = h.isArray(d[0]), f = e ? d[0] : d, d = e ? d[1] : d, e = h("<select/>", {
                name: c + "_length",
                "aria-controls": c,
                "class": b.sLengthSelect
            }), g = 0, j = f.length; g < j; g++) e[0][g] = new Option(d[g], f[g]);
        var i = h("<div><label/></div>").addClass(b.sLength);
        a.aanFeatures.l || (i[0].id = c + "_length");
        i.children().append(a.oLanguage.sLengthMenu.replace("_MENU_", e[0].outerHTML));
        h("select", i).val(a._iDisplayLength).on("change.DT", function() {
            Ta(a, h(this).val());
            O(a)
        });
        h(a.nTable).on("length.dt.DT", function(b, c, d) {
            a === c && h("select", i).val(d)
        });
        return i[0]
    }

    function vb(a) {
        var b = a.sPaginationType,
            c = m.ext.pager[b],
            d = "function" === typeof c,
            e = function(a) {
                O(a)
            },
            b = h("<div/>").addClass(a.oClasses.sPaging + b)[0],
            f = a.aanFeatures;
        d || c.fnInit(a, b, e);
        f.p || (b.id = a.sTableId + "_paginate", a.aoDrawCallback.push({
            fn: function(a) {
                if (d) {
                    var b = a._iDisplayStart,
                        i = a._iDisplayLength,
                        h = a.fnRecordsDisplay(),
                        l = -1 === i,
                        b = l ? 0 : Math.ceil(b / i),
                        i = l ? 1 : Math.ceil(h / i),
                        h = c(b, i),
                        k, l = 0;
                    for (k = f.p.length; l < k; l++) Pa(a, "pageButton")(a, f.p[l], l, h, b, i)
                } else c.fnUpdate(a, e)
            },
            sName: "pagination"
        }));
        return b
    }

    function Va(a, b, c) {
        var d = a._iDisplayStart,
            e = a._iDisplayLength,
            f = a.fnRecordsDisplay();
        0 === f || -1 === e ? d = 0 : "number" === typeof b ? (d = b * e, d > f && (d = 0)) : "first" == b ? d = 0 : "previous" == b ? (d = 0 <= e ? d - e : 0, 0 > d && (d = 0)) : "next" == b ? d + e < f && (d += e) : "last" == b ? d = Math.floor((f - 1) / e) * e : K(a, 0, "Unknown paging action: " + b, 5);
        b = a._iDisplayStart !== d;
        a._iDisplayStart = d;
        b && (s(a, null, "page", [a]), c && O(a));
        return b
    }

    function sb(a) {
        return h("<div/>", {
            id: !a.aanFeatures.r ? a.sTableId + "_processing" : null,
            "class": a.oClasses.sProcessing
        }).html(a.oLanguage.sProcessing).insertBefore(a.nTable)[0]
    }

    function C(a, b) {
        a.oFeatures.bProcessing && h(a.aanFeatures.r).css("display", b ? "block" : "none");
        s(a, null, "processing", [a, b])
    }

    function tb(a) {
        var b = h(a.nTable);
        b.attr("role", "grid");
        var c = a.oScroll;
        if ("" === c.sX && "" === c.sY) return a.nTable;
        var d = c.sX,
            e = c.sY,
            f = a.oClasses,
            g = b.children("caption"),
            j = g.length ? g[0]._captionSide : null,
            i = h(b[0].cloneNode(!1)),
            n = h(b[0].cloneNode(!1)),
            l = b.children("tfoot");
        l.length || (l = null);
        i = h("<div/>", {
            "class": f.sScrollWrapper
        }).append(h("<div/>", {
            "class": f.sScrollHead
        }).css({
            overflow: "hidden",
            position: "relative",
            border: 0,
            width: d ? !d ? null : v(d) : "100%"
        }).append(h("<div/>", {
            "class": f.sScrollHeadInner
        }).css({
            "box-sizing": "content-box",
            width: c.sXInner || "100%"
        }).append(i.removeAttr("id").css("margin-left", 0).append("top" === j ? g : null).append(b.children("thead"))))).append(h("<div/>", {
            "class": f.sScrollBody
        }).css({
            position: "relative",
            overflow: "auto",
            width: !d ? null : v(d)
        }).append(b));
        l && i.append(h("<div/>", {
            "class": f.sScrollFoot
        }).css({
            overflow: "hidden",
            border: 0,
            width: d ? !d ? null : v(d) : "100%"
        }).append(h("<div/>", {
            "class": f.sScrollFootInner
        }).append(n.removeAttr("id").css("margin-left", 0).append("bottom" === j ? g : null).append(b.children("tfoot")))));
        var b = i.children(),
            k = b[0],
            f = b[1],
            r = l ? b[2] : null;
        if (d) h(f).on("scroll.DT", function() {
            var a = this.scrollLeft;
            k.scrollLeft = a;
            l && (r.scrollLeft = a)
        });
        h(f).css(e && c.bCollapse ? "max-height" : "height", e);
        a.nScrollHead = k;
        a.nScrollBody = f;
        a.nScrollFoot = r;
        a.aoDrawCallback.push({
            fn: ma,
            sName: "scrolling"
        });
        return i[0]
    }

    function ma(a) {
        var b = a.oScroll,
            c = b.sX,
            d = b.sXInner,
            e = b.sY,
            b = b.iBarWidth,
            f = h(a.nScrollHead),
            g = f[0].style,
            j = f.children("div"),
            i = j[0].style,
            n = j.children("table"),
            j = a.nScrollBody,
            l = h(j),
            q = j.style,
            r = h(a.nScrollFoot).children("div"),
            m = r.children("table"),
            p = h(a.nTHead),
            o = h(a.nTable),
            t = o[0],
            s = t.style,
            u = a.nTFoot ? h(a.nTFoot) : null,
            x = a.oBrowser,
            U = x.bScrollOversize,
            ac = D(a.aoColumns, "nTh"),
            P, L, Q, w, Wa = [],
            y = [],
            z = [],
            A = [],
            B, C = function(a) {
                a = a.style;
                a.paddingTop = "0";
                a.paddingBottom = "0";
                a.borderTopWidth = "0";
                a.borderBottomWidth = "0";
                a.height = 0
            };
        L = j.scrollHeight > j.clientHeight;
        if (a.scrollBarVis !== L && a.scrollBarVis !== k) a.scrollBarVis = L, Z(a);
        else {
            a.scrollBarVis = L;
            o.children("thead, tfoot").remove();
            u && (Q = u.clone().prependTo(o), P = u.find("tr"), Q = Q.find("tr"));
            w = p.clone().prependTo(o);
            p = p.find("tr");
            L = w.find("tr");
            w.find("th, td").removeAttr("tabindex");
            c || (q.width = "100%", f[0].style.width = "100%");
            h.each(ta(a, w), function(b, c) {
                B = $(a, b);
                c.style.width = a.aoColumns[B].sWidth
            });
            u && I(function(a) {
                a.style.width = ""
            }, Q);
            f = o.outerWidth();
            if ("" === c) {
                s.width = "100%";
                if (U && (o.find("tbody").height() > j.offsetHeight || "scroll" == l.css("overflow-y"))) s.width = v(o.outerWidth() - b);
                f = o.outerWidth()
            } else "" !== d && (s.width = v(d), f = o.outerWidth());
            I(C, L);
            I(function(a) {
                z.push(a.innerHTML);
                Wa.push(v(h(a).css("width")))
            }, L);
            I(function(a, b) {
                if (h.inArray(a, ac) !== -1) a.style.width = Wa[b]
            }, p);
            h(L).height(0);
            u && (I(C, Q), I(function(a) {
                A.push(a.innerHTML);
                y.push(v(h(a).css("width")))
            }, Q), I(function(a, b) {
                a.style.width = y[b]
            }, P), h(Q).height(0));
            I(function(a, b) {
                a.innerHTML = '<div class="dataTables_sizing" style="height:0;overflow:hidden;">' + z[b] + "</div>";
                a.style.width = Wa[b]
            }, L);
            u && I(function(a, b) {
                a.innerHTML = '<div class="dataTables_sizing" style="height:0;overflow:hidden;">' + A[b] + "</div>";
                a.style.width = y[b]
            }, Q);
            if (o.outerWidth() < f) {
                P = j.scrollHeight > j.offsetHeight || "scroll" == l.css("overflow-y") ? f + b : f;
                if (U && (j.scrollHeight > j.offsetHeight || "scroll" == l.css("overflow-y"))) s.width = v(P - b);
                ("" === c || "" !== d) && K(a, 1, "Possible column misalignment", 6)
            } else P = "100%";
            q.width = v(P);
            g.width = v(P);
            u && (a.nScrollFoot.style.width = v(P));
            !e && U && (q.height = v(t.offsetHeight + b));
            c = o.outerWidth();
            n[0].style.width = v(c);
            i.width = v(c);
            d = o.height() > j.clientHeight || "scroll" == l.css("overflow-y");
            e = "padding" + (x.bScrollbarLeft ? "Left" : "Right");
            i[e] = d ? b + "px" : "0px";
            u && (m[0].style.width = v(c), r[0].style.width = v(c), r[0].style[e] = d ? b + "px" : "0px");
            o.children("colgroup").insertBefore(o.children("thead"));
            l.scroll();
            if ((a.bSorted || a.bFiltered) && !a._drawHold) j.scrollTop = 0
        }
    }

    function I(a, b, c) {
        for (var d = 0, e = 0, f = b.length, g, j; e < f;) {
            g = b[e].firstChild;
            for (j = c ? c[e].firstChild : null; g;) 1 === g.nodeType && (c ? a(g, j, d) : a(g, d), d++), g = g.nextSibling, j = c ? j.nextSibling : null;
            e++
        }
    }

    function Ha(a) {
        var b = a.nTable,
            c = a.aoColumns,
            d = a.oScroll,
            e = d.sY,
            f = d.sX,
            g = d.sXInner,
            j = c.length,
            i = na(a, "bVisible"),
            n = h("th", a.nTHead),
            l = b.getAttribute("width"),
            k = b.parentNode,
            r = !1,
            m, p, o = a.oBrowser,
            d = o.bScrollOversize;
        (m = b.style.width) && -1 !== m.indexOf("%") && (l = m);
        for (m = 0; m < i.length; m++) p = c[i[m]], null !== p.sWidth && (p.sWidth = Gb(p.sWidthOrig, k), r = !0);
        if (d || !r && !f && !e && j == ba(a) && j == n.length)
            for (m = 0; m < j; m++) i = $(a, m), null !== i && (c[i].sWidth = v(n.eq(m).width()));
        else {
            j = h(b).clone().css("visibility", "hidden").removeAttr("id");
            j.find("tbody tr").remove();
            var t = h("<tr/>").appendTo(j.find("tbody"));
            j.find("thead, tfoot").remove();
            j.append(h(a.nTHead).clone()).append(h(a.nTFoot).clone());
            j.find("tfoot th, tfoot td").css("width", "");
            n = ta(a, j.find("thead")[0]);
            for (m = 0; m < i.length; m++) p = c[i[m]], n[m].style.width = null !== p.sWidthOrig && "" !== p.sWidthOrig ? v(p.sWidthOrig) : "", p.sWidthOrig && f && h(n[m]).append(h("<div/>").css({
                width: p.sWidthOrig,
                margin: 0,
                padding: 0,
                border: 0,
                height: 1
            }));
            if (a.aoData.length)
                for (m = 0; m < i.length; m++) r = i[m], p = c[r], h(Hb(a, r)).clone(!1).append(p.sContentPadding).appendTo(t);
            h("[name]", j).removeAttr("name");
            p = h("<div/>").css(f || e ? {
                position: "absolute",
                top: 0,
                left: 0,
                height: 1,
                right: 0,
                overflow: "hidden"
            } : {}).append(j).appendTo(k);
            f && g ? j.width(g) : f ? (j.css("width", "auto"), j.removeAttr("width"), j.width() < k.clientWidth && l && j.width(k.clientWidth)) : e ? j.width(k.clientWidth) : l && j.width(l);
            for (m = e = 0; m < i.length; m++) k = h(n[m]), g = k.outerWidth() - k.width(), k = o.bBounding ? Math.ceil(n[m].getBoundingClientRect().width) : k.outerWidth(), e += k, c[i[m]].sWidth = v(k - g);
            b.style.width = v(e);
            p.remove()
        }
        l && (b.style.width = v(l));
        if ((l || f) && !a._reszEvt) b = function() {
            h(E).on("resize.DT-" + a.sInstance, Qa(function() {
                Z(a)
            }))
        }, d ? setTimeout(b, 1E3) : b(), a._reszEvt = !0
    }

    function Gb(a, b) {
        if (!a) return 0;
        var c = h("<div/>").css("width", v(a)).appendTo(b || H.body),
            d = c[0].offsetWidth;
        c.remove();
        return d
    }

    function Hb(a, b) {
        var c = Ib(a, b);
        if (0 > c) return null;
        var d = a.aoData[c];
        return !d.nTr ? h("<td/>").html(B(a, c, b, "display"))[0] : d.anCells[b]
    }

    function Ib(a, b) {
        for (var c, d = -1, e = -1, f = 0, g = a.aoData.length; f < g; f++) c = B(a, f, b, "display") + "", c = c.replace(bc, ""), c = c.replace(/&nbsp;/g, " "), c.length > d && (d = c.length, e = f);
        return e
    }

    function v(a) {
        return null === a ? "0px" : "number" == typeof a ? 0 > a ? "0px" : a + "px" : a.match(/\d$/) ? a + "px" : a
    }

    function W(a) {
        var b, c, d = [],
            e = a.aoColumns,
            f, g, j, i;
        b = a.aaSortingFixed;
        c = h.isPlainObject(b);
        var n = [];
        f = function(a) {
            a.length && !h.isArray(a[0]) ? n.push(a) : h.merge(n, a)
        };
        h.isArray(b) && f(b);
        c && b.pre && f(b.pre);
        f(a.aaSorting);
        c && b.post && f(b.post);
        for (a = 0; a < n.length; a++) {
            i = n[a][0];
            f = e[i].aDataSort;
            b = 0;
            for (c = f.length; b < c; b++) g = f[b], j = e[g].sType || "string", n[a]._idx === k && (n[a]._idx = h.inArray(n[a][1], e[g].asSorting)), d.push({
                src: i,
                col: g,
                dir: n[a][1],
                index: n[a]._idx,
                type: j,
                formatter: m.ext.type.order[j + "-pre"]
            })
        }
        return d
    }

    function ob(a) {
        var b, c, d = [],
            e = m.ext.type.order,
            f = a.aoData,
            g = 0,
            j, i = a.aiDisplayMaster,
            h;
        Ia(a);
        h = W(a);
        b = 0;
        for (c = h.length; b < c; b++) j = h[b], j.formatter && g++, Jb(a, j.col);
        if ("ssp" != y(a) && 0 !== h.length) {
            b = 0;
            for (c = i.length; b < c; b++) d[i[b]] = b;
            g === h.length ? i.sort(function(a, b) {
                var c, e, g, j, i = h.length,
                    k = f[a]._aSortData,
                    m = f[b]._aSortData;
                for (g = 0; g < i; g++)
                    if (j = h[g], c = k[j.col], e = m[j.col], c = c < e ? -1 : c > e ? 1 : 0, 0 !== c) return "asc" === j.dir ? c : -c;
                c = d[a];
                e = d[b];
                return c < e ? -1 : c > e ? 1 : 0
            }) : i.sort(function(a, b) {
                var c, g, j, i, k = h.length,
                    m = f[a]._aSortData,
                    p = f[b]._aSortData;
                for (j = 0; j < k; j++)
                    if (i = h[j], c = m[i.col], g = p[i.col], i = e[i.type + "-" + i.dir] || e["string-" + i.dir], c = i(c, g), 0 !== c) return c;
                c = d[a];
                g = d[b];
                return c < g ? -1 : c > g ? 1 : 0
            })
        }
        a.bSorted = !0
    }

    function Kb(a) {
        for (var b, c, d = a.aoColumns, e = W(a), a = a.oLanguage.oAria, f = 0, g = d.length; f < g; f++) {
            c = d[f];
            var j = c.asSorting;
            b = c.sTitle.replace(/<.*?>/g, "");
            var i = c.nTh;
            i.removeAttribute("aria-sort");
            c.bSortable && (0 < e.length && e[0].col == f ? (i.setAttribute("aria-sort", "asc" == e[0].dir ? "ascending" : "descending"), c = j[e[0].index + 1] || j[0]) : c = j[0], b += "asc" === c ? a.sSortAscending : a.sSortDescending);
            i.setAttribute("aria-label", b)
        }
    }

    function Xa(a, b, c, d) {
        var e = a.aaSorting,
            f = a.aoColumns[b].asSorting,
            g = function(a, b) {
                var c = a._idx;
                c === k && (c = h.inArray(a[1], f));
                return c + 1 < f.length ? c + 1 : b ? null : 0
            };
        "number" === typeof e[0] && (e = a.aaSorting = [e]);
        c && a.oFeatures.bSortMulti ? (c = h.inArray(b, D(e, "0")), -1 !== c ? (b = g(e[c], !0), null === b && 1 === e.length && (b = 0), null === b ? e.splice(c, 1) : (e[c][1] = f[b], e[c]._idx = b)) : (e.push([b, f[0], 0]), e[e.length - 1]._idx = 0)) : e.length && e[0][0] == b ? (b = g(e[0]), e.length = 1, e[0][1] = f[b], e[0]._idx = b) : (e.length = 0, e.push([b, f[0]]), e[0]._idx = 0);
        T(a);
        "function" == typeof d && d(a)
    }

    function Oa(a, b, c, d) {
        var e = a.aoColumns[c];
        Ya(b, {}, function(b) {
            !1 !== e.bSortable && (a.oFeatures.bProcessing ? (C(a, !0), setTimeout(function() {
                Xa(a, c, b.shiftKey, d);
                "ssp" !== y(a) && C(a, !1)
            }, 0)) : Xa(a, c, b.shiftKey, d))
        })
    }

    function ya(a) {
        var b = a.aLastSort,
            c = a.oClasses.sSortColumn,
            d = W(a),
            e = a.oFeatures,
            f, g;
        if (e.bSort && e.bSortClasses) {
            e = 0;
            for (f = b.length; e < f; e++) g = b[e].src, h(D(a.aoData, "anCells", g)).removeClass(c + (2 > e ? e + 1 : 3));
            e = 0;
            for (f = d.length; e < f; e++) g = d[e].src, h(D(a.aoData, "anCells", g)).addClass(c + (2 > e ? e + 1 : 3))
        }
        a.aLastSort = d
    }

    function Jb(a, b) {
        var c = a.aoColumns[b],
            d = m.ext.order[c.sSortDataType],
            e;
        d && (e = d.call(a.oInstance, a, b, aa(a, b)));
        for (var f, g = m.ext.type.order[c.sType + "-pre"], j = 0, i = a.aoData.length; j < i; j++)
            if (c = a.aoData[j], c._aSortData || (c._aSortData = []), !c._aSortData[b] || d) f = d ? e[j] : B(a, j, b, "sort"), c._aSortData[b] = g ? g(f) : f
    }

    function za(a) {
        if (a.oFeatures.bStateSave && !a.bDestroying) {
            var b = {
                time: +new Date,
                start: a._iDisplayStart,
                length: a._iDisplayLength,
                order: h.extend(!0, [], a.aaSorting),
                search: Cb(a.oPreviousSearch),
                columns: h.map(a.aoColumns, function(b, d) {
                    return {
                        visible: b.bVisible,
                        search: Cb(a.aoPreSearchCols[d])
                    }
                })
            };
            s(a, "aoStateSaveParams", "stateSaveParams", [a, b]);
            a.oSavedState = b;
            a.fnStateSaveCallback.call(a.oInstance, a, b)
        }
    }

    function Lb(a, b, c) {
        var d, e, f = a.aoColumns,
            b = function(b) {
                if (b && b.time) {
                    var g = s(a, "aoStateLoadParams", "stateLoadParams", [a, b]);
                    if (-1 === h.inArray(!1, g) && (g = a.iStateDuration, !(0 < g && b.time < +new Date - 1E3 * g) && !(b.columns && f.length !== b.columns.length))) {
                        a.oLoadedState = h.extend(!0, {}, b);
                        b.start !== k && (a._iDisplayStart = b.start, a.iInitDisplayStart = b.start);
                        b.length !== k && (a._iDisplayLength = b.length);
                        b.order !== k && (a.aaSorting = [], h.each(b.order, function(b, c) {
                            a.aaSorting.push(c[0] >= f.length ? [0, c[1]] : c)
                        }));
                        b.search !== k && h.extend(a.oPreviousSearch, Db(b.search));
                        if (b.columns) {
                            d = 0;
                            for (e = b.columns.length; d < e; d++) g = b.columns[d], g.visible !== k && (f[d].bVisible = g.visible), g.search !== k && h.extend(a.aoPreSearchCols[d], Db(g.search))
                        }
                        s(a, "aoStateLoaded", "stateLoaded", [a, b])
                    }
                }
                c()
            };
        if (a.oFeatures.bStateSave) {
            var g = a.fnStateLoadCallback.call(a.oInstance, a, b);
            g !== k && b(g)
        } else c()
    }

    function Aa(a) {
        var b = m.settings,
            a = h.inArray(a, D(b, "nTable"));
        return -1 !== a ? b[a] : null
    }

    function K(a, b, c, d) {
        c = "DataTables warning: " + (a ? "table id=" + a.sTableId + " - " : "") + c;
        d && (c += ". For more information about this error, please see http://datatables.net/tn/" + d);
        if (b) E.console && console.log && console.log(c);
        else if (b = m.ext, b = b.sErrMode || b.errMode, a && s(a, null, "error", [a, d, c]), "alert" == b) alert(c);
        else {
            if ("throw" == b) throw Error(c);
            "function" == typeof b && b(a, d, c)
        }
    }

    function F(a, b, c, d) {
        h.isArray(c) ? h.each(c, function(c, d) {
            h.isArray(d) ? F(a, b, d[0], d[1]) : F(a, b, d)
        }) : (d === k && (d = c), b[c] !== k && (a[d] = b[c]))
    }

    function Mb(a, b, c) {
        var d, e;
        for (e in b) b.hasOwnProperty(e) && (d = b[e], h.isPlainObject(d) ? (h.isPlainObject(a[e]) || (a[e] = {}), h.extend(!0, a[e], d)) : a[e] = c && "data" !== e && "aaData" !== e && h.isArray(d) ? d.slice() : d);
        return a
    }

    function Ya(a, b, c) {
        h(a).on("click.DT", b, function(b) {
            a.blur();
            c(b)
        }).on("keypress.DT", b, function(a) {
            13 === a.which && (a.preventDefault(), c(a))
        }).on("selectstart.DT", function() {
            return !1
        })
    }

    function z(a, b, c, d) {
        c && a[b].push({
            fn: c,
            sName: d
        })
    }

    function s(a, b, c, d) {
        var e = [];
        b && (e = h.map(a[b].slice().reverse(), function(b) {
            return b.fn.apply(a.oInstance, d)
        }));
        null !== c && (b = h.Event(c + ".dt"), h(a.nTable).trigger(b, d), e.push(b.result));
        return e
    }

    function Ua(a) {
        var b = a._iDisplayStart,
            c = a.fnDisplayEnd(),
            d = a._iDisplayLength;
        b >= c && (b = c - d);
        b -= b % d;
        if (-1 === d || 0 > b) b = 0;
        a._iDisplayStart = b
    }

    function Pa(a, b) {
        var c = a.renderer,
            d = m.ext.renderer[b];
        return h.isPlainObject(c) && c[b] ? d[c[b]] || d._ : "string" === typeof c ? d[c] || d._ : d._
    }

    function y(a) {
        return a.oFeatures.bServerSide ? "ssp" : a.ajax || a.sAjaxSource ? "ajax" : "dom"
    }

    function ia(a, b) {
        var c = [],
            c = Nb.numbers_length,
            d = Math.floor(c / 2);
        b <= c ? c = X(0, b) : a <= d ? (c = X(0, c - 2), c.push("ellipsis"), c.push(b - 1)) : (a >= b - 1 - d ? c = X(b - (c - 2), b) : (c = X(a - d + 2, a + d - 1), c.push("ellipsis"), c.push(b - 1)), c.splice(0, 0, "ellipsis"), c.splice(0, 0, 0));
        c.DT_el = "span";
        return c
    }

    function fb(a) {
        h.each({
            num: function(b) {
                return Ba(b, a)
            },
            "num-fmt": function(b) {
                return Ba(b, a, Za)
            },
            "html-num": function(b) {
                return Ba(b, a, Ca)
            },
            "html-num-fmt": function(b) {
                return Ba(b, a, Ca, Za)
            }
        }, function(b, c) {
            x.type.order[b + a + "-pre"] = c;
            b.match(/^html\-/) && (x.type.search[b + a] = x.type.search.html)
        })
    }

    function Ob(a) {
        return function() {
            var b = [Aa(this[m.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));
            return m.ext.internal[a].apply(this, b)
        }
    }
    var m = function(a) {
            this.$ = function(a, b) {
                return this.api(!0).$(a, b)
            };
            this._ = function(a, b) {
                return this.api(!0).rows(a, b).data()
            };
            this.api = function(a) {
                return a ? new t(Aa(this[x.iApiIndex])) : new t(this)
            };
            this.fnAddData = function(a, b) {
                var c = this.api(!0),
                    d = h.isArray(a) && (h.isArray(a[0]) || h.isPlainObject(a[0])) ? c.rows.add(a) : c.row.add(a);
                (b === k || b) && c.draw();
                return d.flatten().toArray()
            };
            this.fnAdjustColumnSizing = function(a) {
                var b = this.api(!0).columns.adjust(),
                    c = b.settings()[0],
                    d = c.oScroll;
                a === k || a ? b.draw(!1) : ("" !== d.sX || "" !== d.sY) && ma(c)
            };
            this.fnClearTable = function(a) {
                var b = this.api(!0).clear();
                (a === k || a) && b.draw()
            };
            this.fnClose = function(a) {
                this.api(!0).row(a).child.hide()
            };
            this.fnDeleteRow = function(a, b, c) {
                var d = this.api(!0),
                    a = d.rows(a),
                    e = a.settings()[0],
                    h = e.aoData[a[0][0]];
                a.remove();
                b && b.call(this, e, h);
                (c === k || c) && d.draw();
                return h
            };
            this.fnDestroy = function(a) {
                this.api(!0).destroy(a)
            };
            this.fnDraw = function(a) {
                this.api(!0).draw(a)
            };
            this.fnFilter = function(a, b, c, d, e, h) {
                e = this.api(!0);
                null === b || b === k ? e.search(a, c, d, h) : e.column(b).search(a, c, d, h);
                e.draw()
            };
            this.fnGetData = function(a, b) {
                var c = this.api(!0);
                if (a !== k) {
                    var d = a.nodeName ? a.nodeName.toLowerCase() : "";
                    return b !== k || "td" == d || "th" == d ? c.cell(a, b).data() : c.row(a).data() || null
                }
                return c.data().toArray()
            };
            this.fnGetNodes = function(a) {
                var b = this.api(!0);
                return a !== k ? b.row(a).node() : b.rows().nodes().flatten().toArray()
            };
            this.fnGetPosition = function(a) {
                var b = this.api(!0),
                    c = a.nodeName.toUpperCase();
                return "TR" == c ? b.row(a).index() : "TD" == c || "TH" == c ? (a = b.cell(a).index(), [a.row, a.columnVisible, a.column]) : null
            };
            this.fnIsOpen = function(a) {
                return this.api(!0).row(a).child.isShown()
            };
            this.fnOpen = function(a, b, c) {
                return this.api(!0).row(a).child(b, c).show().child()[0]
            };
            this.fnPageChange = function(a, b) {
                var c = this.api(!0).page(a);
                (b === k || b) && c.draw(!1)
            };
            this.fnSetColumnVis = function(a, b, c) {
                a = this.api(!0).column(a).visible(b);
                (c === k || c) && a.columns.adjust().draw()
            };
            this.fnSettings = function() {
                return Aa(this[x.iApiIndex])
            };
            this.fnSort = function(a) {
                this.api(!0).order(a).draw()
            };
            this.fnSortListener = function(a, b, c) {
                this.api(!0).order.listener(a, b, c)
            };
            this.fnUpdate = function(a, b, c, d, e) {
                var h = this.api(!0);
                c === k || null === c ? h.row(b).data(a) : h.cell(b, c).data(a);
                (e === k || e) && h.columns.adjust();
                (d === k || d) && h.draw();
                return 0
            };
            this.fnVersionCheck = x.fnVersionCheck;
            var b = this,
                c = a === k,
                d = this.length;
            c && (a = {});
            this.oApi = this.internal = x.internal;
            for (var e in m.ext.internal) e && (this[e] = Ob(e));
            this.each(function() {
                var e = {},
                    g = 1 < d ? Mb(e, a, !0) : a,
                    j = 0,
                    i, e = this.getAttribute("id"),
                    n = !1,
                    l = m.defaults,
                    q = h(this);
                if ("table" != this.nodeName.toLowerCase()) K(null, 0, "Non-table node initialisation (" + this.nodeName + ")", 2);
                else {
                    gb(l);
                    hb(l.column);
                    J(l, l, !0);
                    J(l.column, l.column, !0);
                    J(l, h.extend(g, q.data()));
                    var r = m.settings,
                        j = 0;
                    for (i = r.length; j < i; j++) {
                        var p = r[j];
                        if (p.nTable == this || p.nTHead.parentNode == this || p.nTFoot && p.nTFoot.parentNode == this) {
                            var t = g.bRetrieve !== k ? g.bRetrieve : l.bRetrieve;
                            if (c || t) return p.oInstance;
                            if (g.bDestroy !== k ? g.bDestroy : l.bDestroy) {
                                p.oInstance.fnDestroy();
                                break
                            } else {
                                K(p, 0, "Cannot reinitialise DataTable", 3);
                                return
                            }
                        }
                        if (p.sTableId == this.id) {
                            r.splice(j, 1);
                            break
                        }
                    }
                    if (null === e || "" === e) this.id = e = "DataTables_Table_" + m.ext._unique++;
                    var o = h.extend(!0, {}, m.models.oSettings, {
                        sDestroyWidth: q[0].style.width,
                        sInstance: e,
                        sTableId: e
                    });
                    o.nTable = this;
                    o.oApi = b.internal;
                    o.oInit = g;
                    r.push(o);
                    o.oInstance = 1 === b.length ? b : q.dataTable();
                    gb(g);
                    g.oLanguage && Fa(g.oLanguage);
                    g.aLengthMenu && !g.iDisplayLength && (g.iDisplayLength = h.isArray(g.aLengthMenu[0]) ? g.aLengthMenu[0][0] : g.aLengthMenu[0]);
                    g = Mb(h.extend(!0, {}, l), g);
                    F(o.oFeatures, g, "bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" "));
                    F(o, g, ["asStripeClasses", "ajax", "fnServerData", "fnFormatNumber", "sServerMethod", "aaSorting", "aaSortingFixed", "aLengthMenu", "sPaginationType", "sAjaxSource", "sAjaxDataProp", "iStateDuration", "sDom", "bSortCellsTop", "iTabIndex", "fnStateLoadCallback", "fnStateSaveCallback", "renderer", "searchDelay", "rowId", ["iCookieDuration", "iStateDuration"],
                        ["oSearch", "oPreviousSearch"],
                        ["aoSearchCols", "aoPreSearchCols"],
                        ["iDisplayLength", "_iDisplayLength"],
                        ["bJQueryUI", "bJUI"]
                    ]);
                    F(o.oScroll, g, [
                        ["sScrollX", "sX"],
                        ["sScrollXInner", "sXInner"],
                        ["sScrollY", "sY"],
                        ["bScrollCollapse", "bCollapse"]
                    ]);
                    F(o.oLanguage, g, "fnInfoCallback");
                    z(o, "aoDrawCallback", g.fnDrawCallback, "user");
                    z(o, "aoServerParams", g.fnServerParams, "user");
                    z(o, "aoStateSaveParams", g.fnStateSaveParams, "user");
                    z(o, "aoStateLoadParams", g.fnStateLoadParams, "user");
                    z(o, "aoStateLoaded", g.fnStateLoaded, "user");
                    z(o, "aoRowCallback", g.fnRowCallback, "user");
                    z(o, "aoRowCreatedCallback", g.fnCreatedRow, "user");
                    z(o, "aoHeaderCallback", g.fnHeaderCallback, "user");
                    z(o, "aoFooterCallback", g.fnFooterCallback, "user");
                    z(o, "aoInitComplete", g.fnInitComplete, "user");
                    z(o, "aoPreDrawCallback", g.fnPreDrawCallback, "user");
                    o.rowIdFn = R(g.rowId);
                    ib(o);
                    var u = o.oClasses;
                    g.bJQueryUI ? (h.extend(u, m.ext.oJUIClasses, g.oClasses), g.sDom === l.sDom && "lfrtip" === l.sDom && (o.sDom = '<"H"lfr>t<"F"ip>'), o.renderer) ? h.isPlainObject(o.renderer) && !o.renderer.header && (o.renderer.header = "jqueryui") : o.renderer = "jqueryui" : h.extend(u, m.ext.classes, g.oClasses);
                    q.addClass(u.sTable);
                    o.iInitDisplayStart === k && (o.iInitDisplayStart = g.iDisplayStart, o._iDisplayStart = g.iDisplayStart);
                    null !== g.iDeferLoading && (o.bDeferLoading = !0, e = h.isArray(g.iDeferLoading), o._iRecordsDisplay = e ? g.iDeferLoading[0] : g.iDeferLoading, o._iRecordsTotal = e ? g.iDeferLoading[1] : g.iDeferLoading);
                    var v = o.oLanguage;
                    h.extend(!0, v, g.oLanguage);
                    v.sUrl && (h.ajax({
                        dataType: "json",
                        url: v.sUrl,
                        success: function(a) {
                            Fa(a);
                            J(l.oLanguage, a);
                            h.extend(!0, v, a);
                            ha(o)
                        },
                        error: function() {
                            ha(o)
                        }
                    }), n = !0);
                    null === g.asStripeClasses && (o.asStripeClasses = [u.sStripeOdd, u.sStripeEven]);
                    var e = o.asStripeClasses,
                        x = q.children("tbody").find("tr").eq(0); - 1 !== h.inArray(!0, h.map(e, function(a) {
                        return x.hasClass(a)
                    })) && (h("tbody tr", this).removeClass(e.join(" ")), o.asDestroyStripes = e.slice());
                    e = [];
                    r = this.getElementsByTagName("thead");
                    0 !== r.length && (ea(o.aoHeader, r[0]), e = ta(o));
                    if (null === g.aoColumns) {
                        r = [];
                        j = 0;
                        for (i = e.length; j < i; j++) r.push(null)
                    } else r = g.aoColumns;
                    j = 0;
                    for (i = r.length; j < i; j++) Ga(o, e ? e[j] : null);
                    kb(o, g.aoColumnDefs, r, function(a, b) {
                        la(o, a, b)
                    });
                    if (x.length) {
                        var w = function(a, b) {
                            return a.getAttribute("data-" + b) !== null ? b : null
                        };
                        h(x[0]).children("th, td").each(function(a, b) {
                            var c = o.aoColumns[a];
                            if (c.mData === a) {
                                var d = w(b, "sort") || w(b, "order"),
                                    e = w(b, "filter") || w(b, "search");
                                if (d !== null || e !== null) {
                                    c.mData = {
                                        _: a + ".display",
                                        sort: d !== null ? a + ".@data-" + d : k,
                                        type: d !== null ? a + ".@data-" + d : k,
                                        filter: e !== null ? a + ".@data-" + e : k
                                    };
                                    la(o, a)
                                }
                            }
                        })
                    }
                    var U = o.oFeatures,
                        e = function() {
                            if (g.aaSorting === k) {
                                var a = o.aaSorting;
                                j = 0;
                                for (i = a.length; j < i; j++) a[j][1] = o.aoColumns[j].asSorting[0]
                            }
                            ya(o);
                            U.bSort && z(o, "aoDrawCallback", function() {
                                if (o.bSorted) {
                                    var a = W(o),
                                        b = {};
                                    h.each(a, function(a, c) {
                                        b[c.src] = c.dir
                                    });
                                    s(o, null, "order", [o, a, b]);
                                    Kb(o)
                                }
                            });
                            z(o, "aoDrawCallback", function() {
                                (o.bSorted || y(o) === "ssp" || U.bDeferRender) && ya(o)
                            }, "sc");
                            var a = q.children("caption").each(function() {
                                    this._captionSide = h(this).css("caption-side")
                                }),
                                b = q.children("thead");
                            b.length === 0 && (b = h("<thead/>").appendTo(q));
                            o.nTHead = b[0];
                            b = q.children("tbody");
                            b.length === 0 && (b = h("<tbody/>").appendTo(q));
                            o.nTBody = b[0];
                            b = q.children("tfoot");
                            if (b.length === 0 && a.length > 0 && (o.oScroll.sX !== "" || o.oScroll.sY !== "")) b = h("<tfoot/>").appendTo(q);
                            if (b.length === 0 || b.children().length === 0) q.addClass(u.sNoFooter);
                            else if (b.length > 0) {
                                o.nTFoot = b[0];
                                ea(o.aoFooter, o.nTFoot)
                            }
                            if (g.aaData)
                                for (j = 0; j < g.aaData.length; j++) N(o, g.aaData[j]);
                            else(o.bDeferLoading || y(o) == "dom") && oa(o, h(o.nTBody).children("tr"));
                            o.aiDisplay = o.aiDisplayMaster.slice();
                            o.bInitialised = !0;
                            n === !1 && ha(o)
                        };
                    g.bStateSave ? (U.bStateSave = !0, z(o, "aoDrawCallback", za, "state_save"), Lb(o, g, e)) : e()
                }
            });
            b = null;
            return this
        },
        x, t, p, u, $a = {},
        Pb = /[\r\n]/g,
        Ca = /<.*?>/g,
        cc = /^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,
        dc = RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)", "g"),
        Za = /[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,
        M = function(a) {
            return !a || !0 === a || "-" === a ? !0 : !1
        },
        Qb = function(a) {
            var b = parseInt(a, 10);
            return !isNaN(b) && isFinite(a) ? b : null
        },
        Rb = function(a, b) {
            $a[b] || ($a[b] = RegExp(Sa(b), "g"));
            return "string" === typeof a && "." !== b ? a.replace(/\./g, "").replace($a[b], ".") : a
        },
        ab = function(a, b, c) {
            var d = "string" === typeof a;
            if (M(a)) return !0;
            b && d && (a = Rb(a, b));
            c && d && (a = a.replace(Za, ""));
            return !isNaN(parseFloat(a)) && isFinite(a)
        },
        Sb = function(a, b, c) {
            return M(a) ? !0 : !(M(a) || "string" === typeof a) ? null : ab(a.replace(Ca, ""), b, c) ? !0 : null
        },
        D = function(a, b, c) {
            var d = [],
                e = 0,
                f = a.length;
            if (c !== k)
                for (; e < f; e++) a[e] && a[e][b] && d.push(a[e][b][c]);
            else
                for (; e < f; e++) a[e] && d.push(a[e][b]);
            return d
        },
        ja = function(a, b, c, d) {
            var e = [],
                f = 0,
                g = b.length;
            if (d !== k)
                for (; f < g; f++) a[b[f]][c] && e.push(a[b[f]][c][d]);
            else
                for (; f < g; f++) e.push(a[b[f]][c]);
            return e
        },
        X = function(a, b) {
            var c = [],
                d;
            b === k ? (b = 0, d = a) : (d = b, b = a);
            for (var e = b; e < d; e++) c.push(e);
            return c
        },
        Tb = function(a) {
            for (var b = [], c = 0, d = a.length; c < d; c++) a[c] && b.push(a[c]);
            return b
        },
        sa = function(a) {
            var b;
            a: {
                if (!(2 > a.length)) {
                    b = a.slice().sort();
                    for (var c = b[0], d = 1, e = b.length; d < e; d++) {
                        if (b[d] === c) {
                            b = !1;
                            break a
                        }
                        c = b[d]
                    }
                }
                b = !0
            }
            if (b) return a.slice();
            b = [];
            var e = a.length,
                f, g = 0,
                d = 0;
            a: for (; d < e; d++) {
                c = a[d];
                for (f = 0; f < g; f++)
                    if (b[f] === c) continue a;
                b.push(c);
                g++
            }
            return b
        };
    m.util = {
        throttle: function(a, b) {
            var c = b !== k ? b : 200,
                d, e;
            return function() {
                var b = this,
                    g = +new Date,
                    h = arguments;
                d && g < d + c ? (clearTimeout(e), e = setTimeout(function() {
                    d = k;
                    a.apply(b, h)
                }, c)) : (d = g, a.apply(b, h))
            }
        },
        escapeRegex: function(a) {
            return a.replace(dc, "\\$1")
        }
    };
    var A = function(a, b, c) {
            a[b] !== k && (a[c] = a[b])
        },
        ca = /\[.*?\]$/,
        V = /\(\)$/,
        Sa = m.util.escapeRegex,
        xa = h("<div>")[0],
        $b = xa.textContent !== k,
        bc = /<.*?>/g,
        Qa = m.util.throttle,
        Ub = [],
        w = Array.prototype,
        ec = function(a) {
            var b, c, d = m.settings,
                e = h.map(d, function(a) {
                    return a.nTable
                });
            if (a) {
                if (a.nTable && a.oApi) return [a];
                if (a.nodeName && "table" === a.nodeName.toLowerCase()) return b = h.inArray(a, e), -1 !== b ? [d[b]] : null;
                if (a && "function" === typeof a.settings) return a.settings().toArray();
                "string" === typeof a ? c = h(a) : a instanceof h && (c = a)
            } else return [];
            if (c) return c.map(function() {
                b = h.inArray(this, e);
                return -1 !== b ? d[b] : null
            }).toArray()
        };
    t = function(a, b) {
        if (!(this instanceof t)) return new t(a, b);
        var c = [],
            d = function(a) {
                (a = ec(a)) && (c = c.concat(a))
            };
        if (h.isArray(a))
            for (var e = 0, f = a.length; e < f; e++) d(a[e]);
        else d(a);
        this.context = sa(c);
        b && h.merge(this, b);
        this.selector = {
            rows: null,
            cols: null,
            opts: null
        };
        t.extend(this, this, Ub)
    };
    m.Api = t;
    h.extend(t.prototype, {
        any: function() {
            return 0 !== this.count()
        },
        concat: w.concat,
        context: [],
        count: function() {
            return this.flatten().length
        },
        each: function(a) {
            for (var b = 0, c = this.length; b < c; b++) a.call(this, this[b], b, this);
            return this
        },
        eq: function(a) {
            var b = this.context;
            return b.length > a ? new t(b[a], this[a]) : null
        },
        filter: function(a) {
            var b = [];
            if (w.filter) b = w.filter.call(this, a, this);
            else
                for (var c = 0, d = this.length; c < d; c++) a.call(this, this[c], c, this) && b.push(this[c]);
            return new t(this.context, b)
        },
        flatten: function() {
            var a = [];
            return new t(this.context, a.concat.apply(a, this.toArray()))
        },
        join: w.join,
        indexOf: w.indexOf || function(a, b) {
            for (var c = b || 0, d = this.length; c < d; c++)
                if (this[c] === a) return c;
            return -1
        },
        iterator: function(a, b, c, d) {
            var e = [],
                f, g, h, i, n, l = this.context,
                m, p, u = this.selector;
            "string" === typeof a && (d = c, c = b, b = a, a = !1);
            g = 0;
            for (h = l.length; g < h; g++) {
                var s = new t(l[g]);
                if ("table" === b) f = c.call(s, l[g], g), f !== k && e.push(f);
                else if ("columns" === b || "rows" === b) f = c.call(s, l[g], this[g], g), f !== k && e.push(f);
                else if ("column" === b || "column-rows" === b || "row" === b || "cell" === b) {
                    p = this[g];
                    "column-rows" === b && (m = Da(l[g], u.opts));
                    i = 0;
                    for (n = p.length; i < n; i++) f = p[i], f = "cell" === b ? c.call(s, l[g], f.row, f.column, g, i) : c.call(s, l[g], f, g, i, m), f !== k && e.push(f)
                }
            }
            return e.length || d ? (a = new t(l, a ? e.concat.apply([], e) : e), b = a.selector, b.rows = u.rows, b.cols = u.cols, b.opts = u.opts, a) : this
        },
        lastIndexOf: w.lastIndexOf || function(a, b) {
            return this.indexOf.apply(this.toArray.reverse(), arguments)
        },
        length: 0,
        map: function(a) {
            var b = [];
            if (w.map) b = w.map.call(this, a, this);
            else
                for (var c = 0, d = this.length; c < d; c++) b.push(a.call(this, this[c], c));
            return new t(this.context, b)
        },
        pluck: function(a) {
            return this.map(function(b) {
                return b[a]
            })
        },
        pop: w.pop,
        push: w.push,
        reduce: w.reduce || function(a, b) {
            return jb(this, a, b, 0, this.length, 1)
        },
        reduceRight: w.reduceRight || function(a, b) {
            return jb(this, a, b, this.length - 1, -1, -1)
        },
        reverse: w.reverse,
        selector: null,
        shift: w.shift,
        slice: function() {
            return new t(this.context, this)
        },
        sort: w.sort,
        splice: w.splice,
        toArray: function() {
            return w.slice.call(this)
        },
        to$: function() {
            return h(this)
        },
        toJQuery: function() {
            return h(this)
        },
        unique: function() {
            return new t(this.context, sa(this))
        },
        unshift: w.unshift
    });
    t.extend = function(a, b, c) {
        if (c.length && b && (b instanceof t || b.__dt_wrapper)) {
            var d, e, f, g = function(a, b, c) {
                return function() {
                    var d = b.apply(a, arguments);
                    t.extend(d, d, c.methodExt);
                    return d
                }
            };
            d = 0;
            for (e = c.length; d < e; d++) f = c[d], b[f.name] = "function" === typeof f.val ? g(a, f.val, f) : h.isPlainObject(f.val) ? {} : f.val, b[f.name].__dt_wrapper = !0, t.extend(a, b[f.name], f.propExt)
        }
    };
    t.register = p = function(a, b) {
        if (h.isArray(a))
            for (var c = 0, d = a.length; c < d; c++) t.register(a[c], b);
        else
            for (var e = a.split("."), f = Ub, g, j, c = 0, d = e.length; c < d; c++) {
                g = (j = -1 !== e[c].indexOf("()")) ? e[c].replace("()", "") : e[c];
                var i;
                a: {
                    i = 0;
                    for (var n = f.length; i < n; i++)
                        if (f[i].name === g) {
                            i = f[i];
                            break a
                        }
                    i = null
                }
                i || (i = {
                    name: g,
                    val: {},
                    methodExt: [],
                    propExt: []
                }, f.push(i));
                c === d - 1 ? i.val = b : f = j ? i.methodExt : i.propExt
            }
    };
    t.registerPlural = u = function(a, b, c) {
        t.register(a, c);
        t.register(b, function() {
            var a = c.apply(this, arguments);
            return a === this ? this : a instanceof t ? a.length ? h.isArray(a[0]) ? new t(a.context, a[0]) : a[0] : k : a
        })
    };
    p("tables()", function(a) {
        var b;
        if (a) {
            b = t;
            var c = this.context;
            if ("number" === typeof a) a = [c[a]];
            else var d = h.map(c, function(a) {
                    return a.nTable
                }),
                a = h(d).filter(a).map(function() {
                    var a = h.inArray(this, d);
                    return c[a]
                }).toArray();
            b = new b(a)
        } else b = this;
        return b
    });
    p("table()", function(a) {
        var a = this.tables(a),
            b = a.context;
        return b.length ? new t(b[0]) : a
    });
    u("tables().nodes()", "table().node()", function() {
        return this.iterator("table", function(a) {
            return a.nTable
        }, 1)
    });
    u("tables().body()", "table().body()", function() {
        return this.iterator("table", function(a) {
            return a.nTBody
        }, 1)
    });
    u("tables().header()", "table().header()", function() {
        return this.iterator("table", function(a) {
            return a.nTHead
        }, 1)
    });
    u("tables().footer()", "table().footer()", function() {
        return this.iterator("table", function(a) {
            return a.nTFoot
        }, 1)
    });
    u("tables().containers()", "table().container()", function() {
        return this.iterator("table", function(a) {
            return a.nTableWrapper
        }, 1)
    });
    p("draw()", function(a) {
        return this.iterator("table", function(b) {
            "page" === a ? O(b) : ("string" === typeof a && (a = "full-hold" === a ? !1 : !0), T(b, !1 === a))
        })
    });
    p("page()", function(a) {
        return a === k ? this.page.info().page : this.iterator("table", function(b) {
            Va(b, a)
        })
    });
    p("page.info()", function() {
        if (0 === this.context.length) return k;
        var a = this.context[0],
            b = a._iDisplayStart,
            c = a.oFeatures.bPaginate ? a._iDisplayLength : -1,
            d = a.fnRecordsDisplay(),
            e = -1 === c;
        return {
            page: e ? 0 : Math.floor(b / c),
            pages: e ? 1 : Math.ceil(d / c),
            start: b,
            end: a.fnDisplayEnd(),
            length: c,
            recordsTotal: a.fnRecordsTotal(),
            recordsDisplay: d,
            serverSide: "ssp" === y(a)
        }
    });
    p("page.len()", function(a) {
        return a === k ? 0 !== this.context.length ? this.context[0]._iDisplayLength : k : this.iterator("table", function(b) {
            Ta(b, a)
        })
    });
    var Vb = function(a, b, c) {
        if (c) {
            var d = new t(a);
            d.one("draw", function() {
                c(d.ajax.json())
            })
        }
        if ("ssp" == y(a)) T(a, b);
        else {
            C(a, !0);
            var e = a.jqXHR;
            e && 4 !== e.readyState && e.abort();
            ua(a, [], function(c) {
                pa(a);
                for (var c = va(a, c), d = 0, e = c.length; d < e; d++) N(a, c[d]);
                T(a, b);
                C(a, !1)
            })
        }
    };
    p("ajax.json()", function() {
        var a = this.context;
        if (0 < a.length) return a[0].json
    });
    p("ajax.params()", function() {
        var a = this.context;
        if (0 < a.length) return a[0].oAjaxData
    });
    p("ajax.reload()", function(a, b) {
        return this.iterator("table", function(c) {
            Vb(c, !1 === b, a)
        })
    });
    p("ajax.url()", function(a) {
        var b = this.context;
        if (a === k) {
            if (0 === b.length) return k;
            b = b[0];
            return b.ajax ? h.isPlainObject(b.ajax) ? b.ajax.url : b.ajax : b.sAjaxSource
        }
        return this.iterator("table", function(b) {
            h.isPlainObject(b.ajax) ? b.ajax.url = a : b.ajax = a
        })
    });
    p("ajax.url().load()", function(a, b) {
        return this.iterator("table", function(c) {
            Vb(c, !1 === b, a)
        })
    });
    var bb = function(a, b, c, d, e) {
            var f = [],
                g, j, i, n, l, m;
            i = typeof b;
            if (!b || "string" === i || "function" === i || b.length === k) b = [b];
            i = 0;
            for (n = b.length; i < n; i++) {
                j = b[i] && b[i].split && !b[i].match(/[\[\(:]/) ? b[i].split(",") : [b[i]];
                l = 0;
                for (m = j.length; l < m; l++)(g = c("string" === typeof j[l] ? h.trim(j[l]) : j[l])) && g.length && (f = f.concat(g))
            }
            a = x.selector[a];
            if (a.length) {
                i = 0;
                for (n = a.length; i < n; i++) f = a[i](d, e, f)
            }
            return sa(f)
        },
        cb = function(a) {
            a || (a = {});
            a.filter && a.search === k && (a.search = a.filter);
            return h.extend({
                search: "none",
                order: "current",
                page: "all"
            }, a)
        },
        db = function(a) {
            for (var b = 0, c = a.length; b < c; b++)
                if (0 < a[b].length) return a[0] = a[b], a[0].length = 1, a.length = 1, a.context = [a.context[b]], a;
            a.length = 0;
            return a
        },
        Da = function(a, b) {
            var c, d, e, f = [],
                g = a.aiDisplay;
            c = a.aiDisplayMaster;
            var j = b.search;
            d = b.order;
            e = b.page;
            if ("ssp" == y(a)) return "removed" === j ? [] : X(0, c.length);
            if ("current" == e) {
                c = a._iDisplayStart;
                for (d = a.fnDisplayEnd(); c < d; c++) f.push(g[c])
            } else if ("current" == d || "applied" == d) f = "none" == j ? c.slice() : "applied" == j ? g.slice() : h.map(c, function(a) {
                return -1 === h.inArray(a, g) ? a : null
            });
            else if ("index" == d || "original" == d) {
                c = 0;
                for (d = a.aoData.length; c < d; c++) "none" == j ? f.push(c) : (e = h.inArray(c, g), (-1 === e && "removed" == j || 0 <= e && "applied" == j) && f.push(c))
            }
            return f
        };
    p("rows()", function(a, b) {
        a === k ? a = "" : h.isPlainObject(a) && (b = a, a = "");
        var b = cb(b),
            c = this.iterator("table", function(c) {
                var e = b,
                    f;
                return bb("row", a, function(a) {
                    var b = Qb(a);
                    if (b !== null && !e) return [b];
                    f || (f = Da(c, e));
                    if (b !== null && h.inArray(b, f) !== -1) return [b];
                    if (a === null || a === k || a === "") return f;
                    if (typeof a === "function") return h.map(f, function(b) {
                        var e = c.aoData[b];
                        return a(b, e._aData, e.nTr) ? b : null
                    });
                    b = Tb(ja(c.aoData, f, "nTr"));
                    if (a.nodeName) {
                        if (a._DT_RowIndex !== k) return [a._DT_RowIndex];
                        if (a._DT_CellIndex) return [a._DT_CellIndex.row];
                        b = h(a).closest("*[data-dt-row]");
                        return b.length ? [b.data("dt-row")] : []
                    }
                    if (typeof a === "string" && a.charAt(0) === "#") {
                        var i = c.aIds[a.replace(/^#/, "")];
                        if (i !== k) return [i.idx]
                    }
                    return h(b).filter(a).map(function() {
                        return this._DT_RowIndex
                    }).toArray()
                }, c, e)
            }, 1);
        c.selector.rows = a;
        c.selector.opts = b;
        return c
    });
    p("rows().nodes()", function() {
        return this.iterator("row", function(a, b) {
            return a.aoData[b].nTr || k
        }, 1)
    });
    p("rows().data()", function() {
        return this.iterator(!0, "rows", function(a, b) {
            return ja(a.aoData, b, "_aData")
        }, 1)
    });
    u("rows().cache()", "row().cache()", function(a) {
        return this.iterator("row", function(b, c) {
            var d = b.aoData[c];
            return "search" === a ? d._aFilterData : d._aSortData
        }, 1)
    });
    u("rows().invalidate()", "row().invalidate()", function(a) {
        return this.iterator("row", function(b, c) {
            da(b, c, a)
        })
    });
    u("rows().indexes()", "row().index()", function() {
        return this.iterator("row", function(a, b) {
            return b
        }, 1)
    });
    u("rows().ids()", "row().id()", function(a) {
        for (var b = [], c = this.context, d = 0, e = c.length; d < e; d++)
            for (var f = 0, g = this[d].length; f < g; f++) {
                var h = c[d].rowIdFn(c[d].aoData[this[d][f]]._aData);
                b.push((!0 === a ? "#" : "") + h)
            }
        return new t(c, b)
    });
    u("rows().remove()", "row().remove()", function() {
        var a = this;
        this.iterator("row", function(b, c, d) {
            var e = b.aoData,
                f = e[c],
                g, h, i, n, l;
            e.splice(c, 1);
            g = 0;
            for (h = e.length; g < h; g++)
                if (i = e[g], l = i.anCells, null !== i.nTr && (i.nTr._DT_RowIndex = g), null !== l) {
                    i = 0;
                    for (n = l.length; i < n; i++) l[i]._DT_CellIndex.row = g
                }
            qa(b.aiDisplayMaster, c);
            qa(b.aiDisplay, c);
            qa(a[d], c, !1);
            Ua(b);
            c = b.rowIdFn(f._aData);
            c !== k && delete b.aIds[c]
        });
        this.iterator("table", function(a) {
            for (var c = 0, d = a.aoData.length; c < d; c++) a.aoData[c].idx = c
        });
        return this
    });
    p("rows.add()", function(a) {
        var b = this.iterator("table", function(b) {
                var c, f, g, h = [];
                f = 0;
                for (g = a.length; f < g; f++) c = a[f], c.nodeName && "TR" === c.nodeName.toUpperCase() ? h.push(oa(b, c)[0]) : h.push(N(b, c));
                return h
            }, 1),
            c = this.rows(-1);
        c.pop();
        h.merge(c, b);
        return c
    });
    p("row()", function(a, b) {
        return db(this.rows(a, b))
    });
    p("row().data()", function(a) {
        var b = this.context;
        if (a === k) return b.length && this.length ? b[0].aoData[this[0]]._aData : k;
        b[0].aoData[this[0]]._aData = a;
        da(b[0], this[0], "data");
        return this
    });
    p("row().node()", function() {
        var a = this.context;
        return a.length && this.length ? a[0].aoData[this[0]].nTr || null : null
    });
    p("row.add()", function(a) {
        a instanceof h && a.length && (a = a[0]);
        var b = this.iterator("table", function(b) {
            return a.nodeName && "TR" === a.nodeName.toUpperCase() ? oa(b, a)[0] : N(b, a)
        });
        return this.row(b[0])
    });
    var eb = function(a, b) {
            var c = a.context;
            if (c.length && (c = c[0].aoData[b !== k ? b : a[0]]) && c._details) c._details.remove(), c._detailsShow = k, c._details = k
        },
        Wb = function(a, b) {
            var c = a.context;
            if (c.length && a.length) {
                var d = c[0].aoData[a[0]];
                if (d._details) {
                    (d._detailsShow = b) ? d._details.insertAfter(d.nTr): d._details.detach();
                    var e = c[0],
                        f = new t(e),
                        g = e.aoData;
                    f.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details");
                    0 < D(g, "_details").length && (f.on("draw.dt.DT_details", function(a, b) {
                        e === b && f.rows({
                            page: "current"
                        }).eq(0).each(function(a) {
                            a = g[a];
                            a._detailsShow && a._details.insertAfter(a.nTr)
                        })
                    }), f.on("column-visibility.dt.DT_details", function(a, b) {
                        if (e === b)
                            for (var c, d = ba(b), f = 0, h = g.length; f < h; f++) c = g[f], c._details && c._details.children("td[colspan]").attr("colspan", d)
                    }), f.on("destroy.dt.DT_details", function(a, b) {
                        if (e === b)
                            for (var c = 0, d = g.length; c < d; c++) g[c]._details && eb(f, c)
                    }))
                }
            }
        };
    p("row().child()", function(a, b) {
        var c = this.context;
        if (a === k) return c.length && this.length ? c[0].aoData[this[0]]._details : k;
        if (!0 === a) this.child.show();
        else if (!1 === a) eb(this);
        else if (c.length && this.length) {
            var d = c[0],
                c = c[0].aoData[this[0]],
                e = [],
                f = function(a, b) {
                    if (h.isArray(a) || a instanceof h)
                        for (var c = 0, k = a.length; c < k; c++) f(a[c], b);
                    else a.nodeName && "tr" === a.nodeName.toLowerCase() ? e.push(a) : (c = h("<tr><td/></tr>").addClass(b), h("td", c).addClass(b).html(a)[0].colSpan = ba(d), e.push(c[0]))
                };
            f(a, b);
            c._details && c._details.detach();
            c._details = h(e);
            c._detailsShow && c._details.insertAfter(c.nTr)
        }
        return this
    });
    p(["row().child.show()", "row().child().show()"], function() {
        Wb(this, !0);
        return this
    });
    p(["row().child.hide()", "row().child().hide()"], function() {
        Wb(this, !1);
        return this
    });
    p(["row().child.remove()", "row().child().remove()"], function() {
        eb(this);
        return this
    });
    p("row().child.isShown()", function() {
        var a = this.context;
        return a.length && this.length ? a[0].aoData[this[0]]._detailsShow || !1 : !1
    });
    var fc = /^([^:]+):(name|visIdx|visible)$/,
        Xb = function(a, b, c, d, e) {
            for (var c = [], d = 0, f = e.length; d < f; d++) c.push(B(a, e[d], b));
            return c
        };
    p("columns()", function(a, b) {
        a === k ? a = "" : h.isPlainObject(a) && (b = a, a = "");
        var b = cb(b),
            c = this.iterator("table", function(c) {
                var e = a,
                    f = b,
                    g = c.aoColumns,
                    j = D(g, "sName"),
                    i = D(g, "nTh");
                return bb("column", e, function(a) {
                    var b = Qb(a);
                    if (a === "") return X(g.length);
                    if (b !== null) return [b >= 0 ? b : g.length + b];
                    if (typeof a === "function") {
                        var e = Da(c, f);
                        return h.map(g, function(b, f) {
                            return a(f, Xb(c, f, 0, 0, e), i[f]) ? f : null
                        })
                    }
                    var k = typeof a === "string" ? a.match(fc) : "";
                    if (k) switch (k[2]) {
                        case "visIdx":
                        case "visible":
                            b = parseInt(k[1], 10);
                            if (b < 0) {
                                var m = h.map(g, function(a, b) {
                                    return a.bVisible ? b : null
                                });
                                return [m[m.length + b]]
                            }
                            return [$(c, b)];
                        case "name":
                            return h.map(j, function(a, b) {
                                return a === k[1] ? b : null
                            });
                        default:
                            return []
                    }
                    if (a.nodeName && a._DT_CellIndex) return [a._DT_CellIndex.column];
                    b = h(i).filter(a).map(function() {
                        return h.inArray(this, i)
                    }).toArray();
                    if (b.length || !a.nodeName) return b;
                    b = h(a).closest("*[data-dt-column]");
                    return b.length ? [b.data("dt-column")] : []
                }, c, f)
            }, 1);
        c.selector.cols = a;
        c.selector.opts = b;
        return c
    });
    u("columns().header()", "column().header()", function() {
        return this.iterator("column", function(a, b) {
            return a.aoColumns[b].nTh
        }, 1)
    });
    u("columns().footer()", "column().footer()", function() {
        return this.iterator("column", function(a, b) {
            return a.aoColumns[b].nTf
        }, 1)
    });
    u("columns().data()", "column().data()", function() {
        return this.iterator("column-rows", Xb, 1)
    });
    u("columns().dataSrc()", "column().dataSrc()", function() {
        return this.iterator("column", function(a, b) {
            return a.aoColumns[b].mData
        }, 1)
    });
    u("columns().cache()", "column().cache()", function(a) {
        return this.iterator("column-rows", function(b, c, d, e, f) {
            return ja(b.aoData, f, "search" === a ? "_aFilterData" : "_aSortData", c)
        }, 1)
    });
    u("columns().nodes()", "column().nodes()", function() {
        return this.iterator("column-rows", function(a, b, c, d, e) {
            return ja(a.aoData, e, "anCells", b)
        }, 1)
    });
    u("columns().visible()", "column().visible()", function(a, b) {
        var c = this.iterator("column", function(b, c) {
            if (a === k) return b.aoColumns[c].bVisible;
            var f = b.aoColumns,
                g = f[c],
                j = b.aoData,
                i, n, l;
            if (a !== k && g.bVisible !== a) {
                if (a) {
                    var m = h.inArray(!0, D(f, "bVisible"), c + 1);
                    i = 0;
                    for (n = j.length; i < n; i++) l = j[i].nTr, f = j[i].anCells, l && l.insertBefore(f[c], f[m] || null)
                } else h(D(b.aoData, "anCells", c)).detach();
                g.bVisible = a;
                fa(b, b.aoHeader);
                fa(b, b.aoFooter);
                za(b)
            }
        });
        a !== k && (this.iterator("column", function(c, e) {
            s(c, null, "column-visibility", [c, e, a, b])
        }), (b === k || b) && this.columns.adjust());
        return c
    });
    u("columns().indexes()", "column().index()", function(a) {
        return this.iterator("column", function(b, c) {
            return "visible" === a ? aa(b, c) : c
        }, 1)
    });
    p("columns.adjust()", function() {
        return this.iterator("table", function(a) {
            Z(a)
        }, 1)
    });
    p("column.index()", function(a, b) {
        if (0 !== this.context.length) {
            var c = this.context[0];
            if ("fromVisible" === a || "toData" === a) return $(c, b);
            if ("fromData" === a || "toVisible" === a) return aa(c, b)
        }
    });
    p("column()", function(a, b) {
        return db(this.columns(a, b))
    });
    p("cells()", function(a, b, c) {
        h.isPlainObject(a) && (a.row === k ? (c = a, a = null) : (c = b, b = null));
        h.isPlainObject(b) && (c = b, b = null);
        if (null === b || b === k) return this.iterator("table", function(b) {
            var d = a,
                e = cb(c),
                f = b.aoData,
                g = Da(b, e),
                j = Tb(ja(f, g, "anCells")),
                i = h([].concat.apply([], j)),
                l, n = b.aoColumns.length,
                m, p, u, t, s, v;
            return bb("cell", d, function(a) {
                var c = typeof a === "function";
                if (a === null || a === k || c) {
                    m = [];
                    p = 0;
                    for (u = g.length; p < u; p++) {
                        l = g[p];
                        for (t = 0; t < n; t++) {
                            s = {
                                row: l,
                                column: t
                            };
                            if (c) {
                                v = f[l];
                                a(s, B(b, l, t), v.anCells ? v.anCells[t] : null) && m.push(s)
                            } else m.push(s)
                        }
                    }
                    return m
                }
                if (h.isPlainObject(a)) return [a];
                c = i.filter(a).map(function(a, b) {
                    return {
                        row: b._DT_CellIndex.row,
                        column: b._DT_CellIndex.column
                    }
                }).toArray();
                if (c.length || !a.nodeName) return c;
                v = h(a).closest("*[data-dt-row]");
                return v.length ? [{
                    row: v.data("dt-row"),
                    column: v.data("dt-column")
                }] : []
            }, b, e)
        });
        var d = this.columns(b, c),
            e = this.rows(a, c),
            f, g, j, i, n, l = this.iterator("table", function(a, b) {
                f = [];
                g = 0;
                for (j = e[b].length; g < j; g++) {
                    i = 0;
                    for (n = d[b].length; i < n; i++) f.push({
                        row: e[b][g],
                        column: d[b][i]
                    })
                }
                return f
            }, 1);
        h.extend(l.selector, {
            cols: b,
            rows: a,
            opts: c
        });
        return l
    });
    u("cells().nodes()", "cell().node()", function() {
        return this.iterator("cell", function(a, b, c) {
            return (a = a.aoData[b]) && a.anCells ? a.anCells[c] : k
        }, 1)
    });
    p("cells().data()", function() {
        return this.iterator("cell", function(a, b, c) {
            return B(a, b, c)
        }, 1)
    });
    u("cells().cache()", "cell().cache()", function(a) {
        a = "search" === a ? "_aFilterData" : "_aSortData";
        return this.iterator("cell", function(b, c, d) {
            return b.aoData[c][a][d]
        }, 1)
    });
    u("cells().render()", "cell().render()", function(a) {
        return this.iterator("cell", function(b, c, d) {
            return B(b, c, d, a)
        }, 1)
    });
    u("cells().indexes()", "cell().index()", function() {
        return this.iterator("cell", function(a, b, c) {
            return {
                row: b,
                column: c,
                columnVisible: aa(a, c)
            }
        }, 1)
    });
    u("cells().invalidate()", "cell().invalidate()", function(a) {
        return this.iterator("cell", function(b, c, d) {
            da(b, c, a, d)
        })
    });
    p("cell()", function(a, b, c) {
        return db(this.cells(a, b, c))
    });
    p("cell().data()", function(a) {
        var b = this.context,
            c = this[0];
        if (a === k) return b.length && c.length ? B(b[0], c[0].row, c[0].column) : k;
        lb(b[0], c[0].row, c[0].column, a);
        da(b[0], c[0].row, "data", c[0].column);
        return this
    });
    p("order()", function(a, b) {
        var c = this.context;
        if (a === k) return 0 !== c.length ? c[0].aaSorting : k;
        "number" === typeof a ? a = [
            [a, b]
        ] : a.length && !h.isArray(a[0]) && (a = Array.prototype.slice.call(arguments));
        return this.iterator("table", function(b) {
            b.aaSorting = a.slice()
        })
    });
    p("order.listener()", function(a, b, c) {
        return this.iterator("table", function(d) {
            Oa(d, a, b, c)
        })
    });
    p("order.fixed()", function(a) {
        if (!a) {
            var b = this.context,
                b = b.length ? b[0].aaSortingFixed : k;
            return h.isArray(b) ? {
                pre: b
            } : b
        }
        return this.iterator("table", function(b) {
            b.aaSortingFixed = h.extend(!0, {}, a)
        })
    });
    p(["columns().order()", "column().order()"], function(a) {
        var b = this;
        return this.iterator("table", function(c, d) {
            var e = [];
            h.each(b[d], function(b, c) {
                e.push([c, a])
            });
            c.aaSorting = e
        })
    });
    p("search()", function(a, b, c, d) {
        var e = this.context;
        return a === k ? 0 !== e.length ? e[0].oPreviousSearch.sSearch : k : this.iterator("table", function(e) {
            e.oFeatures.bFilter && ga(e, h.extend({}, e.oPreviousSearch, {
                sSearch: a + "",
                bRegex: null === b ? !1 : b,
                bSmart: null === c ? !0 : c,
                bCaseInsensitive: null === d ? !0 : d
            }), 1)
        })
    });
    u("columns().search()", "column().search()", function(a, b, c, d) {
        return this.iterator("column", function(e, f) {
            var g = e.aoPreSearchCols;
            if (a === k) return g[f].sSearch;
            e.oFeatures.bFilter && (h.extend(g[f], {
                sSearch: a + "",
                bRegex: null === b ? !1 : b,
                bSmart: null === c ? !0 : c,
                bCaseInsensitive: null === d ? !0 : d
            }), ga(e, e.oPreviousSearch, 1))
        })
    });
    p("state()", function() {
        return this.context.length ? this.context[0].oSavedState : null
    });
    p("state.clear()", function() {
        return this.iterator("table", function(a) {
            a.fnStateSaveCallback.call(a.oInstance, a, {})
        })
    });
    p("state.loaded()", function() {
        return this.context.length ? this.context[0].oLoadedState : null
    });
    p("state.save()", function() {
        return this.iterator("table", function(a) {
            za(a)
        })
    });
    m.versionCheck = m.fnVersionCheck = function(a) {
        for (var b = m.version.split("."), a = a.split("."), c, d, e = 0, f = a.length; e < f; e++)
            if (c = parseInt(b[e], 10) || 0, d = parseInt(a[e], 10) || 0, c !== d) return c > d;
        return !0
    };
    m.isDataTable = m.fnIsDataTable = function(a) {
        var b = h(a).get(0),
            c = !1;
        if (a instanceof m.Api) return !0;
        h.each(m.settings, function(a, e) {
            var f = e.nScrollHead ? h("table", e.nScrollHead)[0] : null,
                g = e.nScrollFoot ? h("table", e.nScrollFoot)[0] : null;
            if (e.nTable === b || f === b || g === b) c = !0
        });
        return c
    };
    m.tables = m.fnTables = function(a) {
        var b = !1;
        h.isPlainObject(a) && (b = a.api, a = a.visible);
        var c = h.map(m.settings, function(b) {
            if (!a || a && h(b.nTable).is(":visible")) return b.nTable
        });
        return b ? new t(c) : c
    };
    m.camelToHungarian = J;
    p("$()", function(a, b) {
        var c = this.rows(b).nodes(),
            c = h(c);
        return h([].concat(c.filter(a).toArray(), c.find(a).toArray()))
    });
    h.each(["on", "one", "off"], function(a, b) {
        p(b + "()", function() {
            var a = Array.prototype.slice.call(arguments);
            a[0] = h.map(a[0].split(/\s/), function(a) {
                return !a.match(/\.dt\b/) ? a + ".dt" : a
            }).join(" ");
            var d = h(this.tables().nodes());
            d[b].apply(d, a);
            return this
        })
    });
    p("clear()", function() {
        return this.iterator("table", function(a) {
            pa(a)
        })
    });
    p("settings()", function() {
        return new t(this.context, this.context)
    });
    p("init()", function() {
        var a = this.context;
        return a.length ? a[0].oInit : null
    });
    p("data()", function() {
        return this.iterator("table", function(a) {
            return D(a.aoData, "_aData")
        }).flatten()
    });
    p("destroy()", function(a) {
        a = a || !1;
        return this.iterator("table", function(b) {
            var c = b.nTableWrapper.parentNode,
                d = b.oClasses,
                e = b.nTable,
                f = b.nTBody,
                g = b.nTHead,
                j = b.nTFoot,
                i = h(e),
                f = h(f),
                k = h(b.nTableWrapper),
                l = h.map(b.aoData, function(a) {
                    return a.nTr
                }),
                p;
            b.bDestroying = !0;
            s(b, "aoDestroyCallback", "destroy", [b]);
            a || (new t(b)).columns().visible(!0);
            k.off(".DT").find(":not(tbody *)").off(".DT");
            h(E).off(".DT-" + b.sInstance);
            e != g.parentNode && (i.children("thead").detach(), i.append(g));
            j && e != j.parentNode && (i.children("tfoot").detach(), i.append(j));
            b.aaSorting = [];
            b.aaSortingFixed = [];
            ya(b);
            h(l).removeClass(b.asStripeClasses.join(" "));
            h("th, td", g).removeClass(d.sSortable + " " + d.sSortableAsc + " " + d.sSortableDesc + " " + d.sSortableNone);
            b.bJUI && (h("th span." + d.sSortIcon + ", td span." + d.sSortIcon, g).detach(), h("th, td", g).each(function() {
                var a = h("div." + d.sSortJUIWrapper, this);
                h(this).append(a.contents());
                a.detach()
            }));
            f.children().detach();
            f.append(l);
            g = a ? "remove" : "detach";
            i[g]();
            k[g]();
            !a && c && (c.insertBefore(e, b.nTableReinsertBefore), i.css("width", b.sDestroyWidth).removeClass(d.sTable), (p = b.asDestroyStripes.length) && f.children().each(function(a) {
                h(this).addClass(b.asDestroyStripes[a % p])
            }));
            c = h.inArray(b, m.settings); - 1 !== c && m.settings.splice(c, 1)
        })
    });
    h.each(["column", "row", "cell"], function(a, b) {
        p(b + "s().every()", function(a) {
            var d = this.selector.opts,
                e = this;
            return this.iterator(b, function(f, g, h, i, m) {
                a.call(e[b](g, "cell" === b ? h : d, "cell" === b ? d : k), g, h, i, m)
            })
        })
    });
    p("i18n()", function(a, b, c) {
        var d = this.context[0],
            a = R(a)(d.oLanguage);
        a === k && (a = b);
        c !== k && h.isPlainObject(a) && (a = a[c] !== k ? a[c] : a._);
        return a.replace("%d", c)
    });
    m.version = "1.10.15";
    m.settings = [];
    m.models = {};
    m.models.oSearch = {
        bCaseInsensitive: !0,
        sSearch: "",
        bRegex: !1,
        bSmart: !0
    };
    m.models.oRow = {
        nTr: null,
        anCells: null,
        _aData: [],
        _aSortData: null,
        _aFilterData: null,
        _sFilterRow: null,
        _sRowStripe: "",
        src: null,
        idx: -1
    };
    m.models.oColumn = {
        idx: null,
        aDataSort: null,
        asSorting: null,
        bSearchable: null,
        bSortable: null,
        bVisible: null,
        _sManualType: null,
        _bAttrSrc: !1,
        fnCreatedCell: null,
        fnGetData: null,
        fnSetData: null,
        mData: null,
        mRender: null,
        nTh: null,
        nTf: null,
        sClass: null,
        sContentPadding: null,
        sDefaultContent: null,
        sName: null,
        sSortDataType: "std",
        sSortingClass: null,
        sSortingClassJUI: null,
        sTitle: null,
        sType: null,
        sWidth: null,
        sWidthOrig: null
    };
    m.defaults = {
        aaData: null,
        aaSorting: [
            [0, "asc"]
        ],
        aaSortingFixed: [],
        ajax: null,
        aLengthMenu: [10, 25, 50, 100],
        aoColumns: null,
        aoColumnDefs: null,
        aoSearchCols: [],
        asStripeClasses: null,
        bAutoWidth: !0,
        bDeferRender: !1,
        bDestroy: !1,
        bFilter: !0,
        bInfo: !0,
        bJQueryUI: !1,
        bLengthChange: !0,
        bPaginate: !0,
        bProcessing: !1,
        bRetrieve: !1,
        bScrollCollapse: !1,
        bServerSide: !1,
        bSort: !0,
        bSortMulti: !0,
        bSortCellsTop: !1,
        bSortClasses: !0,
        bStateSave: !1,
        fnCreatedRow: null,
        fnDrawCallback: null,
        fnFooterCallback: null,
        fnFormatNumber: function(a) {
            return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g, this.oLanguage.sThousands)
        },
        fnHeaderCallback: null,
        fnInfoCallback: null,
        fnInitComplete: null,
        fnPreDrawCallback: null,
        fnRowCallback: null,
        fnServerData: null,
        fnServerParams: null,
        fnStateLoadCallback: function(a) {
            try {
                return JSON.parse((-1 === a.iStateDuration ? sessionStorage : localStorage).getItem("DataTables_" + a.sInstance + "_" + location.pathname))
            } catch (b) {}
        },
        fnStateLoadParams: null,
        fnStateLoaded: null,
        fnStateSaveCallback: function(a, b) {
            try {
                (-1 === a.iStateDuration ? sessionStorage : localStorage).setItem("DataTables_" + a.sInstance + "_" + location.pathname, JSON.stringify(b))
            } catch (c) {}
        },
        fnStateSaveParams: null,
        iStateDuration: 7200,
        iDeferLoading: null,
        iDisplayLength: 10,
        iDisplayStart: 0,
        iTabIndex: 0,
        oClasses: {},
        oLanguage: {
            oAria: {
                sSortAscending: ": activate to sort column ascending",
                sSortDescending: ": activate to sort column descending"
            },
            oPaginate: {
                sFirst: "First",
                sLast: "Last",
                sNext: "Next",
                sPrevious: "Previous"
            },
            sEmptyTable: "No data available in table",
            sInfo: "Showing _START_ to _END_ of _TOTAL_ entries",
            sInfoEmpty: "Showing 0 to 0 of 0 entries",
            sInfoFiltered: "(filtered from _MAX_ total entries)",
            sInfoPostFix: "",
            sDecimal: "",
            sThousands: ",",
            sLengthMenu: "Show _MENU_ entries",
            sLoadingRecords: "Loading...",
            sProcessing: "Processing...",
            sSearch: "Search:",
            sSearchPlaceholder: "",
            sUrl: "",
            sZeroRecords: "No matching records found"
        },
        oSearch: h.extend({}, m.models.oSearch),
        sAjaxDataProp: "data",
        sAjaxSource: null,
        sDom: "lfrtip",
        searchDelay: null,
        sPaginationType: "simple_numbers",
        sScrollX: "",
        sScrollXInner: "",
        sScrollY: "",
        sServerMethod: "GET",
        renderer: null,
        rowId: "DT_RowId"
    };
    Y(m.defaults);
    m.defaults.column = {
        aDataSort: null,
        iDataSort: -1,
        asSorting: ["asc", "desc"],
        bSearchable: !0,
        bSortable: !0,
        bVisible: !0,
        fnCreatedCell: null,
        mData: null,
        mRender: null,
        sCellType: "td",
        sClass: "",
        sContentPadding: "",
        sDefaultContent: null,
        sName: "",
        sSortDataType: "std",
        sTitle: null,
        sType: null,
        sWidth: null
    };
    Y(m.defaults.column);
    m.models.oSettings = {
        oFeatures: {
            bAutoWidth: null,
            bDeferRender: null,
            bFilter: null,
            bInfo: null,
            bLengthChange: null,
            bPaginate: null,
            bProcessing: null,
            bServerSide: null,
            bSort: null,
            bSortMulti: null,
            bSortClasses: null,
            bStateSave: null
        },
        oScroll: {
            bCollapse: null,
            iBarWidth: 0,
            sX: null,
            sXInner: null,
            sY: null
        },
        oLanguage: {
            fnInfoCallback: null
        },
        oBrowser: {
            bScrollOversize: !1,
            bScrollbarLeft: !1,
            bBounding: !1,
            barWidth: 0
        },
        ajax: null,
        aanFeatures: [],
        aoData: [],
        aiDisplay: [],
        aiDisplayMaster: [],
        aIds: {},
        aoColumns: [],
        aoHeader: [],
        aoFooter: [],
        oPreviousSearch: {},
        aoPreSearchCols: [],
        aaSorting: null,
        aaSortingFixed: [],
        asStripeClasses: null,
        asDestroyStripes: [],
        sDestroyWidth: 0,
        aoRowCallback: [],
        aoHeaderCallback: [],
        aoFooterCallback: [],
        aoDrawCallback: [],
        aoRowCreatedCallback: [],
        aoPreDrawCallback: [],
        aoInitComplete: [],
        aoStateSaveParams: [],
        aoStateLoadParams: [],
        aoStateLoaded: [],
        sTableId: "",
        nTable: null,
        nTHead: null,
        nTFoot: null,
        nTBody: null,
        nTableWrapper: null,
        bDeferLoading: !1,
        bInitialised: !1,
        aoOpenRows: [],
        sDom: null,
        searchDelay: null,
        sPaginationType: "two_button",
        iStateDuration: 0,
        aoStateSave: [],
        aoStateLoad: [],
        oSavedState: null,
        oLoadedState: null,
        sAjaxSource: null,
        sAjaxDataProp: null,
        bAjaxDataGet: !0,
        jqXHR: null,
        json: k,
        oAjaxData: k,
        fnServerData: null,
        aoServerParams: [],
        sServerMethod: null,
        fnFormatNumber: null,
        aLengthMenu: null,
        iDraw: 0,
        bDrawing: !1,
        iDrawError: -1,
        _iDisplayLength: 10,
        _iDisplayStart: 0,
        _iRecordsTotal: 0,
        _iRecordsDisplay: 0,
        bJUI: null,
        oClasses: {},
        bFiltered: !1,
        bSorted: !1,
        bSortCellsTop: null,
        oInit: null,
        aoDestroyCallback: [],
        fnRecordsTotal: function() {
            return "ssp" == y(this) ? 1 * this._iRecordsTotal : this.aiDisplayMaster.length
        },
        fnRecordsDisplay: function() {
            return "ssp" == y(this) ? 1 * this._iRecordsDisplay : this.aiDisplay.length
        },
        fnDisplayEnd: function() {
            var a = this._iDisplayLength,
                b = this._iDisplayStart,
                c = b + a,
                d = this.aiDisplay.length,
                e = this.oFeatures,
                f = e.bPaginate;
            return e.bServerSide ? !1 === f || -1 === a ? b + d : Math.min(b + a, this._iRecordsDisplay) : !f || c > d || -1 === a ? d : c
        },
        oInstance: null,
        sInstance: null,
        iTabIndex: 0,
        nScrollHead: null,
        nScrollFoot: null,
        aLastSort: [],
        oPlugins: {},
        rowIdFn: null,
        rowId: null
    };
    m.ext = x = {
        buttons: {},
        classes: {},
        builder: "-source-",
        errMode: "alert",
        feature: [],
        search: [],
        selector: {
            cell: [],
            column: [],
            row: []
        },
        internal: {},
        legacy: {
            ajax: null
        },
        pager: {},
        renderer: {
            pageButton: {},
            header: {}
        },
        order: {},
        type: {
            detect: [],
            search: {},
            order: {}
        },
        _unique: 0,
        fnVersionCheck: m.fnVersionCheck,
        iApiIndex: 0,
        oJUIClasses: {},
        sVersion: m.version
    };
    h.extend(x, {
        afnFiltering: x.search,
        aTypes: x.type.detect,
        ofnSearch: x.type.search,
        oSort: x.type.order,
        afnSortData: x.order,
        aoFeatures: x.feature,
        oApi: x.internal,
        oStdClasses: x.classes,
        oPagination: x.pager
    });
    h.extend(m.ext.classes, {
        sTable: "dataTable",
        sNoFooter: "no-footer",
        sPageButton: "paginate_button",
        sPageButtonActive: "current",
        sPageButtonDisabled: "disabled",
        sStripeOdd: "odd",
        sStripeEven: "even",
        sRowEmpty: "dataTables_empty",
        sWrapper: "dataTables_wrapper",
        sFilter: "dataTables_filter",
        sInfo: "dataTables_info",
        sPaging: "dataTables_paginate paging_",
        sLength: "dataTables_length",
        sProcessing: "dataTables_processing",
        sSortAsc: "sorting_asc",
        sSortDesc: "sorting_desc",
        sSortable: "sorting",
        sSortableAsc: "sorting_asc_disabled",
        sSortableDesc: "sorting_desc_disabled",
        sSortableNone: "sorting_disabled",
        sSortColumn: "sorting_",
        sFilterInput: "",
        sLengthSelect: "",
        sScrollWrapper: "dataTables_scroll",
        sScrollHead: "dataTables_scrollHead",
        sScrollHeadInner: "dataTables_scrollHeadInner",
        sScrollBody: "dataTables_scrollBody",
        sScrollFoot: "dataTables_scrollFoot",
        sScrollFootInner: "dataTables_scrollFootInner",
        sHeaderTH: "",
        sFooterTH: "",
        sSortJUIAsc: "",
        sSortJUIDesc: "",
        sSortJUI: "",
        sSortJUIAscAllowed: "",
        sSortJUIDescAllowed: "",
        sSortJUIWrapper: "",
        sSortIcon: "",
        sJUIHeader: "",
        sJUIFooter: ""
    });
    var Ea = "",
        Ea = "",
        G = Ea + "ui-state-default",
        ka = Ea + "css_right ui-icon ui-icon-",
        Yb = Ea + "fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";
    h.extend(m.ext.oJUIClasses, m.ext.classes, {
        sPageButton: "fg-button ui-button " + G,
        sPageButtonActive: "ui-state-disabled",
        sPageButtonDisabled: "ui-state-disabled",
        sPaging: "dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",
        sSortAsc: G + " sorting_asc",
        sSortDesc: G + " sorting_desc",
        sSortable: G + " sorting",
        sSortableAsc: G + " sorting_asc_disabled",
        sSortableDesc: G + " sorting_desc_disabled",
        sSortableNone: G + " sorting_disabled",
        sSortJUIAsc: ka + "triangle-1-n",
        sSortJUIDesc: ka + "triangle-1-s",
        sSortJUI: ka + "carat-2-n-s",
        sSortJUIAscAllowed: ka + "carat-1-n",
        sSortJUIDescAllowed: ka + "carat-1-s",
        sSortJUIWrapper: "DataTables_sort_wrapper",
        sSortIcon: "DataTables_sort_icon",
        sScrollHead: "dataTables_scrollHead " + G,
        sScrollFoot: "dataTables_scrollFoot " + G,
        sHeaderTH: G,
        sFooterTH: G,
        sJUIHeader: Yb + " ui-corner-tl ui-corner-tr",
        sJUIFooter: Yb + " ui-corner-bl ui-corner-br"
    });
    var Nb = m.ext.pager;
    h.extend(Nb, {
        simple: function() {
            return ["previous", "next"]
        },
        full: function() {
            return ["first", "previous", "next", "last"]
        },
        numbers: function(a, b) {
            return [ia(a, b)]
        },
        simple_numbers: function(a, b) {
            return ["previous", ia(a, b), "next"]
        },
        full_numbers: function(a, b) {
            return ["first", "previous", ia(a, b), "next", "last"]
        },
        first_last_numbers: function(a, b) {
            return ["first", ia(a, b), "last"]
        },
        _numbers: ia,
        numbers_length: 7
    });
    h.extend(!0, m.ext.renderer, {
        pageButton: {
            _: function(a, b, c, d, e, f) {
                var g = a.oClasses,
                    j = a.oLanguage.oPaginate,
                    i = a.oLanguage.oAria.paginate || {},
                    m, l, p = 0,
                    r = function(b, d) {
                        var k, t, u, s, v = function(b) {
                            Va(a, b.data.action, !0)
                        };
                        k = 0;
                        for (t = d.length; k < t; k++) {
                            s = d[k];
                            if (h.isArray(s)) {
                                u = h("<" + (s.DT_el || "div") + "/>").appendTo(b);
                                r(u, s)
                            } else {
                                m = null;
                                l = "";
                                switch (s) {
                                    case "ellipsis":
                                        b.append('<span class="ellipsis">&#x2026;</span>');
                                        break;
                                    case "first":
                                        m = j.sFirst;
                                        l = s + (e > 0 ? "" : " " + g.sPageButtonDisabled);
                                        break;
                                    case "previous":
                                        m = j.sPrevious;
                                        l = s + (e > 0 ? "" : " " + g.sPageButtonDisabled);
                                        break;
                                    case "next":
                                        m = j.sNext;
                                        l = s + (e < f - 1 ? "" : " " + g.sPageButtonDisabled);
                                        break;
                                    case "last":
                                        m = j.sLast;
                                        l = s + (e < f - 1 ? "" : " " + g.sPageButtonDisabled);
                                        break;
                                    default:
                                        m = s + 1;
                                        l = e === s ? g.sPageButtonActive : ""
                                }
                                if (m !== null) {
                                    u = h("<a>", {
                                        "class": g.sPageButton + " " + l,
                                        "aria-controls": a.sTableId,
                                        "aria-label": i[s],
                                        "data-dt-idx": p,
                                        tabindex: a.iTabIndex,
                                        id: c === 0 && typeof s === "string" ? a.sTableId + "_" + s : null
                                    }).html(m).appendTo(b);
                                    Ya(u, {
                                        action: s
                                    }, v);
                                    p++
                                }
                            }
                        }
                    },
                    t;
                try {
                    t = h(b).find(H.activeElement).data("dt-idx")
                } catch (u) {}
                r(h(b).empty(), d);
                t !== k && h(b).find("[data-dt-idx=" + t + "]").focus()
            }
        }
    });
    h.extend(m.ext.type.detect, [function(a, b) {
        var c = b.oLanguage.sDecimal;
        return ab(a, c) ? "num" + c : null
    }, function(a) {
        if (a && !(a instanceof Date) && !cc.test(a)) return null;
        var b = Date.parse(a);
        return null !== b && !isNaN(b) || M(a) ? "date" : null
    }, function(a, b) {
        var c = b.oLanguage.sDecimal;
        return ab(a, c, !0) ? "num-fmt" + c : null
    }, function(a, b) {
        var c = b.oLanguage.sDecimal;
        return Sb(a, c) ? "html-num" + c : null
    }, function(a, b) {
        var c = b.oLanguage.sDecimal;
        return Sb(a, c, !0) ? "html-num-fmt" + c : null
    }, function(a) {
        return M(a) || "string" === typeof a && -1 !== a.indexOf("<") ? "html" : null
    }]);
    h.extend(m.ext.type.search, {
        html: function(a) {
            return M(a) ? a : "string" === typeof a ? a.replace(Pb, " ").replace(Ca, "") : ""
        },
        string: function(a) {
            return M(a) ? a : "string" === typeof a ? a.replace(Pb, " ") : a
        }
    });
    var Ba = function(a, b, c, d) {
        if (0 !== a && (!a || "-" === a)) return -Infinity;
        b && (a = Rb(a, b));
        a.replace && (c && (a = a.replace(c, "")), d && (a = a.replace(d, "")));
        return 1 * a
    };
    h.extend(x.type.order, {
        "date-pre": function(a) {
            return Date.parse(a) || -Infinity
        },
        "html-pre": function(a) {
            return M(a) ? "" : a.replace ? a.replace(/<.*?>/g, "").toLowerCase() : a + ""
        },
        "string-pre": function(a) {
            return M(a) ? "" : "string" === typeof a ? a.toLowerCase() : !a.toString ? "" : a.toString()
        },
        "string-asc": function(a, b) {
            return a < b ? -1 : a > b ? 1 : 0
        },
        "string-desc": function(a, b) {
            return a < b ? 1 : a > b ? -1 : 0
        }
    });
    fb("");
    h.extend(!0, m.ext.renderer, {
        header: {
            _: function(a, b, c, d) {
                h(a.nTable).on("order.dt.DT", function(e, f, g, h) {
                    if (a === f) {
                        e = c.idx;
                        b.removeClass(c.sSortingClass + " " + d.sSortAsc + " " + d.sSortDesc).addClass(h[e] == "asc" ? d.sSortAsc : h[e] == "desc" ? d.sSortDesc : c.sSortingClass)
                    }
                })
            },
            jqueryui: function(a, b, c, d) {
                h("<div/>").addClass(d.sSortJUIWrapper).append(b.contents()).append(h("<span/>").addClass(d.sSortIcon + " " + c.sSortingClassJUI)).appendTo(b);
                h(a.nTable).on("order.dt.DT", function(e, f, g, h) {
                    if (a === f) {
                        e = c.idx;
                        b.removeClass(d.sSortAsc + " " + d.sSortDesc).addClass(h[e] == "asc" ? d.sSortAsc : h[e] == "desc" ? d.sSortDesc : c.sSortingClass);
                        b.find("span." + d.sSortIcon).removeClass(d.sSortJUIAsc + " " + d.sSortJUIDesc + " " + d.sSortJUI + " " + d.sSortJUIAscAllowed + " " + d.sSortJUIDescAllowed).addClass(h[e] == "asc" ? d.sSortJUIAsc : h[e] == "desc" ? d.sSortJUIDesc : c.sSortingClassJUI)
                    }
                })
            }
        }
    });
    var Zb = function(a) {
        return "string" === typeof a ? a.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;") : a
    };
    m.render = {
        number: function(a, b, c, d, e) {
            return {
                display: function(f) {
                    if ("number" !== typeof f && "string" !== typeof f) return f;
                    var g = 0 > f ? "-" : "",
                        h = parseFloat(f);
                    if (isNaN(h)) return Zb(f);
                    h = h.toFixed(c);
                    f = Math.abs(h);
                    h = parseInt(f, 10);
                    f = c ? b + (f - h).toFixed(c).substring(2) : "";
                    return g + (d || "") + h.toString().replace(/\B(?=(\d{3})+(?!\d))/g, a) + f + (e || "")
                }
            }
        },
        text: function() {
            return {
                display: Zb
            }
        }
    };
    h.extend(m.ext.internal, {
        _fnExternApiFunc: Ob,
        _fnBuildAjax: ua,
        _fnAjaxUpdate: nb,
        _fnAjaxParameters: wb,
        _fnAjaxUpdateDraw: xb,
        _fnAjaxDataSrc: va,
        _fnAddColumn: Ga,
        _fnColumnOptions: la,
        _fnAdjustColumnSizing: Z,
        _fnVisibleToColumnIndex: $,
        _fnColumnIndexToVisible: aa,
        _fnVisbleColumns: ba,
        _fnGetColumns: na,
        _fnColumnTypes: Ia,
        _fnApplyColumnDefs: kb,
        _fnHungarianMap: Y,
        _fnCamelToHungarian: J,
        _fnLanguageCompat: Fa,
        _fnBrowserDetect: ib,
        _fnAddData: N,
        _fnAddTr: oa,
        _fnNodeToDataIndex: function(a, b) {
            return b._DT_RowIndex !== k ? b._DT_RowIndex : null
        },
        _fnNodeToColumnIndex: function(a, b, c) {
            return h.inArray(c, a.aoData[b].anCells)
        },
        _fnGetCellData: B,
        _fnSetCellData: lb,
        _fnSplitObjNotation: La,
        _fnGetObjectDataFn: R,
        _fnSetObjectDataFn: S,
        _fnGetDataMaster: Ma,
        _fnClearTable: pa,
        _fnDeleteIndex: qa,
        _fnInvalidate: da,
        _fnGetRowElements: Ka,
        _fnCreateTr: Ja,
        _fnBuildHead: mb,
        _fnDrawHead: fa,
        _fnDraw: O,
        _fnReDraw: T,
        _fnAddOptionsHtml: pb,
        _fnDetectHeader: ea,
        _fnGetUniqueThs: ta,
        _fnFeatureHtmlFilter: rb,
        _fnFilterComplete: ga,
        _fnFilterCustom: Ab,
        _fnFilterColumn: zb,
        _fnFilter: yb,
        _fnFilterCreateSearch: Ra,
        _fnEscapeRegex: Sa,
        _fnFilterData: Bb,
        _fnFeatureHtmlInfo: ub,
        _fnUpdateInfo: Eb,
        _fnInfoMacros: Fb,
        _fnInitialise: ha,
        _fnInitComplete: wa,
        _fnLengthChange: Ta,
        _fnFeatureHtmlLength: qb,
        _fnFeatureHtmlPaginate: vb,
        _fnPageChange: Va,
        _fnFeatureHtmlProcessing: sb,
        _fnProcessingDisplay: C,
        _fnFeatureHtmlTable: tb,
        _fnScrollDraw: ma,
        _fnApplyToChildren: I,
        _fnCalculateColumnWidths: Ha,
        _fnThrottle: Qa,
        _fnConvertToWidth: Gb,
        _fnGetWidestNode: Hb,
        _fnGetMaxLenString: Ib,
        _fnStringToCss: v,
        _fnSortFlatten: W,
        _fnSort: ob,
        _fnSortAria: Kb,
        _fnSortListener: Xa,
        _fnSortAttachListener: Oa,
        _fnSortingClasses: ya,
        _fnSortData: Jb,
        _fnSaveState: za,
        _fnLoadState: Lb,
        _fnSettingsFromNode: Aa,
        _fnLog: K,
        _fnMap: F,
        _fnBindAction: Ya,
        _fnCallbackReg: z,
        _fnCallbackFire: s,
        _fnLengthOverflow: Ua,
        _fnRenderer: Pa,
        _fnDataSource: y,
        _fnRowAttributes: Na,
        _fnCalculateEnd: function() {}
    });
    h.fn.dataTable = m;
    m.$ = h;
    h.fn.dataTableSettings = m.settings;
    h.fn.dataTableExt = m.ext;
    h.fn.DataTable = function(a) {
        return h(this).dataTable(a).api()
    };
    h.each(m, function(a, b) {
        h.fn.DataTable[a] = b
    });
    return h.fn.dataTable
});
(function($) {
    $.fn.columnFilter = function(options) {
        var customSearchIndexes = [];
        var properties = {
            sPlaceHolder: "foot",
            sRangeSeparator: "~",
            aoColumns: null,
            sRangeFormat: "From {from} to {to}"
        };
        $.extend(properties, options);
        var oTable = this,
            columnIndex, sColumnLabel, th, tr, aoFilterCells;
        var afnSearch_ = [];
        return this.each(function() {
            if (properties.sPlaceHolder === 'head:before') {
                tr = $("tr:first", oTable.fnSettings().nTHead).detach();
                tr.appendTo($(oTable.fnSettings().nTHead));
                aoFilterCells = oTable.fnSettings().aoHeader[0]
            } else {
                aoFilterCells = oTable.fnSettings().aoFooter[0]
            }
            $(aoFilterCells).each(function(index) {
                columnIndex = index;
                var aoColumn = {
                    type: "text",
                    bRegex: !1,
                    bSmart: !0,
                    iMaxLength: -1,
                    iFilterLength: 0
                };
                sColumnLabel = $($(this)[0].cell).text();
                if (properties.aoColumns !== null) {
                    if (properties.aoColumns.length < columnIndex || properties.aoColumns[columnIndex] === null)
                        return;
                    aoColumn = properties.aoColumns[columnIndex]
                }
                if (typeof aoColumn.sSelector === 'undefined') {
                    th = $($(this)[0].cell)
                } else {
                    th = $(aoColumn.sSelector)
                }
                th.addClass('column-' + aoColumn.origHeader.toString().toLowerCase().replace(/\ /g, '-'));
                if (typeof aoColumn.sRangeFormat !== 'undefined')
                    sRangeFormat = aoColumn.sRangeFormat;
                else sRangeFormat = properties.sRangeFormat;
                if (aoColumn !== null) {
                    switch (aoColumn.type) {
                        case 'null':
                            break;
                        case 'number':
                            wdtCreateInput(oTable, aoColumn, columnIndex, sColumnLabel, th);
                            break;
                        case 'number-range':
                            wdtCreateNumberRangeInput(oTable, aoColumn, columnIndex, sColumnLabel, th, customSearchIndexes);
                            break;
                        case 'date-range':
                            wdtCreateDateRangeInput(oTable, aoColumn, columnIndex, sColumnLabel, th, customSearchIndexes);
                            break;
                        case 'datetime-range':
                            wdtCreateDateTimeRangeInput(oTable, aoColumn, columnIndex, sColumnLabel, th, customSearchIndexes);
                            break;
                        case 'time-range':
                            wdtCreateTimeRangeInput(oTable, aoColumn, columnIndex, sColumnLabel, th, customSearchIndexes);
                            break;
                        case 'select':
                            wdtCreateSelectbox(oTable, aoColumn, columnIndex, sColumnLabel, th);
                            break;
                        case 'multiselect':
                            wdtCreateMultiSelectbox(oTable, aoColumn, columnIndex, sColumnLabel, th);
                            break;
                        case 'checkbox':
                            wdtCreateCheckbox(oTable, aoColumn, columnIndex, sColumnLabel, th);
                            break;
                        case 'text':
                        default:
                            wdtCreateInput(oTable, aoColumn, columnIndex, sColumnLabel, th);
                            break
                    }
                }
            });
            for (var j = 0; j < customSearchIndexes.length; j++) {
                var fnSearch_ = function() {
                    var id = oTable.attr("id");
                    if ((typeof $("#" + id + "_range_from_" + customSearchIndexes[j]).val() === 'undefined') || (typeof $("#" + id + "_range_to_" + customSearchIndexes[j]).val() === 'undefined')) {
                        return properties.sRangeSeparator
                    }
                    return $("#" + id + "_range_from_" + customSearchIndexes[j]).val() + properties.sRangeSeparator + $("#" + id + "_range_to_" + customSearchIndexes[j]).val()
                };
                afnSearch_.push(fnSearch_)
            }
            if (oTable.fnSettings().oFeatures.bServerSide) {
                if (typeof oTable.fnSettings().ajax.data !== 'undefined') {
                    var currentDataMethod = oTable.fnSettings().ajax.data
                }
                oTable.fnSettings().ajax = {
                    url: oTable.fnSettings().ajax.url,
                    type: 'POST',
                    data: function(d) {
                        if (typeof currentDataMethod !== 'undefined') {
                            currentDataMethod(d)
                        }
                        for (j = 0; j < customSearchIndexes.length; j++) {
                            var index = customSearchIndexes[j];
                            d.columns[index].search.value = afnSearch_[j]()
                        }
                        d.sRangeSeparator = properties.sRangeSeparator
                    }
                }
            }
            wdtClearFilters()
        })
    }
})(jQuery);
var sRangeFormat = wpdatatables_frontend_strings.from + " {from} " + wpdatatables_frontend_strings.to + " {to}";
var fnOnFiltered = function() {};

function wdtCreateInput(oTable, aoColumn, columnIndex, sColumnLabel, th) {
    var bIsNumber = aoColumn.type === 'number';
    var serverSide = oTable.fnSettings().oFeatures.bServerSide;
    var sCSSClass = aoColumn.type === 'number' ? 'number_filter' : 'text_filter';
    sColumnLabel = sColumnLabel.replace(/(^\s*)|(\s*$)/g, "");
    var placeholder = aoColumn.filterLabel ? aoColumn.filterLabel : sColumnLabel;
    var input = jQuery('<input type="' + aoColumn.type + '" class="form-control wdt-filter-control ' + sCSSClass + '" placeholder="' + placeholder + '" />');
    th.html(input);
    if (bIsNumber)
        th.wrapInner('<span class="filter_column wdt-filter-number" data-filter_type="number" data-index="' + columnIndex + '"/>');
    else th.wrapInner('<span class="filter_column wdt-filter-text" data-filter_type="text" data-index="' + columnIndex + '"/>');
    input.keyup(function(e) {
        inputSearch(this.value, e.keyCode)
    });

    function inputSearch(value, keyCode) {
        if (typeof keyCode !== 'undefined' && jQuery.inArray(keyCode, [16, 37, 38, 39, 40]) !== -1) {
            return
        }
        var tableId = oTable.attr('id');
        var search = '';
        if (aoColumn.exactFiltering) {
            search = serverSide ? value : "^" + value + "$";
            oTable.api().column(columnIndex).search(value ? search : '', !0, !1)
        } else {
            search = bIsNumber && !serverSide ? '^' + value : value;
            oTable.api().column(columnIndex).search(search, bIsNumber, !1)
        }
        if (typeof wpDataTables[tableId].drawTable === 'undefined' || wpDataTables[tableId].drawTable === !0) {
            oTable.api().draw()
        }
        fnOnFiltered()
    }
    if (aoColumn.defaultValue) {
        var defaultValue = jQuery.isArray(aoColumn.defaultValue) ? aoColumn.defaultValue[0] : aoColumn.defaultValue;
        jQuery(input).val(defaultValue);
        oTable.fnFilter(defaultValue, columnIndex)
    }
}

function wdtCreateNumberRangeInput(oTable, aoColumn, columnIndex, sColumnLabel, th, customSearchIndexes) {
    var tableId = oTable.attr('id');
    var fromDefaultValue = '',
        toDefaultValue = '',
        defaultValue = aoColumn.defaultValue;
    var tableDescription = jQuery.parseJSON(jQuery('#' + oTable.data('described-by')).val());
    var numberFormat = (typeof tableDescription.numberFormat !== 'undefined') ? parseInt(tableDescription.numberFormat) : 1;
    var replaceFormat = numberFormat === 1 ? /\./g : /,/g;
    if (defaultValue !== '') {
        fromDefaultValue = defaultValue[0];
        toDefaultValue = defaultValue[1]
    }
    th.html('');
    var sFromId = oTable.attr("id") + '_range_from_' + columnIndex;
    var from = jQuery('<input type="number" class="form-control wdt-filter-control number-range-filter" id="' + sFromId + '" rel="' + columnIndex + '" placeholder="' + wpdatatables_frontend_strings.from + '" />');
    th.append(from);
    var sToId = oTable.attr("id") + '_range_to_' + columnIndex;
    var to = jQuery('<input type="number" class="form-control wdt-filter-control number-range-filter" id="' + sToId + '" rel="' + columnIndex + '" placeholder="' + wpdatatables_frontend_strings.to + '" />');
    th.append(to);
    th.wrapInner('<span class="filter_column wdt-filter-number-range" data-filter_type="number range" data-index="' + columnIndex + '"/>');
    customSearchIndexes.push(columnIndex);
    oTable.dataTableExt.afnFiltering.push(function(oSettings, aData, iDataIndex) {
        if (oTable.attr("id") !== oSettings.sTableId)
            return !0;
        if (document.getElementById(sFromId) == null)
            return !0;
        var iMin = document.getElementById(sFromId).value.replace(replaceFormat, '');
        var iMax = document.getElementById(sToId).value.replace(replaceFormat, '');
        var iValue = aData[columnIndex] == "-" ? '0' : aData[columnIndex].replace(replaceFormat, '');
        if (numberFormat === 1) {
            iMin = iMin.replace(/,/g, '.');
            iMax = iMax.replace(/,/g, '.');
            iValue = iValue.replace(/,/g, '.')
        }
        if (iMin !== '') {
            iMin = iMin * 1
        }
        if (iMax !== '') {
            iMax = iMax * 1
        }
        iValue = iValue * 1;
        return (iMin === "" && iMax === "") || (iMin === "" && iValue <= iMax) || (iMin <= iValue && "" === iMax) || (iMin <= iValue && iValue <= iMax)
    });
    jQuery('#' + sFromId + ', #' + sToId, th).keyup(function() {
        numberRangeSearch()
    });
    if (fromDefaultValue) {
        jQuery(from).val(fromDefaultValue);
        jQuery(document).ready(function() {
            jQuery(from).keyup()
        })
    }
    if (toDefaultValue) {
        jQuery(to).val(toDefaultValue);
        jQuery(document).ready(function() {
            jQuery(to).keyup()
        })
    }

    function numberRangeSearch() {
        var iMin = document.getElementById(sFromId).value * 1;
        var iMax = document.getElementById(sToId).value * 1;
        if (iMin != 0 && iMax != 0 && iMin > iMax)
            return;
        if (typeof wpDataTables[tableId].drawTable === 'undefined' || wpDataTables[tableId].drawTable === !0) {
            oTable.api().draw()
        }
        fnOnFiltered()
    }
}

function wdtCreateDateRangeInput(oTable, aoColumn, columnIndex, sColumnLabel, th, customSearchIndexes) {
    var tableId = oTable.attr('id');
    var fromDefaultValue = '',
        toDefaultValue = '',
        defaultValue = aoColumn.defaultValue;
    var dateFormat = getMomentWdtDateFormat();
    if (defaultValue !== '') {
        fromDefaultValue = defaultValue[0];
        toDefaultValue = defaultValue[1]
    }
    th.html('');
    var sFromId = oTable.attr("id") + '_range_from_' + columnIndex;
    var from = jQuery('<input type="text" class="form-control wdt-filter-control date-range-filter wdt-datepicker" id="' + sFromId + '" rel="' + columnIndex + '" placeholder="' + wpdatatables_frontend_strings.from + '" />');
    var sToId = oTable.attr("id") + '_range_to_' + columnIndex;
    var to = jQuery('<input type="text" class="form-control wdt-filter-control date-range-filter wdt-datepicker" id="' + sToId + '" rel="' + columnIndex + '" placeholder="' + wpdatatables_frontend_strings.to + '" />');
    th.append(from).append(to);
    th.wrapInner('<span class="filter_column wdt-filter-date-range" data-filter_type="date range" data-index="' + columnIndex + '"/>');
    customSearchIndexes.push(columnIndex);
    oTable.dataTableExt.afnFiltering.push(function(oSettings, aData, iDataIndex) {
        if (oTable.attr("id") != oSettings.sTableId)
            return !0;
        var dStartDate = moment(from.val(), dateFormat).toDate();
        var dEndDate = moment(to.val(), dateFormat).toDate();
        if (isNaN(dStartDate.getTime()) && isNaN(dEndDate.getTime())) {
            return !0
        }
        var dCellDate = null;
        try {
            if (aData[columnIndex] === null || aData[columnIndex] === "")
                return !1;
            dCellDate = moment(aData[columnIndex], dateFormat).toDate()
        } catch (ex) {
            return !1
        }
        if (isNaN(dCellDate.getTime()))
            return !1;
        return (isNaN(dStartDate.getTime()) && dCellDate <= dEndDate) || (dStartDate <= dCellDate && isNaN(dEndDate.getTime())) || (dStartDate <= dCellDate && dCellDate <= dEndDate)
    });
    jQuery('#' + sFromId + ', #' + sToId, th).on('dp.change', function() {
        if (typeof wpDataTables[tableId].drawTable === 'undefined' || wpDataTables[tableId].drawTable === !0) {
            oTable.api().draw()
        }
        fnOnFiltered()
    });
    if (fromDefaultValue) {
        jQuery(from).val(fromDefaultValue);
        jQuery(document).ready(function() {
            jQuery(from).change()
        })
    }
    if (toDefaultValue) {
        jQuery(to).val(toDefaultValue);
        jQuery(document).ready(function() {
            jQuery(to).change()
        })
    }
}

function wdtCreateDateTimeRangeInput(oTable, aoColumn, columnIndex, sColumnLabel, th, customSearchIndexes) {
    var tableId = oTable.attr('id');
    var fromDefaultValue = '',
        toDefaultValue = '',
        defaultValue = aoColumn.defaultValue;
    var dateFormat = getMomentWdtDateFormat();
    var timeFormat = getMomentWdtTimeFormat();
    if (defaultValue !== '') {
        fromDefaultValue = defaultValue[0];
        toDefaultValue = defaultValue[1]
    }
    th.html('');
    var sFromId = oTable.attr("id") + '_range_from_' + columnIndex;
    var fromHTML = '<input type="text" class="form-control wdt-filter-control date-time-range-filter wdt-datetimepicker" id="' + sFromId + '" rel="' + columnIndex + '" placeholder="' + wpdatatables_frontend_strings.from + '" />';
    var from = jQuery(fromHTML);
    var sToId = oTable.attr("id") + '_range_to_' + columnIndex;
    var toHTML = '<input type="text" class="form-control wdt-filter-control date-time-range-filter wdt-datetimepicker" id="' + sToId + '" rel="' + columnIndex + '" placeholder="' + wpdatatables_frontend_strings.to + '" />';
    var to = jQuery(toHTML);
    th.append(from).append(to);
    th.wrapInner('<span class="filter_column wdt-filter-date-time-range" data-filter_type="datetime range" data-index="' + columnIndex + '"/>');
    customSearchIndexes.push(columnIndex);
    oTable.dataTableExt.afnFiltering.push(function(oSettings, aData, iDataIndex) {
        if (oTable.attr("id") != oSettings.sTableId)
            return !0;
        var dStartDate = moment(from.val(), dateFormat + ' ' + timeFormat).toDate();
        var dEndDate = moment(to.val(), dateFormat + ' ' + timeFormat).toDate();
        if (isNaN(dStartDate.getTime()) && isNaN(dEndDate.getTime())) {
            return !0
        }
        var dCellDate = null;
        try {
            if (aData[columnIndex] === null || aData[columnIndex] === '')
                return !1;
            dCellDate = moment(aData[columnIndex], dateFormat + ' ' + timeFormat).toDate()
        } catch (ex) {
            return !1
        }
        if (isNaN(dCellDate.getTime()))
            return !1;
        return (isNaN(dStartDate.getTime()) && dCellDate <= dEndDate) || (dStartDate <= dCellDate && isNaN(dEndDate.getTime())) || (dStartDate <= dCellDate && dCellDate <= dEndDate)
    });
    jQuery('#' + sFromId + ', #' + sToId, th).on('dp.change', function() {
        if (typeof wpDataTables[tableId].drawTable === 'undefined' || wpDataTables[tableId].drawTable === !0) {
            oTable.api().draw()
        }
        fnOnFiltered()
    });
    if (fromDefaultValue) {
        jQuery(from).val(fromDefaultValue);
        jQuery(document).ready(function() {
            jQuery(from).change()
        })
    }
    if (toDefaultValue) {
        jQuery(to).val(toDefaultValue);
        jQuery(document).ready(function() {
            jQuery(to).change()
        })
    }
}

function wdtCreateTimeRangeInput(oTable, aoColumn, columnIndex, sColumnLabel, th, customSearchIndexes) {
    var tableId = oTable.attr('id');
    var fromDefaultValue = '',
        toDefaultValue = '',
        defaultValue = aoColumn.defaultValue;
    var timeFormat = getMomentWdtTimeFormat();
    if (defaultValue !== '') {
        fromDefaultValue = defaultValue[0];
        toDefaultValue = defaultValue[1]
    }
    th.html('');
    var sFromId = oTable.attr("id") + '_range_from_' + columnIndex;
    var fromHTML = '<input type="text" class="form-control wdt-filter-control time-range-filter wdt-timepicker" id="' + sFromId + '" rel="' + columnIndex + '" placeholder="' + wpdatatables_frontend_strings.from + '" />';
    var from = jQuery(fromHTML);
    var sToId = oTable.attr("id") + '_range_to_' + columnIndex;
    var toHTML = '<input type="text" class="form-control wdt-filter-control time-range-filter wdt-timepicker" id="' + sToId + '" rel="' + columnIndex + '" placeholder="' + wpdatatables_frontend_strings.to + '" />';
    var to = jQuery(toHTML);
    th.append(from).append(to);
    th.wrapInner('<span class="filter_column filter_date_range" data-filter_type="time range" data-index="' + columnIndex + '"/>');
    customSearchIndexes.push(columnIndex);
    oTable.dataTableExt.afnFiltering.push(function(oSettings, aData, iDataIndex) {
        if (oTable.attr("id") != oSettings.sTableId)
            return !0;
        var dStartTime = moment(from.val(), timeFormat).toDate();
        var dEndTime = moment(to.val(), timeFormat).toDate();
        if (isNaN(dStartTime.getTime()) && isNaN(dEndTime.getTime())) {
            return !0
        }
        var dCellTime = null;
        try {
            if (aData[columnIndex] === null || aData[columnIndex] === '')
                return !1;
            dCellTime = moment(aData[columnIndex], timeFormat).toDate()
        } catch (ex) {
            return !1
        }
        if (isNaN(dCellTime.getTime()))
            return !1;
        return (isNaN(dStartTime.getTime()) && dCellTime <= dEndTime) || (dStartTime <= dCellTime && isNaN(dEndTime.getTime())) || (dStartTime <= dCellTime && dCellTime <= dEndTime)
    });
    jQuery('#' + sFromId + ', #' + sToId, th).on('dp.change', function() {
        if (typeof wpDataTables[tableId].drawTable === 'undefined' || wpDataTables[tableId].drawTable === !0) {
            oTable.api().draw()
        }
        fnOnFiltered()
    });
    if (fromDefaultValue) {
        jQuery(from).val(fromDefaultValue);
        jQuery(document).ready(function() {
            jQuery(from).change()
        })
    }
    if (toDefaultValue) {
        jQuery(to).val(toDefaultValue);
        jQuery(document).ready(function() {
            jQuery(to).change()
        })
    }
}

function wdtCreateSelectbox(oTable, aoColumn, columnIndex, sColumnLabel, th) {
    var tableId = oTable.attr('id'),
        serverSide = oTable.fnSettings().oFeatures.bServerSide,
        selected;
    var dateFormat = getMomentWdtDateFormat();
    var timeFormat = getMomentWdtTimeFormat();
    if (aoColumn.values === null)
        aoColumn.values = getColumnDistinctValues(tableId, columnIndex, !1);
    if (aoColumn.possibleValuesAddEmpty === !0 && !serverSide) {
        aoColumn.values.unshift('possibleValuesAddEmpty')
    }
    if (aoColumn.defaultValue !== '') {
        if (jQuery.isArray(aoColumn.defaultValue)) {
            aoColumn.defaultValue = aoColumn.defaultValue[0]
        }
    }
    var selectTitle = aoColumn.filterLabel ? aoColumn.filterLabel : '';
    var select = '<select class="wdt-select-filter wdt-filter-control selectpicker" title="' + selectTitle + '" data-index="' + columnIndex + '"><option value="">' + ' ' + '</option>';
    var iLen = aoColumn.values.length;
    for (var j = 0; j < iLen; j++) {
        if (typeof(aoColumn.values[j]) !== 'object') {
            selected = '';
            if ((aoColumn.defaultValue !== '') && (encodeURI(aoColumn.values[j]) == encodeURI(aoColumn.defaultValue))) {
                selected = 'selected="selected" '
            }
            var optionLabel = aoColumn.values[j];
            if (aoColumn.values[j] === 'possibleValuesAddEmpty') {
                optionLabel = ' '
            }
            if (serverSide) {
                if (oTable.fnSettings().aoColumns[columnIndex].wdtType === 'date') {
                    optionLabel = moment(optionLabel, moment.ISO_8601).format(dateFormat)
                }
                if (oTable.fnSettings().aoColumns[columnIndex].wdtType === 'time') {
                    optionLabel = moment(optionLabel, 'hh:mm:ss').format(timeFormat.replace('h', 'hh'))
                }
                if (oTable.fnSettings().aoColumns[columnIndex].wdtType === 'datetime') {
                    optionLabel = moment(optionLabel, moment.ISO_8601).format(dateFormat + ' ' + timeFormat.replace('h', 'hh'))
                }
            }
            select += '<option ' + selected + ' value="' + encodeURI(aoColumn.values[j]) + '">' + optionLabel + '</option>'
        } else {
            selected = '';
            if ((aoColumn.defaultValue !== '') && (aoColumn.values[j].value == aoColumn.defaultValue)) {
                selected = 'selected="selected" '
            }
            select += '<option ' + selected + 'value="' + encodeURI(aoColumn.values[j].value) + '">' + aoColumn.values[j].label + '</option>'
        }
    }
    select = jQuery(select + '</select>');
    th.html(select);
    th.wrapInner('<span class="filter_column filter_select" data-filter_type="selectbox" data-index="' + columnIndex + '"/>');
    select.on('change.selectChange', function() {
        selectboxSearch.call(jQuery(this))
    });
    if (aoColumn.defaultValue) {
        oTable.fnFilter(aoColumn.defaultValue, columnIndex)
    }
    jQuery('.selectpicker[data-index=' + columnIndex + ']').selectpicker('refresh');

    function selectboxSearch() {
        var search = '';
        if (jQuery(this).val() === 'possibleValuesAddEmpty' && !serverSide) {
            oTable.api().column(columnIndex).search('^$', !0, !1)
        } else {
            if (aoColumn.exactFiltering) {
                search = serverSide ? decodeURIComponent(jQuery(this).val()) : '^' + decodeURIComponent(jQuery(this).val()) + '$';
                oTable.api().column(columnIndex).search(jQuery(this).val() ? search : '', !0, !1)
            } else {
                oTable.api().column(columnIndex).search(decodeURIComponent(jQuery(this).val()), !0, !1)
            }
        }
        if (typeof wpDataTables[tableId].drawTable === 'undefined' || wpDataTables[tableId].drawTable === !0) {
            oTable.api().draw()
        }
        fnOnFiltered()
    }
}

function wdtCreateMultiSelectbox(oTable, aoColumn, columnIndex, sColumnLabel, th) {
    var tableId = oTable.attr('id'),
        serverSide = oTable.fnSettings().oFeatures.bServerSide,
        selected;
    var dateFormat = getMomentWdtDateFormat();
    var timeFormat = getMomentWdtTimeFormat();
    if (!jQuery.isArray(aoColumn.defaultValue)) {
        aoColumn.defaultValue = [aoColumn.defaultValue]
    }
    if (aoColumn.values === null)
        aoColumn.values = getColumnDistinctValues(tableId, columnIndex, !1);
    var selectTitle = aoColumn.filterLabel ? aoColumn.filterLabel : '';
    var select = '<select class="wdt-multiselect-filter wdt-filter-control selectpicker" title="' + selectTitle + '" data-index="' + columnIndex + '" multiple>';
    var iLen = aoColumn.values.length;
    for (var j = 0; j < iLen; j++) {
        selected = jQuery.inArray(aoColumn.values[j].toString(), aoColumn.defaultValue) !== -1 ? selected = 'selected="selected" ' : '';
        if (typeof(aoColumn.values[j]) !== 'object') {
            var optionLabel = aoColumn.values[j];
            if (serverSide) {
                if (oTable.fnSettings().aoColumns[columnIndex].wdtType === 'date') {
                    optionLabel = moment(optionLabel, moment.ISO_8601).format(dateFormat)
                }
                if (oTable.fnSettings().aoColumns[columnIndex].wdtType === 'time') {
                    optionLabel = moment(optionLabel, 'hh:mm:ss').format(timeFormat.replace('h', 'hh'))
                }
                if (oTable.fnSettings().aoColumns[columnIndex].wdtType === 'datetime') {
                    optionLabel = moment(optionLabel, moment.ISO_8601).format(dateFormat + ' ' + timeFormat.replace('h', 'hh'))
                }
            }
            if (aoColumn.values[j] === 'possibleValuesAddEmpty') {
                optionLabel = ' '
            }
            select += '<option ' + selected + ' value="' + encodeURI(aoColumn.values[j]) + '">' + optionLabel + '</option>'
        } else {
            select += '<option ' + selected + 'value="' + encodeURI(aoColumn.values[j].value) + '">' + aoColumn.values[j].label + '</option>'
        }
    }
    select = jQuery(select + '</select>');
    th.html(select);
    th.wrapInner('<span class="filter_column filter_select" data-filter_type="multiselectbox" data-index="' + columnIndex + '" />');
    select.change(function() {
        multiSelectboxSearch.call(jQuery(this))
    });
    if (aoColumn.defaultValue[0]) {
        var search = '';
        for (var i = 0; i < aoColumn.defaultValue.length; i++) {
            search += buildSearchStringForMultiFilters(i, aoColumn.defaultValue[i], aoColumn.defaultValue.length, aoColumn.exactFiltering)
        }
        oTable.fnFilter(search, columnIndex, !0, !1);
        fnOnFiltered()
    }
    jQuery('.selectpicker[data-index=' + columnIndex + ']').selectpicker('refresh');

    function multiSelectboxSearch() {
        var search = '',
            selectedOptions;
        selectedOptions = jQuery(this).selectpicker('val');
        if (selectedOptions !== null) {
            var selectedOptionsLength = selectedOptions.length
        }
        jQuery.each(selectedOptions, function(index, value) {
            search += buildSearchStringForMultiFilters(index, value, selectedOptionsLength, aoColumn.exactFiltering)
        });
        oTable.api().column(columnIndex).search(search, !0, !1);
        if (typeof wpDataTables[tableId].drawTable === 'undefined' || wpDataTables[tableId].drawTable === !0) {
            oTable.api().draw()
        }
        fnOnFiltered()
    }
}

function wdtCreateCheckbox(oTable, aoColumn, columnIndex, sColumnLabel, th) {
    var tableId = oTable.attr('id'),
        serverSide = oTable.fnSettings().oFeatures.bServerSide;
    var dateFormat = getMomentWdtDateFormat();
    var timeFormat = getMomentWdtTimeFormat();
    if (!jQuery.isArray(aoColumn.defaultValue)) {
        aoColumn.defaultValue = [aoColumn.defaultValue]
    }
    if (aoColumn.values === null)
        aoColumn.values = getColumnDistinctValues(tableId, columnIndex, !1);
    var r = '',
        j, iLen = aoColumn.values.length,
        dialogRender = !0;
    if (typeof aoColumn.sSelector !== 'undefined') {
        dialogRender = aoColumn.checkboxesInModal
    }
    var labelBtn = aoColumn.filterLabel ? aoColumn.filterLabel : sColumnLabel;
    var checkboxesDivId = oTable.attr('id') + '-checkbox-' + columnIndex;
    if (dialogRender) {
        var buttonId = "checkbox-button-" + checkboxesDivId;
        r += '<button id="' + buttonId + '" class="wdt-checkbox-filter btn" > ' + labelBtn + '</button>'
    }
    r += '<div id="' + checkboxesDivId + '">';
    for (j = 0; j < iLen; j++) {
        if (aoColumn.values[j] !== null) {
            var value = typeof aoColumn.values[j] !== 'object' ? aoColumn.values[j] : aoColumn.values[j].value;
            var label = typeof aoColumn.values[j] !== 'object' ? aoColumn.values[j] : aoColumn.values[j].label;
            var checked = jQuery.inArray(value.toString(), aoColumn.defaultValue) !== -1 ? 'checked="checked" ' : '';
            if (serverSide) {
                if (oTable.fnSettings().aoColumns[columnIndex].wdtType === 'date') {
                    label = moment(label, moment.ISO_8601).format(dateFormat)
                }
                if (oTable.fnSettings().aoColumns[columnIndex].wdtType === 'time') {
                    label = moment(label, 'hh:mm:ss').format(timeFormat)
                }
                if (oTable.fnSettings().aoColumns[columnIndex].wdtType === 'datetime') {
                    label = moment(label, moment.ISO_8601).format(dateFormat + ' ' + timeFormat.replace('h', 'hh'))
                }
            }
            r += '<div class="wdt_checkbox_option checkbox">' + '<label>' + '<input type="checkbox" class="wdt-checkbox-filter wdt-filter-control" value="' + _.escape(value) + '" ' + checked + '>' + '<i class="input-helper"></i>' + label + '</label>' + '</div>'
        }
    }
    jQuery(th).off('change.checkboxChange').on('change.checkboxChange', '#' + checkboxesDivId + ' input.wdt-checkbox-filter', function() {
        checkboxSearch.call(jQuery(this), columnIndex, checkboxesDivId)
    });
    th.html(r);
    th.wrapInner('<span class="filter_column filter_checkbox" data-filter_type="checkbox" data-index="' + columnIndex + '" />');
    if (aoColumn.defaultValue[0]) {
        var search = '';
        for (var i = 0; i < aoColumn.defaultValue.length; i++) {
            search += buildSearchStringForMultiFilters(i, aoColumn.defaultValue[i], aoColumn.defaultValue.length, aoColumn.exactFiltering)
        }
        oTable.fnFilter(search, columnIndex, !0, !1);
        fnOnFiltered()
    }
    if (dialogRender) {
        var dlg = jQuery('#' + checkboxesDivId).wrap('<div class="wdt-checkbox-modal-wrap ' + checkboxesDivId + '" />').hide();
        var $modal = jQuery('#wdt-frontend-modal');
        $modal.on('click', 'button.close', function(e) {
            $modal.fadeOut(300, function() {
                jQuery(this).find('.modal-body').html('')
            })
        });
        $modal.on('keydown', function(e) {
            if (e.keyCode === 27) {
                $modal.fadeOut(300, function() {
                    jQuery(this).find('.modal-body').html('')
                })
            }
        });
        jQuery('#' + buttonId).on('click', function(e) {
            e.preventDefault();
            jQuery('#wdt-frontend-modal .modal-title').html(labelBtn);
            jQuery('#wdt-frontend-modal .modal-body').append(dlg.show());
            jQuery('#wdt-frontend-modal .modal-footer').html('<button class="btn btn-danger btn-icon-text waves-effect" id="wdt-checkbox-filter-reset" href="#">Reset</button><button class="btn btn-success btn-icon-text waves-effect" id="wdt-checkbox-filter-close" href="#"><i class="zmdi zmdi-check"></i>OK</button>');
            jQuery('input.wdt-checkbox-filter').off('change').on('change', function() {
                checkboxSearch.call(jQuery(this), columnIndex, checkboxesDivId)
            });
            if (typeof wpDataTables[tableId].onRenderCheckboxFilterModal !== 'undefined') {
                for (var i in wpDataTables[tableId].onRenderCheckboxFilterModal) {
                    wpDataTables[tableId].onRenderCheckboxFilterModal[i]($modal, columnIndex)
                }
            }
            $modal.attr('data-current-checkbox-dialog', dlg.attr('id'));
            $modal.modal('show')
        });
        $modal.on('shown.bs.modal', function() {
            jQuery(this).off('click', '#wdt-checkbox-filter-close').on('click', '#wdt-checkbox-filter-close', function(e) {
                e.preventDefault();
                e.stopImmediatePropagation();
                $modal.modal('hide');
                if (jQuery('#' + $modal.attr('data-current-checkbox-dialog')).length) {
                    jQuery('.wdt-checkbox-modal-wrap.' + $modal.attr('data-current-checkbox-dialog')).html(jQuery('#' + $modal.attr('data-current-checkbox-dialog'))).hide()
                }
                $modal.find('.modal-body').html('')
            });
            jQuery(this).off('click', '#wdt-checkbox-filter-reset').on('click.resetCheckboxFilter', '#wdt-checkbox-filter-reset', function(e) {
                e.preventDefault();
                e.stopImmediatePropagation();
                if (jQuery('#' + $modal.attr('data-current-checkbox-dialog')).length) {
                    jQuery('#' + $modal.attr('data-current-checkbox-dialog')).find(jQuery('input.wdt-checkbox-filter:checkbox:checked')).each(function() {
                        jQuery(this).prop('checked', !1).change()
                    })
                }
                oTable.fnFilter('', $modal.attr('data-current-checkbox-dialog').substr($modal.attr('data-current-checkbox-dialog').length - 1), !0, !1);
                fnOnFiltered()
            })
        })
    }

    function checkboxSearch(columnIndex, checkboxesDivId) {
        var search = '',
            checkedInputs;
        checkedInputs = jQuery(this).closest('#' + checkboxesDivId).find('input:checkbox:checked');
        var checkedInputsLength = checkedInputs.length;
        jQuery.each(checkedInputs, function(index) {
            search += buildSearchStringForMultiFilters(index, jQuery(this).val(), checkedInputsLength, aoColumn.exactFiltering)
        });
        oTable.api().column(columnIndex).search(search, !0, !1);
        if (typeof wpDataTables[tableId].drawTable === 'undefined' || wpDataTables[tableId].drawTable === !0) {
            oTable.api().draw()
        }
        fnOnFiltered()
    }
}

function getColumnDistinctValues(tableId, columnIndex, applySearch) {
    applySearch = applySearch ? 'applied' : 'none';
    return wpDataTables[tableId].api().column(columnIndex, {
        search: applySearch
    }).data().unique().toArray().filter(Boolean).sort()
}

function buildSearchStringForMultiFilters(index, value, valuesLength, exactFiltering) {
    var search = '',
        or = '|';
    if ((index === 0 && valuesLength === 1) || (index !== 0 && index === valuesLength - 1)) {
        or = ''
    }
    search = search.replace(/^\s+|\s+$/g, '');
    if (exactFiltering) {
        search = search + '^' + value.replace(/\+/g, '\\+') + '$' + or
    } else {
        search = search + value.replace(/\+/g, '\\+') + or
    }
    return decodeURIComponent(search)
}

function wdtClearFilters() {
    jQuery('.wdt-clear-filters-button, .wdt-clear-filters-widget-button').click(function(e) {
        e.preventDefault();
        e.stopImmediatePropagation();
        e.preventDefault();
        var button = jQuery(e.target);
        if (button.is('.wdt-clear-filters-widget-button')) {
            jQuery('.filter_column input:not([type="checkbox"])').val('');
            jQuery('.filter_column select').selectpicker('val', '');
            jQuery('.filter_column input:checkbox').removeAttr('checked');
            for (var i in wpDataTables) {
                wpDataTables[i].api().columns().search('').draw()
            }
            jQuery('.filter_column select').find('.filter_column').eq(0).change()
        } else {
            var wpDataTableSelecter = jQuery(this).closest('.wpDataTables');
            wpDataTableSelecter.find('.filter_column input:not([type="checkbox"])').val('');
            wpDataTableSelecter.find('.filter_column select').selectpicker('val', '');
            wpDataTableSelecter.find('.filter_column input:checkbox').removeAttr('checked');
            var tableId = '';
            if (jQuery(this).parent().is('#wdt-clear-filters-button-block')) {
                tableId = jQuery(this).data('table_id')
            } else {
                tableId = jQuery(this).closest('.wpDataTablesWrapper').find('table.wpDataTable').prop('id')
            }
            wpDataTables[tableId].api().columns().search('').draw();
            wpDataTableSelecter.find('.wdt-filter-control').eq(0).change()
        }
    })
};
(function($) {
    "use strict";
    $.fn.rowGrouping = function(options) {
        function _fnOnGrouped() {}

        function _fnOnGroupCreated(oGroup, sGroup, iLevel) {}

        function _fnOnGroupCompleted(oGroup, sGroup, iLevel) {}

        function _getMonthName(iMonth) {
            var asMonths = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
            return asMonths[iMonth - 1]
        }
        var defaults = {
            iGroupingColumnIndex: 0,
            sGroupingColumnSortDirection: "",
            iGroupingOrderByColumnIndex: -1,
            sGroupingClass: "group",
            sGroupItemClass: "group-item",
            bHideGroupingColumn: !0,
            bHideGroupingOrderByColumn: !0,
            sGroupBy: "name",
            sGroupLabelPrefix: "",
            fnGroupLabelFormat: function(label) {
                return label
            },
            bExpandableGrouping: !1,
            bExpandSingleGroup: !1,
            iExpandGroupOffset: 100,
            asExpandedGroups: null,
            sDateFormat: "dd/MM/yyyy",
            sEmptyGroupLabel: "-",
            bSetGroupingClassOnTR: !1,
            iGroupingColumnIndex2: -1,
            sGroupingColumnSortDirection2: "",
            iGroupingOrderByColumnIndex2: -1,
            sGroupingClass2: "subgroup",
            sGroupItemClass2: "subgroup-item",
            bHideGroupingColumn2: !0,
            bHideGroupingOrderByColumn2: !0,
            sGroupBy2: "name",
            sGroupLabelPrefix2: "",
            fnGroupLabelFormat2: function(label) {
                return label
            },
            bExpandableGrouping2: !1,
            fnOnGrouped: _fnOnGrouped,
            fnOnGroupCreated: _fnOnGroupCreated,
            fnOnGroupCompleted: _fnOnGroupCompleted,
            oHideEffect: null,
            oShowEffect: null,
            bUseFilteringForGrouping: !1
        };
        return this.each(function(index, elem) {
            var oTable = $(elem).dataTable();
            var aoGroups = new Array();
            $(this).dataTableExt.aoGroups = aoGroups;

            function fnCreateGroupRow(sGroupCleaned, sGroup, iColspan) {
                var nGroup = document.createElement('tr');
                var nCell = document.createElement('td');
                nGroup.id = "group-id-" + oTable.attr("id") + "_" + sGroupCleaned;
                var oGroup = {
                    id: nGroup.id,
                    key: sGroupCleaned,
                    text: sGroup,
                    level: 0,
                    groupItemClass: ".group-item-" + sGroupCleaned,
                    dataGroup: sGroupCleaned,
                    aoSubgroups: new Array()
                };
                if (properties.bSetGroupingClassOnTR) {
                    nGroup.className = properties.sGroupingClass + " " + sGroupCleaned
                } else {
                    nCell.className = properties.sGroupingClass + " " + sGroupCleaned
                }
                nCell.colSpan = iColspan;
                nCell.innerHTML = properties.sGroupLabelPrefix + properties.fnGroupLabelFormat(sGroup == "" ? properties.sEmptyGroupLabel : sGroup, oGroup);
                if (properties.bExpandableGrouping) {
                    if (!_fnIsGroupCollapsed(sGroupCleaned)) {
                        nCell.className += " expanded-group";
                        oGroup.state = "expanded"
                    } else {
                        nCell.className += " collapsed-group";
                        oGroup.state = "collapsed"
                    }
                    nCell.className += " group-item-expander";
                    $(nCell).attr('data-group', oGroup.dataGroup);
                    $(nCell).attr("data-group-level", oGroup.level);
                    $(nCell).click(_fnOnGroupClick)
                }
                nGroup.appendChild(nCell);
                aoGroups[sGroupCleaned] = oGroup;
                oGroup.nGroup = nGroup;
                properties.fnOnGroupCreated(oGroup, sGroupCleaned, 1);
                return oGroup
            }

            function _fnCreateGroup2Row(sGroup2, sGroupLabel, iColspan, oParentGroup) {
                var nGroup2 = document.createElement('tr');
                nGroup2.id = oParentGroup.id + "_" + sGroup2;
                var nCell2 = document.createElement('td');
                var dataGroup = oParentGroup.dataGroup + '_' + sGroup2;
                var oGroup = {
                    id: nGroup2.id,
                    key: sGroup2,
                    text: sGroupLabel,
                    level: oParentGroup.level + 1,
                    groupItemClass: ".group-item-" + dataGroup,
                    dataGroup: dataGroup,
                    aoSubgroups: new Array()
                };
                if (properties.bSetGroupingClassOnTR) {
                    nGroup2.className = properties.sGroupingClass2 + " " + sGroup2
                } else {
                    nCell2.className = properties.sGroupingClass2 + " " + sGroup2
                }
                nCell2.colSpan = iColspan;
                nCell2.innerHTML = properties.sGroupLabelPrefix2 + properties.fnGroupLabelFormat2(sGroupLabel == "" ? properties.sEmptyGroupLabel : sGroupLabel, oGroup);
                if (properties.bExpandableGrouping) {
                    nGroup2.className += " group-item-" + oParentGroup.dataGroup
                }
                if (properties.bExpandableGrouping && properties.bExpandableGrouping2) {
                    if (!_fnIsGroupCollapsed(oGroup.dataGroup)) {
                        nCell2.className += " expanded-group";
                        oGroup.state = "expanded"
                    } else {
                        nCell2.className += " collapsed-group";
                        oGroup.state = "collapsed"
                    }
                    nCell2.className += " group-item-expander";
                    $(nCell2).attr('data-group', oGroup.dataGroup);
                    $(nCell2).attr("data-group-level", oGroup.level);
                    $(nCell2).click(_fnOnGroupClick)
                }
                nGroup2.appendChild(nCell2);
                oParentGroup.aoSubgroups[oGroup.dataGroup] = oGroup;
                aoGroups[oGroup.dataGroup] = oGroup;
                oGroup.nGroup = nGroup2;
                properties.fnOnGroupCreated(oGroup, sGroup2, 2);
                return oGroup
            }

            function _fnIsGroupCollapsed(sGroup) {
                if (aoGroups[sGroup] != null)
                    return (aoGroups[sGroup].state == "collapsed");
                else if (sGroup.indexOf("_") > -1)
                    !0;
                else if (bInitialGrouping && (asExpandedGroups == null || asExpandedGroups.length == 0))
                    return !1;
                else return ($.inArray(sGroup, asExpandedGroups) == -1)
            }

            function _fnGetYear(x) {
                if (x.length < (iYearIndex + iYearLength))
                    return x;
                else return x.substr(iYearIndex, iYearLength)
            }

            function _fnGetGroupByName(x) {
                return x
            }

            function _fnGetGroupByLetter(x) {
                return x.substr(0, 1)
            }

            function _fnGetGroupByYear(x) {
                return _fnGetYear(x)
            }

            function _fnGetGroupByYearMonth(x) {
                return x.substr(iYearIndex, iYearLength) + ' ' + _getMonthName(x.substr(iMonthIndex, iMonthLength))
            }

            function _fnGetCleanedGroup(sGroup) {
                if (typeof sGroup === "undefined" || sGroup === "") return properties.sEmptyGroupLabel;
                return sGroup.toLowerCase().replace(/[^a-zA-Z0-9\u0080-\uFFFF]+/g, "-")
            }

            function _rowGroupingRowFilter(oSettings, aData, iDataIndex) {
                if (oSettings.nTable.id !== oTable[0].id) return !0;
                var sColData = aData[properties.iGroupingColumnIndex];
                if (typeof sColData === "undefined")
                    sColData = aData[oSettings.aoColumns[properties.iGroupingColumnIndex].mData];
                if (_fnIsGroupCollapsed(_fnGetCleanedGroup(sColData))) {
                    if (oTable.fnIsOpen(oTable.fnGetNodes(iDataIndex))) {
                        if (properties.fnOnRowClosed != null) {
                            properties.fnOnRowClosed(this)
                        }
                        oTable.fnClose(oTable.fnGetNodes(iDataIndex))
                    }
                    return !1
                };
                return !0
            }

            function fnExpandGroup(sGroup) {
                aoGroups[sGroup].state = "expanded";
                $("td[data-group='" + sGroup + "']").removeClass("collapsed-group");
                $("td[data-group='" + sGroup + "']").addClass("expanded-group");
                if (properties.bUseFilteringForGrouping) {
                    oTable.fnDraw();
                    return
                }
                if (jQuery.inArray(sGroup, asExpandedGroups) == -1)
                    asExpandedGroups.push(sGroup);
                if (properties.oHideEffect != null)
                    $(".group-item-" + sGroup, oTable)[properties.oShowEffect.method](properties.oShowEffect.duration, properties.oShowEffect.easing, function() {});
                else $(".group-item-" + sGroup, oTable).show()
            }

            function fnCollapseGroup(sGroup) {
                aoGroups[sGroup].state = "collapsed";
                $("td[data-group='" + sGroup + "']").removeClass("expanded-group");
                $("td[data-group='" + sGroup + "']").addClass("collapsed-group");
                if (properties.bUseFilteringForGrouping) {
                    oTable.fnDraw();
                    return
                }
                $('.group-item-' + sGroup).each(function() {
                    if (oTable.fnIsOpen(this)) {
                        if (properties.fnOnRowClosed != null) {
                            properties.fnOnRowClosed(this)
                        }
                        oTable.fnClose(this)
                    }
                });
                if (properties.oHideEffect != null)
                    $(".group-item-" + sGroup, oTable)[properties.oHideEffect.method](properties.oHideEffect.duration, properties.oHideEffect.easing, function() {});
                else $(".group-item-" + sGroup, oTable).hide()
            }

            function _fnOnGroupClick(e) {
                var sGroup = $(this).attr("data-group");
                var iGroupLevel = $(this).attr("data-group-level");
                var bIsExpanded = !_fnIsGroupCollapsed(sGroup);
                if (properties.bExpandSingleGroup) {
                    if (!bIsExpanded) {
                        var sCurrentGroup = $("td.expanded-group").attr("data-group");
                        fnCollapseGroup(sCurrentGroup);
                        fnExpandGroup(sGroup);
                        if (properties.iExpandGroupOffset != -1) {
                            var position = $("#group-id-" + oTable.attr("id") + "_" + sGroup).offset().top - properties.iExpandGroupOffset;
                            window.scroll(0, position)
                        } else {
                            var position = oTable.offset().top;
                            window.scroll(0, position)
                        }
                    }
                } else {
                    if (bIsExpanded) {
                        fnCollapseGroup(sGroup)
                    } else {
                        fnExpandGroup(sGroup)
                    }
                }
                e.preventDefault()
            };

            function _fnDrawCallBackWithGrouping(oSettings) {
                if (oTable.fnSettings().oFeatures.bServerSide)
                    bInitialGrouping = !0;
                var bUseSecondaryGrouping = !1;
                if (properties.iGroupingColumnIndex2 != -1)
                    bUseSecondaryGrouping = !0;
                if (oSettings.aiDisplayMaster.length == 0) {
                    return
                }
                var nTrs = $('tbody tr', oTable);
                var iColspan = 0;
                for (var iColIndex = 0; iColIndex < oSettings.aoColumns.length; iColIndex++) {
                    if (oSettings.aoColumns[iColIndex].bVisible)
                        iColspan += 1
                }
                var sLastGroup = null;
                var sLastGroup2 = null;
                if (oSettings.aiDisplay.length > 0) {
                    for (var i = 0; i < nTrs.length; i++) {
                        var iDisplayIndex = oSettings._iDisplayStart + i;
                        if (oTable.fnSettings().oFeatures.bServerSide)
                            iDisplayIndex = i;
                        var sGroupData = "";
                        var sGroup = null;
                        var sGroupData2 = "";
                        var sGroup2 = null;
                        sGroupData = this.fnGetData(nTrs[i], properties.iGroupingColumnIndex);
                        var sGroup = sGroupData;
                        if (properties.sGroupBy != "year")
                            sGroup = fnGetGroup(sGroupData);
                        if (bUseSecondaryGrouping) {
                            sGroupData2 = oSettings.aoData[oSettings.aiDisplay[iDisplayIndex]]._aData[properties.iGroupingColumnIndex2];
                            if (sGroupData2 == undefined)
                                sGroupData2 = oSettings.aoData[oSettings.aiDisplay[iDisplayIndex]]._aData[oSettings.aoColumns[properties.iGroupingColumnIndex2].mData];
                            if (properties.sGroupBy2 != "year")
                                sGroup2 = fnGetGroup(sGroupData2)
                        }
                        if (sLastGroup == null || _fnGetCleanedGroup(sGroup) != _fnGetCleanedGroup(sLastGroup)) {
                            var sGroupCleaned = _fnGetCleanedGroup(sGroup);
                            if (sLastGroup != null) {
                                properties.fnOnGroupCompleted(aoGroups[_fnGetCleanedGroup(sLastGroup)])
                            }
                            if (properties.bAddAllGroupsAsExpanded && jQuery.inArray(sGroupCleaned, asExpandedGroups) == -1)
                                asExpandedGroups.push(sGroupCleaned);
                            var oGroup = fnCreateGroupRow(sGroupCleaned, sGroup, iColspan);
                            var nGroup = oGroup.nGroup;
                            if (nTrs[i].parentNode != null)
                                nTrs[i].parentNode.insertBefore(nGroup, nTrs[i]);
                            else $(nTrs[i]).before(nGroup);
                            sLastGroup = sGroup;
                            sLastGroup2 = null
                        }
                        $(nTrs[i]).attr("data-group", aoGroups[sGroupCleaned].dataGroup);
                        $(nTrs[i]).addClass(properties.sGroupItemClass);
                        $(nTrs[i]).addClass("group-item-" + sGroupCleaned);
                        if (properties.bExpandableGrouping) {
                            if (_fnIsGroupCollapsed(sGroupCleaned) && !properties.bUseFilteringForGrouping) {
                                $(nTrs[i]).hide()
                            }
                        }
                        if (bUseSecondaryGrouping) {
                            if (sLastGroup2 == null || _fnGetCleanedGroup(sGroup2) != _fnGetCleanedGroup(sLastGroup2)) {
                                var sGroup2Id = _fnGetCleanedGroup(sGroup) + '-' + _fnGetCleanedGroup(sGroup2);
                                var oGroup2 = _fnCreateGroup2Row(sGroup2Id, sGroup2, iColspan, aoGroups[sGroupCleaned])
                                var nGroup2 = oGroup2.nGroup;
                                nTrs[i].parentNode.insertBefore(nGroup2, nTrs[i]);
                                sLastGroup2 = sGroup2
                            }
                            $(nTrs[i]).attr("data-group", oGroup2.dataGroup).addClass(properties.sGroupItemClass2).addClass("group-item-" + oGroup2.dataGroup)
                        }
                    }
                };
                if (sLastGroup != null) {
                    properties.fnOnGroupCompleted(aoGroups[_fnGetCleanedGroup(sLastGroup)])
                }
                properties.fnOnGrouped(aoGroups);
                bInitialGrouping = !1
            };
            var iYearIndex = 6;
            var iYearLength = 4;
            var asExpandedGroups = new Array();
            var bInitialGrouping = !0;
            var properties = $.extend(defaults, options);
            if (properties.iGroupingOrderByColumnIndex == -1) {
                properties.bCustomColumnOrdering = !1;
                properties.iGroupingOrderByColumnIndex = properties.iGroupingColumnIndex
            } else {
                properties.bCustomColumnOrdering = !0
            }
            if (properties.sGroupingColumnSortDirection == "") {
                if (properties.sGroupBy == "year")
                    properties.sGroupingColumnSortDirection = "desc";
                else properties.sGroupingColumnSortDirection = "asc"
            }
            if (properties.iGroupingOrderByColumnIndex2 == -1) {
                properties.bCustomColumnOrdering2 = !1;
                properties.iGroupingOrderByColumnIndex2 = properties.iGroupingColumnIndex2
            } else {
                properties.bCustomColumnOrdering2 = !0
            }
            if (properties.sGroupingColumnSortDirection2 == "") {
                if (properties.sGroupBy2 == "year")
                    properties.sGroupingColumnSortDirection2 = "desc";
                else properties.sGroupingColumnSortDirection2 = "asc"
            }
            iYearIndex = properties.sDateFormat.toLowerCase().indexOf('yy');
            iYearLength = properties.sDateFormat.toLowerCase().lastIndexOf('y') - properties.sDateFormat.toLowerCase().indexOf('y') + 1;
            var iMonthIndex = properties.sDateFormat.toLowerCase().indexOf('mm');
            var iMonthLength = properties.sDateFormat.toLowerCase().lastIndexOf('m') - properties.sDateFormat.toLowerCase().indexOf('m') + 1;
            var fnGetGroup = _fnGetGroupByName;
            switch (properties.sGroupBy) {
                case "letter":
                    fnGetGroup = _fnGetGroupByLetter;
                    break;
                case "year":
                    fnGetGroup = _fnGetGroupByYear;
                    break;
                case "month":
                    fnGetGroup = _fnGetGroupByYearMonth;
                    break;
                default:
                    fnGetGroup = _fnGetGroupByName;
                    break
            }
            if (properties.asExpandedGroups != null) {
                if (properties.asExpandedGroups == "NONE") {
                    properties.asExpandedGroups = [];
                    asExpandedGroups = properties.asExpandedGroups;
                    bInitialGrouping = !1
                } else if (properties.asExpandedGroups == "ALL") {
                    properties.bAddAllGroupsAsExpanded = !0
                } else if (properties.asExpandedGroups.constructor == String) {
                    var currentGroup = properties.asExpandedGroups;
                    properties.asExpandedGroups = new Array();
                    properties.asExpandedGroups.push(_fnGetCleanedGroup(currentGroup));
                    asExpandedGroups = properties.asExpandedGroups;
                    bInitialGrouping = !1
                } else if (properties.asExpandedGroups.constructor == Array) {
                    for (var i = 0; i < properties.asExpandedGroups.length; i++) {
                        asExpandedGroups.push(_fnGetCleanedGroup(properties.asExpandedGroups[i]));
                        if (properties.bExpandSingleGroup)
                            break
                    }
                    bInitialGrouping = !1
                }
            } else {
                properties.asExpandedGroups = new Array();
                properties.bAddAllGroupsAsExpanded = !0
            }
            if (properties.bExpandSingleGroup) {
                var nTrs = $('tbody tr', oTable);
                var sGroupData = oTable.fnGetData(nTrs[0], properties.iGroupingColumnIndex);
                var sGroup = sGroupData;
                if (properties.sGroupBy != "year")
                    sGroup = fnGetGroup(sGroupData);
                var sGroupCleaned = _fnGetCleanedGroup(sGroup);
                properties.asExpandedGroups = new Array();
                properties.asExpandedGroups.push(sGroupCleaned)
            }
            oTable.fnSetColumnVis(properties.iGroupingColumnIndex, !properties.bHideGroupingColumn);
            if (properties.bCustomColumnOrdering) {
                oTable.fnSetColumnVis(properties.iGroupingOrderByColumnIndex, !properties.bHideGroupingOrderByColumn)
            }
            if (properties.iGroupingColumnIndex2 != -1) {
                oTable.fnSetColumnVis(properties.iGroupingColumnIndex2, !properties.bHideGroupingColumn2)
            }
            if (properties.bCustomColumnOrdering2) {
                oTable.fnSetColumnVis(properties.iGroupingOrderByColumnIndex2, !properties.bHideGroupingOrderByColumn2)
            }
            oTable.fnSettings().aoDrawCallback.push({
                "fn": _fnDrawCallBackWithGrouping,
                "sName": "fnRowGrouping"
            });
            var aaSortingFixed = new Array();
            aaSortingFixed.push([properties.iGroupingOrderByColumnIndex, properties.sGroupingColumnSortDirection]);
            if (properties.iGroupingColumnIndex2 != -1) {
                aaSortingFixed.push([properties.iGroupingOrderByColumnIndex2, properties.sGroupingColumnSortDirection2])
            }
            oTable.fnSettings().aaSortingFixed = aaSortingFixed;
            switch (properties.sGroupBy) {
                case "name":
                    break;
                case "letter":
                    oTable.fnSettings().aoColumns[properties.iGroupingOrderByColumnIndex].sSortDataType = "rg-letter";
                    $.fn.dataTableExt.afnSortData['rg-letter'] = function(oSettings, iColumn) {
                        var aData = [];
                        $('td:eq(' + iColumn + ')', oSettings.oApi._fnGetTrNodes(oSettings)).each(function() {
                            aData.push(_fnGetGroupByLetter(this.innerHTML))
                        });
                        return aData
                    }
                    break;
                case "year":
                    oTable.fnSettings().aoColumns[properties.iGroupingOrderByColumnIndex].sSortDataType = "rg-date";
                    $.fn.dataTableExt.afnSortData['rg-date'] = function(oSettings, iColumn) {
                        var aData = [];
                        var nTrs = oSettings.oApi._fnGetTrNodes(oSettings);
                        for (i = 0; i < nTrs.length; i++) {
                            aData.push(_fnGetYear(oTable.fnGetData(nTrs[i], iColumn)))
                        }
                        return aData
                    }
                    break;
                default:
                    break
            }
            if (properties.bUseFilteringForGrouping)
                $.fn.dataTableExt.afnFiltering.push(_rowGroupingRowFilter);
            oTable.fnDraw()
        })
    }
})(jQuery);
(function(d) {
    "function" === typeof define && define.amd ? define(["jquery", "datatables.net"], function(n) {
        return d(n, window, document)
    }) : "object" === typeof exports ? module.exports = function(n, o) {
        n || (n = window);
        if (!o || !o.fn.dataTable) o = require("datatables.net")(n, o).$;
        return d(o, n, n.document)
    } : d(jQuery, window, document)
})(function(d, n, o, l) {
    var i = d.fn.dataTable,
        u = 0,
        v = 0,
        j = i.ext.buttons,
        m = function(a, b) {
            "undefined" === typeof b && (b = {});
            !0 === b && (b = {});
            d.isArray(b) && (b = {
                buttons: b
            });
            this.c = d.extend(!0, {}, m.defaults, b);
            b.buttons && (this.c.buttons = b.buttons);
            this.s = {
                dt: new i.Api(a),
                buttons: [],
                listenKeys: "",
                namespace: "dtb" + u++
            };
            this.dom = {
                container: d("<" + this.c.dom.container.tag + "/>").addClass(this.c.dom.container.className)
            };
            this._constructor()
        };
    d.extend(m.prototype, {
        action: function(a, b) {
            var c = this._nodeToButton(a);
            if (b === l) return c.conf.action;
            c.conf.action = b;
            return this
        },
        active: function(a, b) {
            var c = this._nodeToButton(a),
                e = this.c.dom.button.active,
                c = d(c.node);
            if (b === l) return c.hasClass(e);
            c.toggleClass(e, b === l ? !0 : b);
            return this
        },
        add: function(a, b) {
            var c = this.s.buttons;
            if ("string" === typeof b) {
                for (var e = b.split("-"), c = this.s, d = 0, h = e.length - 1; d < h; d++) c = c.buttons[1 * e[d]];
                c = c.buttons;
                b = 1 * e[e.length - 1]
            }
            this._expandButton(c, a, !1, b);
            this._draw();
            return this
        },
        container: function() {
            return this.dom.container
        },
        disable: function(a) {
            a = this._nodeToButton(a);
            d(a.node).addClass(this.c.dom.button.disabled);
            return this
        },
        destroy: function() {
            d("body").off("keyup." + this.s.namespace);
            var a = this.s.buttons.slice(),
                b, c;
            b = 0;
            for (c = a.length; b < c; b++) this.remove(a[b].node);
            this.dom.container.remove();
            a = this.s.dt.settings()[0];
            b = 0;
            for (c = a.length; b < c; b++)
                if (a.inst === this) {
                    a.splice(b, 1);
                    break
                }
            return this
        },
        enable: function(a, b) {
            if (!1 === b) return this.disable(a);
            var c = this._nodeToButton(a);
            d(c.node).removeClass(this.c.dom.button.disabled);
            return this
        },
        name: function() {
            return this.c.name
        },
        node: function(a) {
            a = this._nodeToButton(a);
            return d(a.node)
        },
        processing: function(a, b) {
            var c = this._nodeToButton(a);
            if (b === l) return d(c.node).hasClass("processing");
            d(c.node).toggleClass("processing", b);
            return this
        },
        remove: function(a) {
            var b = this._nodeToButton(a),
                c = this._nodeToHost(a),
                e = this.s.dt;
            if (b.buttons.length)
                for (var g = b.buttons.length - 1; 0 <= g; g--) this.remove(b.buttons[g].node);
            b.conf.destroy && b.conf.destroy.call(e.button(a), e, d(a), b.conf);
            this._removeKey(b.conf);
            d(b.node).remove();
            a = d.inArray(b, c);
            c.splice(a, 1);
            return this
        },
        text: function(a, b) {
            var c = this._nodeToButton(a),
                e = this.c.dom.collection.buttonLiner,
                e = c.inCollection && e && e.tag ? e.tag : this.c.dom.buttonLiner.tag,
                g = this.s.dt,
                h = d(c.node),
                f = function(a) {
                    return "function" === typeof a ? a(g, h, c.conf) : a
                };
            if (b === l) return f(c.conf.text);
            c.conf.text = b;
            e ? h.children(e).html(f(b)) : h.html(f(b));
            return this
        },
        _constructor: function() {
            var a = this,
                b = this.s.dt,
                c = b.settings()[0],
                e = this.c.buttons;
            c._buttons || (c._buttons = []);
            c._buttons.push({
                inst: this,
                name: this.c.name
            });
            for (var c = 0, g = e.length; c < g; c++) this.add(e[c]);
            b.on("destroy", function() {
                a.destroy()
            });
            d("body").on("keyup." + this.s.namespace, function(b) {
                if (!o.activeElement || o.activeElement === o.body) {
                    var c = String.fromCharCode(b.keyCode).toLowerCase();
                    a.s.listenKeys.toLowerCase().indexOf(c) !== -1 && a._keypress(c, b)
                }
            })
        },
        _addKey: function(a) {
            a.key && (this.s.listenKeys += d.isPlainObject(a.key) ? a.key.key : a.key)
        },
        _draw: function(a, b) {
            a || (a = this.dom.container, b = this.s.buttons);
            a.children().detach();
            for (var c = 0, e = b.length; c < e; c++) a.append(b[c].inserter), b[c].buttons && b[c].buttons.length && this._draw(b[c].collection, b[c].buttons)
        },
        _expandButton: function(a, b, c, e) {
            for (var g = this.s.dt, h = 0, b = !d.isArray(b) ? [b] : b, f = 0, r = b.length; f < r; f++) {
                var k = this._resolveExtends(b[f]);
                if (k)
                    if (d.isArray(k)) this._expandButton(a, k, c, e);
                    else {
                        var p = this._buildButton(k, c);
                        if (p) {
                            e !== l ? (a.splice(e, 0, p), e++) : a.push(p);
                            if (p.conf.buttons) {
                                var s = this.c.dom.collection;
                                p.collection = d("<" + s.tag + "/>").addClass(s.className).attr("role", "menu");
                                p.conf._collection = p.collection;
                                this._expandButton(p.buttons, p.conf.buttons, !0, e)
                            }
                            k.init && k.init.call(g.button(p.node), g, d(p.node), k);
                            h++
                        }
                    }
            }
        },
        _buildButton: function(a, b) {
            var c = this.c.dom.button,
                e = this.c.dom.buttonLiner,
                g = this.c.dom.collection,
                h = this.s.dt,
                f = function(b) {
                    return "function" === typeof b ? b(h, k, a) : b
                };
            b && g.button && (c = g.button);
            b && g.buttonLiner && (e = g.buttonLiner);
            if (a.available && !a.available(h, a)) return !1;
            var r = function(a, b, c, e) {
                    e.action.call(b.button(c), a, b, c, e);
                    d(b.table().node()).triggerHandler("buttons-action.dt", [b.button(c), b, c, e])
                },
                k = d("<" + c.tag + "/>").addClass(c.className).attr("tabindex", this.s.dt.settings()[0].iTabIndex).attr("aria-controls", this.s.dt.table().node().id).on("click.dtb", function(b) {
                    b.preventDefault();
                    !k.hasClass(c.disabled) && a.action && r(b, h, k, a);
                    k.blur()
                }).on("keyup.dtb", function(b) {
                    b.keyCode === 13 && !k.hasClass(c.disabled) && a.action && r(b, h, k, a)
                });
            "a" === c.tag.toLowerCase() && k.attr("href", "#");
            e.tag ? (g = d("<" + e.tag + "/>").html(f(a.text)).addClass(e.className), "a" === e.tag.toLowerCase() && g.attr("href", "#"), k.append(g)) : k.html(f(a.text));
            !1 === a.enabled && k.addClass(c.disabled);
            a.className && k.addClass(a.className);
            a.titleAttr && k.attr("title", f(a.titleAttr));
            a.namespace || (a.namespace = ".dt-button-" + v++);
            e = (e = this.c.dom.buttonContainer) && e.tag ? d("<" + e.tag + "/>").addClass(e.className).append(k) : k;
            this._addKey(a);
            return {
                conf: a,
                node: k.get(0),
                inserter: e,
                buttons: [],
                inCollection: b,
                collection: null
            }
        },
        _nodeToButton: function(a, b) {
            b || (b = this.s.buttons);
            for (var c = 0, e = b.length; c < e; c++) {
                if (b[c].node === a) return b[c];
                if (b[c].buttons.length) {
                    var d = this._nodeToButton(a, b[c].buttons);
                    if (d) return d
                }
            }
        },
        _nodeToHost: function(a, b) {
            b || (b = this.s.buttons);
            for (var c = 0, e = b.length; c < e; c++) {
                if (b[c].node === a) return b;
                if (b[c].buttons.length) {
                    var d = this._nodeToHost(a, b[c].buttons);
                    if (d) return d
                }
            }
        },
        _keypress: function(a, b) {
            var c = function(e) {
                for (var g = 0, h = e.length; g < h; g++) {
                    var f = e[g].conf,
                        r = e[g].node;
                    if (f.key)
                        if (f.key === a) d(r).click();
                        else if (d.isPlainObject(f.key) && f.key.key === a && (!f.key.shiftKey || b.shiftKey))
                        if (!f.key.altKey || b.altKey)
                            if (!f.key.ctrlKey || b.ctrlKey)(!f.key.metaKey || b.metaKey) && d(r).click();
                    e[g].buttons.length && c(e[g].buttons)
                }
            };
            c(this.s.buttons)
        },
        _removeKey: function(a) {
            if (a.key) {
                var b = d.isPlainObject(a.key) ? a.key.key : a.key,
                    a = this.s.listenKeys.split(""),
                    b = d.inArray(b, a);
                a.splice(b, 1);
                this.s.listenKeys = a.join("")
            }
        },
        _resolveExtends: function(a) {
            for (var b = this.s.dt, c, e, g = function(c) {
                    for (var e = 0; !d.isPlainObject(c) && !d.isArray(c);) {
                        if (c === l) return;
                        if ("function" === typeof c) {
                            if (c = c(b, a), !c) return !1
                        } else if ("string" === typeof c) {
                            if (!j[c]) throw "Unknown button type: " + c;
                            c = j[c]
                        }
                        e++;
                        if (30 < e) throw "Buttons: Too many iterations"
                    }
                    return d.isArray(c) ? c : d.extend({}, c)
                }, a = g(a); a && a.extend;) {
                if (!j[a.extend]) throw "Cannot extend unknown button type: " + a.extend;
                var h = g(j[a.extend]);
                if (d.isArray(h)) return h;
                if (!h) return !1;
                c = h.className;
                a = d.extend({}, h, a);
                c && a.className !== c && (a.className = c + " " + a.className);
                var f = a.postfixButtons;
                if (f) {
                    a.buttons || (a.buttons = []);
                    c = 0;
                    for (e = f.length; c < e; c++) a.buttons.push(f[c]);
                    a.postfixButtons = null
                }
                if (f = a.prefixButtons) {
                    a.buttons || (a.buttons = []);
                    c = 0;
                    for (e = f.length; c < e; c++) a.buttons.splice(c, 0, f[c]);
                    a.prefixButtons = null
                }
                a.extend = h.extend
            }
            return a
        }
    });
    m.background = function(a, b, c) {
        c === l && (c = 400);
        a ? d("<div/>").addClass(b).css("display", "none").appendTo("body").fadeIn(c) : d("body > div." + b).fadeOut(c, function() {
            d(this).removeClass(b).remove()
        })
    };
    m.instanceSelector = function(a, b) {
        if (!a) return d.map(b, function(a) {
            return a.inst
        });
        var c = [],
            e = d.map(b, function(a) {
                return a.name
            }),
            g = function(a) {
                if (d.isArray(a))
                    for (var f = 0, r = a.length; f < r; f++) g(a[f]);
                else "string" === typeof a ? -1 !== a.indexOf(",") ? g(a.split(",")) : (a = d.inArray(d.trim(a), e), -1 !== a && c.push(b[a].inst)) : "number" === typeof a && c.push(b[a].inst)
            };
        g(a);
        return c
    };
    m.buttonSelector = function(a, b) {
        for (var c = [], e = function(a, b, c) {
                for (var d, g, f = 0, h = b.length; f < h; f++)
                    if (d = b[f]) g = c !== l ? c + f : f + "", a.push({
                        node: d.node,
                        name: d.conf.name,
                        idx: g
                    }), d.buttons && e(a, d.buttons, g + "-")
            }, g = function(a, b) {
                var f, h, i = [];
                e(i, b.s.buttons);
                f = d.map(i, function(a) {
                    return a.node
                });
                if (d.isArray(a) || a instanceof d) {
                    f = 0;
                    for (h = a.length; f < h; f++) g(a[f], b)
                } else if (null === a || a === l || "*" === a) {
                    f = 0;
                    for (h = i.length; f < h; f++) c.push({
                        inst: b,
                        node: i[f].node
                    })
                } else if ("number" === typeof a) c.push({
                    inst: b,
                    node: b.s.buttons[a].node
                });
                else if ("string" === typeof a)
                    if (-1 !== a.indexOf(",")) {
                        i = a.split(",");
                        f = 0;
                        for (h = i.length; f < h; f++) g(d.trim(i[f]), b)
                    } else if (a.match(/^\d+(\-\d+)*$/)) f = d.map(i, function(a) {
                    return a.idx
                }), c.push({
                    inst: b,
                    node: i[d.inArray(a, f)].node
                });
                else if (-1 !== a.indexOf(":name")) {
                    var j = a.replace(":name", "");
                    f = 0;
                    for (h = i.length; f < h; f++) i[f].name === j && c.push({
                        inst: b,
                        node: i[f].node
                    })
                } else d(f).filter(a).each(function() {
                    c.push({
                        inst: b,
                        node: this
                    })
                });
                else "object" === typeof a && a.nodeName && (i = d.inArray(a, f), -1 !== i && c.push({
                    inst: b,
                    node: f[i]
                }))
            }, h = 0, f = a.length; h < f; h++) g(b, a[h]);
        return c
    };
    m.defaults = {
        buttons: ["copy", "excel", "csv", "pdf", "print"],
        name: "main",
        tabIndex: 0,
        dom: {
            container: {
                tag: "div",
                className: "dt-buttons"
            },
            collection: {
                tag: "div",
                className: "dt-button-collection"
            },
            button: {
                tag: "a",
                className: "dt-button",
                active: "active",
                disabled: "disabled"
            },
            buttonLiner: {
                tag: "span",
                className: ""
            }
        }
    };
    m.version = "1.3.1";
    d.extend(j, {
        collection: {
            text: function(a) {
                return a.i18n("buttons.collection", "Collection")
            },
            className: "buttons-collection",
            action: function(a, b, c, e) {
                var a = c.offset(),
                    g = d(b.table().container()),
                    h = !1;
                d("div.dt-button-background").length && (h = d(".dt-button-collection").offset(), d("body").trigger("click.dtb-collection"));
                e._collection.addClass(e.collectionLayout).css("display", "none").appendTo("body").fadeIn(e.fade);
                var f = e._collection.css("position");
                h && "absolute" === f ? e._collection.css({
                    top: h.top,
                    left: h.left
                }) : "absolute" === f ? (e._collection.css({
                    top: a.top + c.outerHeight(),
                    left: a.left
                }), c = a.left + e._collection.outerWidth(), g = g.offset().left + g.width(), c > g && e._collection.css("left", a.left - (c - g))) : (a = e._collection.height() / 2, a > d(n).height() / 2 && (a = d(n).height() / 2), e._collection.css("marginTop", -1 * a));
                e.background && m.background(!0, e.backgroundClassName, e.fade);
                setTimeout(function() {
                    d("div.dt-button-background").on("click.dtb-collection", function() {});
                    d("body").on("click.dtb-collection", function(a) {
                        var c = d.fn.addBack ? "addBack" : "andSelf";
                        if (!d(a.target).parents()[c]().filter(e._collection).length) {
                            e._collection.fadeOut(e.fade, function() {
                                e._collection.detach()
                            });
                            d("div.dt-button-background").off("click.dtb-collection");
                            m.background(!1, e.backgroundClassName, e.fade);
                            d("body").off("click.dtb-collection");
                            b.off("buttons-action.b-internal")
                        }
                    })
                }, 10);
                if (e.autoClose) b.on("buttons-action.b-internal", function() {
                    d("div.dt-button-background").click()
                })
            },
            background: !0,
            collectionLayout: "",
            backgroundClassName: "dt-button-background",
            autoClose: !1,
            fade: 400
        },
        copy: function(a, b) {
            if (j.copyHtml5) return "copyHtml5";
            if (j.copyFlash && j.copyFlash.available(a, b)) return "copyFlash"
        },
        csv: function(a, b) {
            if (j.csvHtml5 && j.csvHtml5.available(a, b)) return "csvHtml5";
            if (j.csvFlash && j.csvFlash.available(a, b)) return "csvFlash"
        },
        excel: function(a, b) {
            if (j.excelHtml5 && j.excelHtml5.available(a, b)) return "excelHtml5";
            if (j.excelFlash && j.excelFlash.available(a, b)) return "excelFlash"
        },
        pdf: function(a, b) {
            if (j.pdfHtml5 && j.pdfHtml5.available(a, b)) return "pdfHtml5";
            if (j.pdfFlash && j.pdfFlash.available(a, b)) return "pdfFlash"
        },
        pageLength: function(a) {
            var a = a.settings()[0].aLengthMenu,
                b = d.isArray(a[0]) ? a[0] : a,
                c = d.isArray(a[0]) ? a[1] : a,
                e = function(a) {
                    return a.i18n("buttons.pageLength", {
                        "-1": "Show all rows",
                        _: "Show %d rows"
                    }, a.page.len())
                };
            return {
                extend: "collection",
                text: e,
                className: "buttons-page-length",
                autoClose: !0,
                buttons: d.map(b, function(a, b) {
                    return {
                        text: c[b],
                        className: "button-page-length",
                        action: function(b, c) {
                            c.page.len(a).draw()
                        },
                        init: function(b, c, d) {
                            var e = this,
                                c = function() {
                                    e.active(b.page.len() === a)
                                };
                            b.on("length.dt" + d.namespace, c);
                            c()
                        },
                        destroy: function(a, b, c) {
                            a.off("length.dt" + c.namespace)
                        }
                    }
                }),
                init: function(a, b, c) {
                    var d = this;
                    a.on("length.dt" + c.namespace, function() {
                        d.text(e(a))
                    })
                },
                destroy: function(a, b, c) {
                    a.off("length.dt" + c.namespace)
                }
            }
        }
    });
    i.Api.register("buttons()", function(a, b) {
        b === l && (b = a, a = l);
        this.selector.buttonGroup = a;
        var c = this.iterator(!0, "table", function(c) {
            if (c._buttons) return m.buttonSelector(m.instanceSelector(a, c._buttons), b)
        }, !0);
        c._groupSelector = a;
        return c
    });
    i.Api.register("button()", function(a, b) {
        var c = this.buttons(a, b);
        1 < c.length && c.splice(1, c.length);
        return c
    });
    i.Api.registerPlural("buttons().active()", "button().active()", function(a) {
        return a === l ? this.map(function(a) {
            return a.inst.active(a.node)
        }) : this.each(function(b) {
            b.inst.active(b.node, a)
        })
    });
    i.Api.registerPlural("buttons().action()", "button().action()", function(a) {
        return a === l ? this.map(function(a) {
            return a.inst.action(a.node)
        }) : this.each(function(b) {
            b.inst.action(b.node, a)
        })
    });
    i.Api.register(["buttons().enable()", "button().enable()"], function(a) {
        return this.each(function(b) {
            b.inst.enable(b.node, a)
        })
    });
    i.Api.register(["buttons().disable()", "button().disable()"], function() {
        return this.each(function(a) {
            a.inst.disable(a.node)
        })
    });
    i.Api.registerPlural("buttons().nodes()", "button().node()", function() {
        var a = d();
        d(this.each(function(b) {
            a = a.add(b.inst.node(b.node))
        }));
        return a
    });
    i.Api.registerPlural("buttons().processing()", "button().processing()", function(a) {
        return a === l ? this.map(function(a) {
            return a.inst.processing(a.node)
        }) : this.each(function(b) {
            b.inst.processing(b.node, a)
        })
    });
    i.Api.registerPlural("buttons().text()", "button().text()", function(a) {
        return a === l ? this.map(function(a) {
            return a.inst.text(a.node)
        }) : this.each(function(b) {
            b.inst.text(b.node, a)
        })
    });
    i.Api.registerPlural("buttons().trigger()", "button().trigger()", function() {
        return this.each(function(a) {
            a.inst.node(a.node).trigger("click")
        })
    });
    i.Api.registerPlural("buttons().containers()", "buttons().container()", function() {
        var a = d(),
            b = this._groupSelector;
        this.iterator(!0, "table", function(c) {
            if (c._buttons)
                for (var c = m.instanceSelector(b, c._buttons), d = 0, g = c.length; d < g; d++) a = a.add(c[d].container())
        });
        return a
    });
    i.Api.register("button().add()", function(a, b) {
        var c = this.context;
        c.length && (c = m.instanceSelector(this._groupSelector, c[0]._buttons), c.length && c[0].add(b, a));
        return this.button(this._groupSelector, a)
    });
    i.Api.register("buttons().destroy()", function() {
        this.pluck("inst").unique().each(function(a) {
            a.destroy()
        });
        return this
    });
    i.Api.registerPlural("buttons().remove()", "buttons().remove()", function() {
        this.each(function(a) {
            a.inst.remove(a.node)
        });
        return this
    });
    var q;
    i.Api.register("buttons.info()", function(a, b, c) {
        var e = this;
        if (!1 === a) return d("#datatables_buttons_info").fadeOut(function() {
            d(this).remove()
        }), clearTimeout(q), q = null, this;
        q && clearTimeout(q);
        d("#datatables_buttons_info").length && d("#datatables_buttons_info").remove();
        d('<div id="datatables_buttons_info" class="dt-button-info"/>').html(a ? "<h2>" + a + "</h2>" : "").append(d("<div/>")["string" === typeof b ? "html" : "append"](b)).css("display", "none").appendTo("body").fadeIn();
        c !== l && 0 !== c && (q = setTimeout(function() {
            e.buttons.info(!1)
        }, c));
        return this
    });
    i.Api.register("buttons.exportData()", function(a) {
        if (this.context.length) {
            for (var b = new i.Api(this.context[0]), c = d.extend(!0, {}, {
                    rows: null,
                    columns: "",
                    modifier: {
                        search: "applied",
                        order: "applied"
                    },
                    orthogonal: "display",
                    stripHtml: !0,
                    stripNewlines: !0,
                    decodeEntities: !0,
                    trim: !0,
                    format: {
                        header: function(a) {
                            return e(a)
                        },
                        footer: function(a) {
                            return e(a)
                        },
                        body: function(a) {
                            return e(a)
                        }
                    }
                }, a), e = function(a) {
                    if ("string" !== typeof a) return a;
                    a = a.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, "");
                    c.stripHtml && (a = a.replace(/<[^>]*>/g, ""));
                    c.trim && (a = a.replace(/^\s+|\s+$/g, ""));
                    c.stripNewlines && (a = a.replace(/\n/g, " "));
                    c.decodeEntities && (t.innerHTML = a, a = t.value);
                    return a
                }, a = b.columns(c.columns).indexes().map(function(a) {
                    var d = b.column(a).header();
                    return c.format.header(d.innerHTML, a, d)
                }).toArray(), g = b.table().footer() ? b.columns(c.columns).indexes().map(function(a) {
                    var d = b.column(a).footer();
                    return c.format.footer(d ? d.innerHTML : "", a, d)
                }).toArray() : null, h = b.rows(c.rows, c.modifier).indexes().toArray(), f = b.cells(h, c.columns), h = f.render(c.orthogonal).toArray(), f = f.nodes().toArray(), j = a.length, k = 0 < j ? h.length / j : 0, m = Array(k), l = 0, n = 0; n < k; n++) {
                for (var o = Array(j), q = 0; q < j; q++) o[q] = c.format.body(h[l], n, q, f[l]), l++;
                m[n] = o
            }
            return {
                header: a,
                footer: g,
                body: m
            }
        }
    });
    var t = d("<textarea/>")[0];
    d.fn.dataTable.Buttons = m;
    d.fn.DataTable.Buttons = m;
    d(o).on("init.dt plugin-init.dt", function(a, b) {
        if ("dt" === a.namespace) {
            var c = b.oInit.buttons || i.defaults.buttons;
            c && !b._buttons && (new m(b, c)).container()
        }
    });
    i.ext.feature.push({
        fnInit: function(a) {
            var a = new i.Api(a),
                b = a.init().buttons || i.defaults.buttons;
            return (new m(a, b)).container()
        },
        cFeature: "B"
    });
    return m
});
(function(i) {
    "function" === typeof define && define.amd ? define(["jquery", "datatables.net", "datatables.net-buttons"], function(g) {
        return i(g, window, document)
    }) : "object" === typeof exports ? module.exports = function(g, l, r, s) {
        g || (g = window);
        if (!l || !l.fn.dataTable) l = require("datatables.net")(g, l).$;
        l.fn.dataTable.Buttons || require("datatables.net-buttons")(g, l);
        return i(l, g, g.document, r, s)
    } : i(jQuery, window, document)
})(function(i, g, l, r, s, o) {
    function z(a, c) {
        t === o && (t = -1 === x.serializeToString(i.parseXML(A["xl/worksheets/Base.xml"])).indexOf("xmlns:r"));
        i.each(c, function(c, b) {
            if (i.isPlainObject(b)) {
                var e = a.folder(c);
                z(e, b)
            } else {
                if (t) {
                    var e = b.childNodes[0],
                        h, f, u = [];
                    for (h = e.attributes.length - 1; 0 <= h; h--) {
                        f = e.attributes[h].nodeName;
                        var m = e.attributes[h].nodeValue; - 1 !== f.indexOf(":") && (u.push({
                            name: f,
                            value: m
                        }), e.removeAttribute(f))
                    }
                    h = 0;
                    for (f = u.length; h < f; h++) m = b.createAttribute(u[h].name.replace(":", "_dt_b_namespace_token_")), m.value = u[h].value, e.setAttributeNode(m)
                }
                e = x.serializeToString(b);
                t && (-1 === e.indexOf("<?xml") && (e = '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>' + e), e = e.replace(/_dt_b_namespace_token_/g, ":"));
                e = e.replace(/<([^<>]*?) xmlns=""([^<>]*?)>/g, "<$1 $2>");
                a.file(c, e)
            }
        })
    }

    function p(a, c, d) {
        var b = a.createElement(c);
        d && (d.attr && i(b).attr(d.attr), d.children && i.each(d.children, function(a, c) {
            b.appendChild(c)
        }), d.text && b.appendChild(a.createTextNode(d.text)));
        return b
    }

    function I(a, c) {
        var d = a.header[c].length,
            b;
        a.footer && a.footer[c].length > d && (d = a.footer[c].length);
        for (var e = 0, h = a.body.length; e < h; e++)
            if (b = a.body[e][c], b = null !== b && b !== o ? b.toString() : "", -1 !== b.indexOf("\n") ? (b = b.split("\n"), b.sort(function(a, b) {
                    return b.length - a.length
                }), b = b[0].length) : b = b.length, b > d && (d = b), 40 < d) return 52;
        d *= 1.3;
        return 6 < d ? d : 6
    }
    var n = i.fn.dataTable,
        q;
    var j = "undefined" !== typeof self && self || "undefined" !== typeof g && g || this.content;
    if ("undefined" === typeof j || "undefined" !== typeof navigator && /MSIE [1-9]\./.test(navigator.userAgent)) q = void 0;
    else {
        var v = j.document.createElementNS("http://www.w3.org/1999/xhtml", "a"),
            J = "download" in v,
            K = /constructor/i.test(j.HTMLElement) || j.safari,
            B = /CriOS\/[\d]+/.test(navigator.userAgent),
            L = function(a) {
                (j.setImmediate || j.setTimeout)(function() {
                    throw a
                }, 0)
            },
            C = function(a) {
                setTimeout(function() {
                    "string" === typeof a ? (j.URL || j.webkitURL || j).revokeObjectURL(a) : a.remove()
                }, 4E4)
            },
            D = function(a) {
                return /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type) ? new Blob([String.fromCharCode(65279), a], {
                    type: a.type
                }) : a
            },
            E = function(a, c, d) {
                d || (a = D(a));
                var b = this,
                    d = "application/octet-stream" === a.type,
                    e, h = function() {
                        for (var a = ["writestart", "progress", "write", "writeend"], a = [].concat(a), c = a.length; c--;) {
                            var d = b["on" + a[c]];
                            if ("function" === typeof d) try {
                                d.call(b, b)
                            } catch (e) {
                                L(e)
                            }
                        }
                    };
                b.readyState = b.INIT;
                if (J) e = (j.URL || j.webkitURL || j).createObjectURL(a), setTimeout(function() {
                    v.href = e;
                    v.download = c;
                    var a = new MouseEvent("click");
                    v.dispatchEvent(a);
                    h();
                    C(e);
                    b.readyState = b.DONE
                });
                else if ((B || d && K) && j.FileReader) {
                    var f = new FileReader;
                    f.onloadend = function() {
                        var a = B ? f.result : f.result.replace(/^data:[^;]*;/, "data:attachment/file;");
                        j.open(a, "_blank") || (j.location.href = a);
                        b.readyState = b.DONE;
                        h()
                    };
                    f.readAsDataURL(a);
                    b.readyState = b.INIT
                } else e || (e = (j.URL || j.webkitURL || j).createObjectURL(a)), d ? j.location.href = e : j.open(e, "_blank") || (j.location.href = e), b.readyState = b.DONE, h(), C(e)
            },
            k = E.prototype;
        "undefined" !== typeof navigator && navigator.msSaveOrOpenBlob ? q = function(a, c, d) {
            c = c || a.name || "download";
            d || (a = D(a));
            return navigator.msSaveOrOpenBlob(a, c)
        } : (k.abort = function() {}, k.readyState = k.INIT = 0, k.WRITING = 1, k.DONE = 2, k.error = k.onwritestart = k.onprogress = k.onwrite = k.onabort = k.onerror = k.onwriteend = null, q = function(a, c, d) {
            return new E(a, c || a.name || "download", d)
        })
    }
    n.fileSave = q;
    var w = function(a, c) {
            var d = "*" === a.filename && "*" !== a.title && a.title !== o ? a.title : a.filename;
            "function" === typeof d && (d = d()); - 1 !== d.indexOf("*") && (d = i.trim(d.replace("*", i("title").text())));
            d = d.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g, "");
            return c === o || !0 === c ? d + a.extension : d
        },
        M = function(a) {
            var c = "Base";
            a.sheetName && (c = a.sheetName.replace(/[\[\]\*\/\\\?\:]/g, ""));
            return c
        },
        N = function(a) {
            a = a.title;
            "function" === typeof a && (a = a());
            return -1 !== a.indexOf("*") ? a.replace("*", i("title").text() || "Exported data") : a
        },
        F = function(a, c) {
            for (var d = c.newline ? c.newline : navigator.userAgent.match(/Windows/) ? "\r\n" : "\n", b = a.buttons.exportData(c.exportOptions), e = c.fieldBoundary, h = c.fieldSeparator, f = RegExp(e, "g"), i = c.escapeChar !== o ? c.escapeChar : "\\", m = function(a) {
                    for (var b = "", c = 0, d = a.length; c < d; c++) 0 < c && (b += h), b += e ? e + ("" + a[c]).replace(f, i + e) + e : a[c];
                    return b
                }, j = c.header ? m(b.header) + d : "", g = c.footer && b.footer ? d + m(b.footer) : "", l = [], y = 0, O = b.body.length; y < O; y++) l.push(m(b.body[y]));
            return {
                str: j + l.join(d) + g,
                rows: l.length
            }
        },
        F1 = function(a, c) {
            for (var d = c.newline ? c.newline : navigator.userAgent.match(/Windows/) ? "\r\n" : "\n", b = a.buttons.exportData(c.exportOptions), e = c.fieldBoundary, h = c.fieldSeparator, f = RegExp(e, "g"), i = c.escapeChar !== o ? c.escapeChar : "\\", m = function(a) {
                    for (var b = "", c = 0, d = a.length; c < d; c++) 0 < c && (b += h), b += e ? e + ("" + a[c]).replace(f, i + e) + e : a[c];
                    return b
                },  g = c.footer && b.footer ? d + m(b.footer) : "", l = [], y = 0, O = b.body.length; y < O; y++) {
                var c_body = [];
                for (var k1 = 0, n1 = b.header.length; k1 < n1; k1++) {
                    if (k1 == 0) {
                        if (b.body[y].length >= 1) {
                            c_body.push(b.body[y][0]);
                        } else {
                            c_body.push("");
                        }
                    } else if (k1 == 1 || k1 == 2 || k1 == 3 || k1 == 6) {
                        c_body.push("");
                    } else if (k1 == 4 || k1 == 5) {
                        if (b.body[y].length > k1 + 7) {
                            var body_text = b.body[y][k1 + 7];
                            if (b.body[y][6] == 'active') {
                                c_body.push(body_text.replace(',', '.'));
                            } else {                                
                                c_body.push("");
                            }
                        } else {
                            c_body.push("");
                        }
                    } else if (k1 == 7) {
                        if (b.body[y].length >= 8) {
                            if (b.body[y][7] > 999) {
                                c_body.push(999);
                            } else {
                                c_body.push(b.body[y][7]);
                            }
                        } else {
                            c_body.push("");
                        }
                    } else if (k1 == 8) {
                        if (b.body[y].length >= 7) {
                            if (b.body[y][6] == 'active') {
                                c_body.push('a');
                            } else {                                
                                c_body.push("");
                            }
                        } else {
                            c_body.push("");
                        }
                    } 
                }
                l.push(m(c_body));
            }
            var c_header = ["sku"], 
            c1_header = ["product-id", "product-id-type", "price", "minimum-seller-allowed-price", "maximum-seller-allowed-price", "item-condition", "quantity", "add-delete"],
            c2_header = ["will-ship-internationally", "expedited-shipping", "standard-plus", "item-note", "fulfillment-center-id", "product-tax-code", "handling-time", "merchant_shipping_group_name",  "batteries_required", 
                "are_batteries_included", "battery_cell_composition", "battery_type", "number_of_batteries", "battery_weight", "battery_weight_unit_of_measure", "number_of_lithium_ion_cells" , "number_of_lithium_metal_cells", "lithium_battery_packaging",
                "lithium_battery_energy_content", "lithium_battery_energy_content_unit_of_measure", "lithium_battery_weight", "lithium_battery_weight_unit_of_measure", "supplier_declared_dg_hz_regulation1", "supplier_declared_dg_hz_regulation2",
                "supplier_declared_dg_hz_regulation3", "supplier_declared_dg_hz_regulation4", "supplier_declared_dg_hz_regulation5", "hazmat_united_nations_regulatory_id", "safety_data_sheet_url" ,"item_weight", "item_weight_unit_of_measure", 
                "item_volume", "item_volume_unit_of_measure", "flash_point", "ghs_classification_class1", "ghs_classification_class2", "ghs_classification_class3"];
            if (b.header) {
                c_header = c_header.concat(c1_header);
                c_header = c_header.concat(c2_header);
            }
            return {
                str: m(c_header) + d + l.join(d) + g,
                rows: l.length
            }
        },
        G = function() {
            if (!(-1 !== navigator.userAgent.indexOf("Safari") && -1 === navigator.userAgent.indexOf("Chrome") && -1 === navigator.userAgent.indexOf("Opera"))) return !1;
            var a = navigator.userAgent.match(/AppleWebKit\/(\d+\.\d+)/);
            return a && 1 < a.length && 603.1 > 1 * a[1] ? !0 : !1
        };
    try {
        var x = new XMLSerializer,
            t
    } catch (P) {}
    var A = {
            "_rels/.rels": '<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',
            "xl/_rels/workbook.xml.rels": '<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/Base.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/Inventory_Loader.xml"/><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/Automatic_Pricing.xml"/><Relationship Id="rId4" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/></Relationships>',
            "[Content_Types].xml": '<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="jpeg" ContentType="image/jpeg" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/worksheets/Base.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/worksheets/Inventory_Loader.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/worksheets/Automatic_Pricing.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /></Types>',
            "xl/workbook.xml": '<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="24816"/><workbookPr showInkAnnotation="0" autoCompressPictures="0"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="25600" windowHeight="19020" tabRatio="500"/></bookViews><sheets><sheet name="Base" sheetId="1" r:id="rId1"/><sheet name="Inventory Loader" sheetId="2" r:id="rId2"/><sheet name="Automatic Pricing" sheetId="3" r:id="rId3"/></sheets></workbook>',
            "xl/worksheets/Base.xml": '<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><sheetData/></worksheet>',
            "xl/worksheets/Inventory_Loader.xml": '<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><sheetData/></worksheet>',
            "xl/worksheets/Automatic_Pricing.xml": '<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><sheetData/></worksheet>',
            "xl/styles.xml": '<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="6"><numFmt numFmtId="164" formatCode="#,##0.00_- [$$-45C]"/><numFmt numFmtId="165" formatCode="&quot;£&quot;#,##0.00"/><numFmt numFmtId="166" formatCode="[$€-2] #,##0.00"/><numFmt numFmtId="167" formatCode="0.0%"/><numFmt numFmtId="168" formatCode="#,##0;(#,##0)"/><numFmt numFmtId="169" formatCode="#,##0.00;(#,##0.00)"/></numFmts><fonts count="5" x14ac:knownFonts="1"><font><sz val="11" /><name val="Calibri" /></font><font><sz val="11" /><name val="Calibri" /><color rgb="FFFFFFFF" /></font><font><sz val="11" /><name val="Calibri" /><b /></font><font><sz val="11" /><name val="Calibri" /><i /></font><font><sz val="11" /><name val="Calibri" /><u /></font></fonts><fills count="6"><fill><patternFill patternType="none" /></fill><fill/><fill><patternFill patternType="solid"><fgColor rgb="FFD9D9D9" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD99795" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6efce" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6cfef" /><bgColor indexed="64" /></patternFill></fill></fills><borders count="2"><border><left /><right /><top /><bottom /><diagonal /></border><border diagonalUp="false" diagonalDown="false"><left style="thin"><color auto="1" /></left><right style="thin"><color auto="1" /></right><top style="thin"><color auto="1" /></top><bottom style="thin"><color auto="1" /></bottom><diagonal /></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" /></cellStyleXfs><cellXfs count="67"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="left"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="center"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="right"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="fill"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment textRotation="90"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment wrapText="1"/></xf><xf numFmtId="9"   fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="164" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="165" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="166" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="167" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="168" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="169" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="3" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="4" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="1" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="2" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0" /></cellStyles><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4" /></styleSheet>'
        },
        H = [{
            match: /^\-?\d+\.\d%$/,
            style: 60,
            fmt: function(a) {
                return a / 100
            }
        }, {
            match: /^\-?\d+\.?\d*%$/,
            style: 56,
            fmt: function(a) {
                return a / 100
            }
        }, {
            match: /^\-?\$[\d,]+.?\d*$/,
            style: 57
        }, {
            match: /^\-?£[\d,]+.?\d*$/,
            style: 58
        }, {
            match: /^\-?€[\d,]+.?\d*$/,
            style: 59
        }, {
            match: /^\-?\d+$/,
            style: 65
        }, {
            match: /^\-?\d+\.\d{2}$/,
            style: 66
        }, {
            match: /^\([\d,]+\)$/,
            style: 61,
            fmt: function(a) {
                return -1 * a.replace(/[\(\)]/g, "")
            }
        }, {
            match: /^\([\d,]+\.\d{2}\)$/,
            style: 62,
            fmt: function(a) {
                return -1 * a.replace(/[\(\)]/g, "")
            }
        }, {
            match: /^\-?[\d,]+$/,
            style: 63
        }, {
            match: /^\-?[\d,]+\.\d{2}$/,
            style: 64
        }];
    n.ext.buttons.copyHtml5 = {
        className: "buttons-copy buttons-html5",
        text: function(a) {
            return a.i18n("buttons.copy", "Copy")
        },
        action: function(a, c, d, b) {
            this.processing(!0);
            var e = this,
                a = F(c, b),
                h = a.str,
                d = i("<div/>").css({
                    height: 1,
                    width: 1,
                    overflow: "hidden",
                    position: "fixed",
                    top: 0,
                    left: 0
                });
            b.customize && (h = b.customize(h, b));
            b = i("<textarea readonly/>").val(h).appendTo(d);
            if (l.queryCommandSupported("copy")) {
                d.appendTo(c.table().container());
                b[0].focus();
                b[0].select();
                try {
                    var f = l.execCommand("copy");
                    d.remove();
                    if (f) {
                        c.buttons.info(c.i18n("buttons.copyTitle", "Copy to clipboard"), c.i18n("buttons.copySuccess", {
                            1: "Copied one row to clipboard",
                            _: "Copied %d rows to clipboard"
                        }, a.rows), 2E3);
                        this.processing(!1);
                        return
                    }
                } catch (j) {}
            }
            f = i("<span>" + c.i18n("buttons.copyKeys", "Press <i>ctrl</i> or <i>⌘</i> + <i>C</i> to copy the table data<br>to your system clipboard.<br><br>To cancel, click this message or press escape.") + "</span>").append(d);
            c.buttons.info(c.i18n("buttons.copyTitle", "Copy to clipboard"), f, 0);
            b[0].focus();
            b[0].select();
            var m = i(f).closest(".dt-button-info"),
                g = function() {
                    m.off("click.buttons-copy");
                    i(l).off(".buttons-copy");
                    c.buttons.info(!1)
                };
            m.on("click.buttons-copy", g);
            i(l).on("keydown.buttons-copy", function(a) {
                27 === a.keyCode && (g(), e.processing(!1))
            }).on("copy.buttons-copy cut.buttons-copy", function() {
                g();
                e.processing(!1)
            })
        },
        exportOptions: {},
        fieldSeparator: "\t",
        fieldBoundary: "",
        header: !0,
        footer: !1
    };
    n.ext.buttons.csvHtml5 = {
        bom: !1,
        className: "buttons-csv buttons-html5",
        available: function() {
            return g.FileReader !== o && g.Blob
        },
        text: function(a) {
            return a.i18n("buttons.csv", "CSV")
        },
        action: function(a, c, d, b) {
            this.processing(!0);
            var a1 = F1(c, b).str;
            a = F(c, b).str;
            c = b.charset;
            b.customize && (a = b.customize(a, b));
            !1 !== c ? (c || (c = l.characterSet || l.charset), c && (c = ";charset=" + c)) : c = "";
            b.bom && (a = "﻿" + a);
            q(new Blob([a], {
                type: "text/csv" + c
            }), w(b), !0);
            q(new Blob([a1], {
                type: "text/csv" + c
            }), w(b), !0);
            this.processing(!1)            
        },
        filename: "*",
        extension: ".csv",
        exportOptions: {},
        fieldSeparator: ",",
        fieldBoundary: '"',
        escapeChar: '"',
        charset: null,
        header: !0,
        footer: !1
    };
    n.ext.buttons.excelHtml5 = {
        className: "buttons-excel buttons-html5",
        available: function() {
            return g.FileReader !== o && (r || g.JSZip) !== o && !G() && x
        },
        text: function(a) {
            return a.i18n("buttons.excel", "Excel")
        },
        action: function(a, c, d, b) {
            this.processing(!0);
            var e = this, h = 0, h1 = 0, h2 = 0;
            var a1 = a, a2 = a, c1 = c, c2 = c, d1 = d, d2 = d, b1 = b, b2 = b;
            var a = function(a) {
                return i.parseXML(A[a])
            }
            var a1 = function(a1) {
                return i.parseXML(A[a1])
            }
            var a2 = function(a2) {
                return i.parseXML(A[a2])
            }
            var f = a("xl/worksheets/Base.xml"),
                f1 = a1("xl/worksheets/Inventory_Loader.xml"),
                f2 = a2("xl/worksheets/Automatic_Pricing.xml"),
                j = f.getElementsByTagName("sheetData")[0],
                j1 = f1.getElementsByTagName("sheetData")[0],
                j2 = f2.getElementsByTagName("sheetData")[0],
                a = {
                    _rels: {
                        ".rels": a("_rels/.rels")
                    },
                    xl: {
                        _rels: {
                            "workbook.xml.rels": a("xl/_rels/workbook.xml.rels")
                        },
                        "workbook.xml": a("xl/workbook.xml"),
                        "styles.xml": a("xl/styles.xml"),
                        worksheets: {
                            "Base.xml": f,
                            "Inventory_Loader.xml": f1,
                            "Automatic_Pricing.xml": f2
                        }
                    },
                    "[Content_Types].xml": a("[Content_Types].xml")
                },
                c = c.buttons.exportData(b.exportOptions),
                c1 = c1.buttons.exportData(b1.exportOptions),
                c2 = c2.buttons.exportData(b2.exportOptions),
                m, l, d = function(a) {
                    m = h + 1;
                    if (!(null === a[0] || a[0] === o || "" === a[0])) {
                        l = p(f, "row", {
                            attr: {
                                r: m
                            }
                        });
                        for (var b = 0, c = a.length; b < c; b++) {
                            for (var d = b, e = ""; 0 <= d;) e = String.fromCharCode(d % 26 + 65) + e, d = Math.floor(d / 26) - 1;
                            var d = e + "" + m,
                                g = null;
                            if (!(null === a[b] || a[b] === o || "" === a[b])) {
                                a[b] = i.trim(a[b]);
                                for (var k = 0, n = H.length; k < n; k++)
                                    if (e = H[k], a[b].match && !a[b].match(/^0\d+/) && a[b].match(e.match)) {
                                        g = a[b].replace(/[^\d\.\-]/g, "");
                                        e.fmt && (g = e.fmt(g));
                                        if (b == 7 && g > 999)
                                            g = 999;
                                        if (b >= 8) {
                                            g = p(f, "c", {
                                                attr: {
                                                    t: "inlineStr",
                                                    r: d
                                                },
                                                children: {
                                                    row: p(f, "is", {
                                                        children: {
                                                            row: p(f, "t", {
                                                                text: g
                                                            })
                                                        }
                                                    })
                                                }
                                            })
                                        } else {
                                            g = p(f, "c", {
                                                attr: {
                                                    r: d,
                                                    s: e.style
                                                },
                                                children: [p(f, "v", {
                                                    text: g
                                                })]
                                            });
                                        }
                                        break
                                    }
                                g || ("number" === typeof a[b] || a[b].match && a[b].match(/^-?\d+(\.\d+)?$/) && !a[b].match(/^0\d+/) ? g = p(f, "c", {
                                    attr: {
                                        t: "n",
                                        r: d
                                    },
                                    children: [p(f, "v", {
                                        text: a[b]
                                    })]
                                }) : (e = !a[b].replace ? a[b] : a[b].replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F-\x9F]/g, ""),
                                (b == 7 && e > 999) && (e = 999), (b >= 8) && (e = e.replace(',', '.')),
                                g = p(f, "c", {
                                    attr: {
                                        t: "inlineStr",
                                        r: d
                                    },
                                    children: {
                                        row: p(f, "is", {
                                            children: {
                                                row: p(f, "t", {
                                                    text: e
                                                })
                                            }
                                        })
                                    }
                                })));
                                l.appendChild(g)
                            }
                        }
                        j.appendChild(l);
                    }                    
                    h++
                }, d1 = function(a1) {
                    m = h1 + 1;
                    l = p(f1, "row", {
                        attr: {
                            r: m
                        }
                    });
                    for (var b1 = 0, c1 = a1.length; b1 < c1; b1++) {
                        for (var d1 = b1, e = ""; 0 <= d1;) e = String.fromCharCode(d1 % 26 + 65) + e, d1 = Math.floor(d1 / 26) - 1;
                        var d1 = e + "" + m,
                            g = null;
                        if (!(null === a1[b1] || a1[b1] === o || "" === a1[b1])) {
                            a1[b1] = i.trim(a1[b1]);
                            for (var k = 0, n = H.length; k < n; k++)
                                if (e = H[k], a1[b1].match && !a1[b1].match(/^0\d+/) && a1[b1].match(e.match)) {
                                    g = a1[b1].replace(/[^\d\.\-]/g, "");
                                    e.fmt && (g = e.fmt(g));
                                    if (b1 == 7 && g > 999) 
                                        g = 999;
                                    if (b1 == 4 || b1 == 5) {
                                        g = p(f1, "c", {
                                            attr: {
                                                t: "inlineStr",
                                                r: d1
                                            },
                                            children: {
                                                row: p(f1, "is", {
                                                    children: {
                                                        row: p(f1, "t", {
                                                            text: g
                                                        })
                                                    }
                                                })
                                            }
                                        })
                                    } else {
                                        g = p(f1, "c", {
                                            attr: {
                                                r: d1,
                                                s: e.style
                                            },
                                            children: [p(f1, "v", {
                                                text: g
                                            })]
                                        });
                                    }
                                    break
                                }
                            g || ("number" === typeof a1[b1] || a1[b1].match && a1[b1].match(/^-?\d+(\.\d+)?$/) && !a1[b1].match(/^0\d+/) ? g = p(f1, "c", {
                                attr: {
                                    t: "n",
                                    r: d1
                                },
                                children: [p(f1, "v", {
                                    text: a1[b1]
                                })]
                            }) : (e = !a1[b1].replace ? a1[b1] : a1[b1].replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F-\x9F]/g, ""),
                            (b1 == 7 && g > 999) && (g = 999), (b1 == 4 || b1 == 5) && (e = e.replace(',', '.')),
                            g = p(f1, "c", {
                                attr: {
                                    t: "inlineStr",
                                    r: d1
                                },
                                children: {
                                    row: p(f1, "is", {
                                        children: {
                                            row: p(f1, "t", {
                                                text: e
                                            })
                                        }
                                    })
                                }
                            })));
                            l.appendChild(g)
                        }
                    }
                    j1.appendChild(l);
                    h1++
            }, d2 = function(a2) {
                m = h2 + 1;
                l = p(f2, "row", {
                    attr: {
                        r: m
                    }
                });
                for (var b2 = 0, c2 = a2.length; b2 < c2; b2++) {
                    for (var d2 = b2, e = ""; 0 <= d2;) e = String.fromCharCode(d2 % 26 + 65) + e, d2 = Math.floor(d2 / 26) - 1;
                    var d2 = e + "" + m,
                        g = null;
                    if (!(null === a2[b2] || a2[b2] === o || "" === a2[b2])) {
                        a2[b2] = i.trim(a2[b2]);
                        for (var k = 0, n = H.length; k < n; k++)
                            if (e = H[k], a2[b2].match && !a2[b2].match(/^0\d+/) && a2[b2].match(e.match)) {
                                g = a2[b2].replace(/[^\d\.\-]/g, "");
                                e.fmt && (g = e.fmt(g));
                                if (b2 == 2 || b2 == 3) {
                                    g = p(f2, "c", {
                                        attr: {
                                            t: "inlineStr",
                                            r: d2
                                        },
                                        children: {
                                            row: p(f2, "is", {
                                                children: {
                                                    row: p(f2, "t", {
                                                        text: g
                                                    })
                                                }
                                            })
                                        }
                                    })
                                } else {
                                    g = p(f2, "c", {
                                        attr: {
                                            r: d2,
                                            s: e.style
                                        },
                                        children: [p(f2, "v", {
                                            text: g
                                        })]
                                    });
                                }
                                break
                            }
                        g || ("number" === typeof a2[b2] || a2[b2].match && a2[b2].match(/^-?\d+(\.\d+)?$/) && !a2[b2].match(/^0\d+/) ? g = p(f2, "c", {
                            attr: {
                                t: "n",
                                r: d2
                            },
                            children: [p(f2, "v", {
                                text: a2[b2]
                            })]
                        }) : (e = !a2[b2].replace ? a2[b2] : a2[b2].replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F-\x9F]/g, ""),
                        (b2 == 2 || b2 == 3) && (e = e.replace(',', '.')),
                        g = p(f2, "c", {
                            attr: {
                                t: "inlineStr",
                                r: d2
                            },
                            children: {
                                row: p(f2, "is", {
                                    children: {
                                        row: p(f2, "t", {
                                            text: e
                                        })
                                    }
                                })
                            }
                        })));
                        l.appendChild(g)
                    }
                }
                j2.appendChild(l);
                h2++
            };
            //i("sheets sheet", a.xl["workbook.xml"]).attr("name", M(b));
            b.customizeData && b.customizeData(c);
            b.header && (d(c.header, h), i("row c", f).attr("s", "2"));
            for (var k = 0, n = c.body.length; k < n; k++) {
                if (c.body[k][0]) {
                    d(c.body[k], h);
                }                
            }

            b.footer && c.footer && (d(c.footer, h), i("row:last c", f).attr("s", "2"));
            d = p(f, "cols");
            i("worksheet", f).prepend(d);
            k = 0;
            for (n = c.header.length; k < n; k++) d.appendChild(p(f, "col", {
                attr: {
                    min: k + 1,
                    max: k + 1,
                    width: I(c, k),
                    customWidth: 1
                }
            }));

            /////////////////
            //i("sheets sheet", a1.xl["workbook.xml"]).attr("name", M(b1));
            var c_header = ["sku"], 
                c1_header = ["product-id", "product-id-type", "price", "minimum-seller-allowed-price", "maximum-seller-allowed-price", "item-condition", "quantity", "add-delete"],
                c2_header = ["will-ship-internationally", "expedited-shipping", "standard-plus", "item-note", "fulfillment-center-id", "product-tax-code", "handling-time", "merchant_shipping_group_name",  "batteries_required", 
                    "are_batteries_included", "battery_cell_composition", "battery_type", "number_of_batteries", "battery_weight", "battery_weight_unit_of_measure", "number_of_lithium_ion_cells" , "number_of_lithium_metal_cells", "lithium_battery_packaging",
                    "lithium_battery_energy_content", "lithium_battery_energy_content_unit_of_measure", "lithium_battery_weight", "lithium_battery_weight_unit_of_measure", "supplier_declared_dg_hz_regulation1", "supplier_declared_dg_hz_regulation2",
                    "supplier_declared_dg_hz_regulation3", "supplier_declared_dg_hz_regulation4", "supplier_declared_dg_hz_regulation5", "hazmat_united_nations_regulatory_id", "safety_data_sheet_url" ,"item_weight", "item_weight_unit_of_measure", 
                    "item_volume", "item_volume_unit_of_measure", "flash_point", "ghs_classification_class1", "ghs_classification_class2", "ghs_classification_class3"];
            if (b1.header) {
                c_header = c_header.concat(c1_header);
                c_header = c_header.concat(c2_header);
            }
            b1.customizeData && b1.customizeData(c1);
            b1.header && (d1(c_header, h1), i("row c", f1).attr("s", "2"));
            for (var k = 0, n = c1.body.length; k < n; k++) {                
                var c_body = [];
                for (var k1 = 0, n1 = c_header.length; k1 < n1; k1++) {
                    if (k1 == 0) {
                        if (c1.body[k].length >= 1) {
                            c_body.push(c1.body[k][0]);
                        } else {
                            c_body.push("");
                        }
                    } else if (k1 == 1 || k1 == 2 || k1 == 3 || k1 == 6) {
                        c_body.push("");
                    } else if (k1 == 4 || k1 == 5) {
                        if (c1.body[k].length > k1 + 7) {
                            if (c1.body[k][6] == 'active') {
                                c_body.push(c1.body[k][k1 + 7]);
                            } else {                                
                                c_body.push("");
                            }
                        } else {
                            c_body.push("");
                        }
                    } else if (k1 == 7) {
                        if (c1.body[k].length >= 8) {
                            if (c1.body[k][7] > 999) {
                                c_body.push(999);
                            } else {
                                c_body.push(c1.body[k][7]);
                            }
                        } else {
                            c_body.push("");
                        }
                    } else if (k1 == 8) {
                        if (c1.body[k].length >= 7) {
                            if (c1.body[k][6] == 'active') {
                                c_body.push('a');
                            } else {                                
                                c_body.push("");
                            }
                        } else {
                            c_body.push("");
                        }
                    } 
                }
                if (c1.body[k][0]) {
                    d1(c_body, h1);
                }
            }
            b1.footer && c1.footer && (d1(c1.footer, h1), i("row:last c", f1).attr("s", "2"));

            d1 = p(f1, "cols");
            i("worksheet", f1).prepend(d1);
            k = 0;
            for (n = c1.header.length; k < n; k++) d1.appendChild(p(f1, "col", {
                attr: {
                    min: k + 1,
                    max: k + 1,
                    width: I(c1, k),
                    customWidth: 1
                }
            }));
            ////////////////////////////
            ////////////////////////////
            var c_header = ["sku", "minimum-seller-allowed-price", "maximum-seller-allowed-price", "rule-name", "rule-action"];
            b2.customizeData && b2.customizeData(c2);
            b2.header && (d2(c_header, h2), i("row c", f2).attr("s", "2"));
            for (var k = 0, n = c2.body.length; k < n; k++) {
                var c_body = [];
                for (var k1 = 0, n1 = c_header.length; k1 < n1; k1++) {
                    if (k1 == 0) {
                        if (c2.body[k].length >= 1) {
                            c_body.push(c2.body[k][0]);
                        } else {
                            c_body.push("");
                        }
                    } else if (k1 == 1 || k1 == 2) {
                        if (c2.body[k].length >= k1 + 10) {
                            c_body.push(c2.body[k][k1 + 10]);
                        } else {
                            c_body.push("");
                        }
                    } else if (k1 == 3) {
                        c_body.push("Match_BB");
                    } else if (k1 == 4) {
                        c_body.push("START");
                    }
                }
                if (c2.body[k][0]) {
                    d2(c_body, h2);
                }
            }
            b2.footer && c2.footer && (d2(c2.footer, h2), i("row:last c", f2).attr("s", "2"));

            d2 = p(f2, "cols");
            i("worksheet", f2).prepend(d2);
            k = 0;
            for (n = c2.header.length; k < n; k++) d2.appendChild(p(f2, "col", {
                attr: {
                    min: k + 1,
                    max: k + 1,
                    width: I(c2, k),
                    customWidth: 1
                }
            }));
            ////////////////////////////
            b.customize && b.customize(a);
            c = new(r || g.JSZip);
            d = {
                type: "blob",
                mimeType: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
            };
            z(c, a);
            c.generateAsync ? c.generateAsync(d).then(function(a) {
                q(a, w(b));
                e.processing(!1)
            }) : (q(c.generate(d), w(b)), this.processing(!1))
        },
        filename: "*",
        extension: ".xlsx",
        exportOptions: {},
        header: !0,
        footer: !1
    };
    n.ext.buttons.pdfHtml5 = {
        className: "buttons-pdf buttons-html5",
        available: function() {
            return g.FileReader !== o && (s || g.pdfMake)
        },
        text: function(a) {
            return a.i18n("buttons.pdf", "PDF")
        },
        action: function(a, c, d, b) {
            this.processing(!0);
            var e = this,
                a = c.buttons.exportData(b.exportOptions),
                h = [];
            b.header && h.push(i.map(a.header, function(a) {
                return {
                    text: "string" === typeof a ? a : a + "",
                    style: "tableHeader"
                }
            }));
            for (var f = 0, j = a.body.length; f < j; f++) h.push(i.map(a.body[f], function(a) {
                return {
                    text: "string" === typeof a ? a : a + "",
                    style: f % 2 ? "tableBodyEven" : "tableBodyOdd"
                }
            }));
            b.footer && a.footer && h.push(i.map(a.footer, function(a) {
                return {
                    text: "string" === typeof a ? a : a + "",
                    style: "tableFooter"
                }
            }));
            a = {
                pageSize: b.pageSize,
                pageOrientation: b.orientation,
                content: [{
                    table: {
                        headerRows: 1,
                        body: h
                    },
                    layout: "noBorders"
                }],
                styles: {
                    tableHeader: {
                        bold: !0,
                        fontSize: 11,
                        color: "white",
                        fillColor: "#2d4154",
                        alignment: "center"
                    },
                    tableBodyEven: {},
                    tableBodyOdd: {
                        fillColor: "#f3f3f3"
                    },
                    tableFooter: {
                        bold: !0,
                        fontSize: 11,
                        color: "white",
                        fillColor: "#2d4154"
                    },
                    title: {
                        alignment: "center",
                        fontSize: 15
                    },
                    message: {}
                },
                defaultStyle: {
                    fontSize: 10
                }
            };
            b.message && a.content.unshift({
                text: "function" == typeof b.message ? b.message(c, d, b) : b.message,
                style: "message",
                margin: [0, 0, 0, 12]
            });
            b.title && a.content.unshift({
                text: N(b, !1),
                style: "title",
                margin: [0, 0, 0, 12]
            });
            b.customize && b.customize(a, b);
            c = (s || g.pdfMake).createPdf(a);
            "open" === b.download && !G() ? (c.open(), this.processing(!1)) : c.getBuffer(function(a) {
                a = new Blob([a], {
                    type: "application/pdf"
                });
                q(a, w(b));
                e.processing(!1)
            })
        },
        title: "*",
        filename: "*",
        extension: ".pdf",
        exportOptions: {},
        orientation: "portrait",
        pageSize: "A4",
        header: !0,
        footer: !1,
        message: null,
        customize: null,
        download: "download"
    };
    return n.Buttons
});
(function(d) {
    "function" === typeof define && define.amd ? define(["jquery", "datatables.net", "datatables.net-buttons"], function(f) {
        return d(f, window, document)
    }) : "object" === typeof exports ? module.exports = function(f, b) {
        f || (f = window);
        if (!b || !b.fn.dataTable) b = require("datatables.net")(f, b).$;
        b.fn.dataTable.Buttons || require("datatables.net-buttons")(f, b);
        return d(b, f, f.document)
    } : d(jQuery, window, document)
})(function(d, f, b) {
    var i = d.fn.dataTable,
        h = b.createElement("a"),
        m = function(a) {
            h.href = a;
            a = h.host; - 1 === a.indexOf("/") && 0 !== h.pathname.indexOf("/") && (a += "/");
            return h.protocol + "//" + a + h.pathname + h.search
        };
    i.ext.buttons.print = {
        className: "buttons-print",
        text: function(a) {
            return a.i18n("buttons.print", "Print")
        },
        action: function(a, b, h, e) {
            var c = b.buttons.exportData(e.exportOptions),
                k = function(a, c) {
                    for (var b = "<tr>", d = 0, e = a.length; d < e; d++) b += "<" + c + ">" + a[d] + "</" + c + ">";
                    return b + "</tr>"
                },
                a = '<table class="' + b.table().node().className + '">';
            e.header && (a += "<thead>" + k(c.header, "th") + "</thead>");
            for (var a = a + "<tbody>", l = 0, i = c.body.length; l < i; l++) a += k(c.body[l], "td");
            a += "</tbody>";
            e.footer && c.footer && (a += "<tfoot>" + k(c.footer, "th") + "</tfoot>");
            var g = f.open("", ""),
                c = e.title;
            "function" === typeof c && (c = c()); - 1 !== c.indexOf("*") && (c = c.replace("*", d("title").text()));
            g.document.close();
            var j = "<title>" + c + "</title>";
            d("style, link").each(function() {
                var a = j,
                    b = d(this).clone()[0];
                "link" === b.nodeName.toLowerCase() && (b.href = m(b.href));
                j = a + b.outerHTML
            });
            try {
                g.document.head.innerHTML = j
            } catch (n) {
                d(g.document.head).html(j)
            }
            g.document.body.innerHTML = "<h1>" + c + "</h1><div>" + ("function" === typeof e.message ? e.message(b, h, e) : e.message) + "</div>" + a;
            d(g.document.body).addClass("dt-print-view");
            d("img", g.document.body).each(function(a, b) {
                b.setAttribute("src", m(b.getAttribute("src")))
            });
            e.customize && e.customize(g);
            setTimeout(function() {
                e.autoPrint && (g.print(), g.close())
            }, 250)
        },
        title: "*",
        message: "",
        exportOptions: {},
        header: !0,
        footer: !1,
        autoPrint: !0,
        customize: null
    };
    return i.Buttons
});
(function(g) {
    "function" === typeof define && define.amd ? define(["jquery", "datatables.net", "datatables.net-buttons"], function(d) {
        return g(d, window, document)
    }) : "object" === typeof exports ? module.exports = function(d, e) {
        d || (d = window);
        if (!e || !e.fn.dataTable) e = require("datatables.net")(d, e).$;
        e.fn.dataTable.Buttons || require("datatables.net-buttons")(d, e);
        return g(e, d, d.document)
    } : g(jQuery, window, document)
})(function(g, d, e, h) {
    d = g.fn.dataTable;
    g.extend(d.ext.buttons, {
        colvis: function(b, a) {
            return {
                extend: "collection",
                text: function(a) {
                    return a.i18n("buttons.colvis", "Column visibility")
                },
                className: "buttons-colvis",
                buttons: [{
                    extend: "columnsToggle",
                    columns: a.columns,
                    columnText: a.columnText
                }]
            }
        },
        columnsToggle: function(b, a) {
            return b.columns(a.columns).indexes().map(function(b) {
                return {
                    extend: "columnToggle",
                    columns: b,
                    columnText: a.columnText
                }
            }).toArray()
        },
        columnToggle: function(b, a) {
            return {
                extend: "columnVisibility",
                columns: a.columns,
                columnText: a.columnText
            }
        },
        columnsVisibility: function(b, a) {
            return b.columns(a.columns).indexes().map(function(b) {
                return {
                    extend: "columnVisibility",
                    columns: b,
                    visibility: a.visibility,
                    columnText: a.columnText
                }
            }).toArray()
        },
        columnVisibility: {
            columns: h,
            text: function(b, a, c) {
                return c._columnText(b, c)
            },
            className: "buttons-columnVisibility",
            action: function(b, a, c, f) {
                b = a.columns(f.columns);
                a = b.visible();
                b.visible(f.visibility !== h ? f.visibility : !(a.length && a[0]))
            },
            init: function(b, a, c) {
                var f = this;
                b.on("column-visibility.dt" + c.namespace, function(a, d) {
                    d.bDestroying || f.active(b.column(c.columns).visible())
                }).on("column-reorder.dt" + c.namespace, function(a, d, e) {
                    1 === b.columns(c.columns).count() && ("number" === typeof c.columns && (c.columns = e.mapping[c.columns]), a = b.column(c.columns), f.text(c._columnText(b, c)), f.active(a.visible()))
                });
                this.active(b.column(c.columns).visible())
            },
            destroy: function(b, a, c) {
                b.off("column-visibility.dt" + c.namespace).off("column-reorder.dt" + c.namespace)
            },
            _columnText: function(b, a) {
                var c = b.column(a.columns).index(),
                    f = b.settings()[0].aoColumns[c].sTitle.replace(/\n/g, " ").replace(/<.*?>/g, "").replace(/^\s+|\s+$/g, "");
                return a.columnText ? a.columnText(b, c, f) : f
            }
        },
        colvisRestore: {
            className: "buttons-colvisRestore",
            text: function(b) {
                return b.i18n("buttons.colvisRestore", "Restore visibility")
            },
            init: function(b, a, c) {
                c._visOriginal = b.columns().indexes().map(function(a) {
                    return b.column(a).visible()
                }).toArray()
            },
            action: function(b, a, c, d) {
                a.columns().every(function(b) {
                    b = a.colReorder && a.colReorder.transpose ? a.colReorder.transpose(b, "toOriginal") : b;
                    this.visible(d._visOriginal[b])
                })
            }
        },
        colvisGroup: {
            className: "buttons-colvisGroup",
            action: function(b, a, c, d) {
                a.columns(d.show).visible(!0, !1);
                a.columns(d.hide).visible(!1, !1);
                a.columns.adjust()
            },
            show: [],
            hide: []
        }
    });
    return d.Buttons
});
(function($) {
    "use strict";
    if (!$.browser) {
        $.browser = {};
        $.browser.mozilla = /mozilla/.test(navigator.userAgent.toLowerCase()) && !/webkit/.test(navigator.userAgent.toLowerCase());
        $.browser.webkit = /webkit/.test(navigator.userAgent.toLowerCase());
        $.browser.opera = /opera/.test(navigator.userAgent.toLowerCase());
        $.browser.msie = /msie/.test(navigator.userAgent.toLowerCase())
    }
    var methods = {
        destroy: function() {
            $(this).unbind(".maskMoney");
            if ($.browser.msie) {
                this.onpaste = null
            }
            return this
        },
        applyMask: function(value) {
            var $input = $(this);
            var settings = $input.data("settings");
            return maskValue(value, settings)
        },
        mask: function(value) {
            return this.each(function() {
                var $this = $(this);
                if (typeof value === "number") {
                    $this.val(value)
                }
                return $this.trigger("mask")
            })
        },
        unmasked: function() {
            return this.map(function() {
                var value = ($(this).val() || "0"),
                    isNegative = value.indexOf("-") !== -1,
                    decimalPart;
                $(value.split(/\D/).reverse()).each(function(index, element) {
                    if (element) {
                        decimalPart = element;
                        return !1
                    }
                });
                value = value.replace(/\D/g, "");
                value = value.replace(new RegExp(decimalPart + "$"), "." + decimalPart);
                if (isNegative) {
                    value = "-" + value
                }
                return parseFloat(value)
            })
        },
        init: function(parameters) {
            parameters = $.extend({
                prefix: "",
                suffix: "",
                affixesStay: !0,
                thousands: ",",
                decimal: ".",
                precision: 2,
                allowZero: !1,
                allowNegative: !1,
                doubleClickSelection: !0,
                allowEmpty: !1
            }, parameters);
            return this.each(function() {
                var $input = $(this),
                    settings, onFocusValue;
                settings = $.extend({}, parameters);
                settings = $.extend(settings, $input.data());
                $input.data("settings", settings);

                function getInputSelection() {
                    var el = $input.get(0),
                        start = 0,
                        end = 0,
                        normalizedValue, range, textInputRange, len, endRange;
                    if (typeof el.selectionStart === "number" && typeof el.selectionEnd === "number") {
                        start = el.selectionStart;
                        end = el.selectionEnd
                    } else {
                        range = document.selection.createRange();
                        if (range && range.parentElement() === el) {
                            len = el.value.length;
                            normalizedValue = el.value.replace(/\r\n/g, "\n");
                            textInputRange = el.createTextRange();
                            textInputRange.moveToBookmark(range.getBookmark());
                            endRange = el.createTextRange();
                            endRange.collapse(!1);
                            if (textInputRange.compareEndPoints("StartToEnd", endRange) > -1) {
                                start = end = len
                            } else {
                                start = -textInputRange.moveStart("character", -len);
                                start += normalizedValue.slice(0, start).split("\n").length - 1;
                                if (textInputRange.compareEndPoints("EndToEnd", endRange) > -1) {
                                    end = len
                                } else {
                                    end = -textInputRange.moveEnd("character", -len);
                                    end += normalizedValue.slice(0, end).split("\n").length - 1
                                }
                            }
                        }
                    }
                    return {
                        start: start,
                        end: end
                    }
                }

                function canInputMoreNumbers() {
                    var haventReachedMaxLength = !($input.val().length >= $input.attr("maxlength") && $input.attr("maxlength") >= 0),
                        selection = getInputSelection(),
                        start = selection.start,
                        end = selection.end,
                        haveNumberSelected = (selection.start !== selection.end && $input.val().substring(start, end).match(/\d/)) ? !0 : !1,
                        startWithZero = ($input.val().substring(0, 1) === "0");
                    return haventReachedMaxLength || haveNumberSelected || startWithZero
                }

                function setCursorPosition(pos) {
                    if (!!settings.formatOnBlur) {
                        return
                    }
                    $input.each(function(index, elem) {
                        if (elem.setSelectionRange) {
                            elem.focus();
                            elem.setSelectionRange(pos, pos)
                        } else if (elem.createTextRange) {
                            var range = elem.createTextRange();
                            range.collapse(!0);
                            range.moveEnd("character", pos);
                            range.moveStart("character", pos);
                            range.select()
                        }
                    })
                }

                function maskAndPosition(startPos) {
                    var originalLen = $input.val().length,
                        newLen;
                    $input.val(maskValue($input.val(), settings));
                    newLen = $input.val().length;
                    if (!settings.reverse) {
                        startPos = startPos - (originalLen - newLen)
                    }
                    setCursorPosition(startPos)
                }

                function mask() {
                    var value = $input.val();
                    if (settings.allowEmpty && value === "") {
                        return
                    }
                    if (settings.precision > 0 && value.indexOf(settings.decimal) < 0) {
                        value += settings.decimal + new Array(settings.precision + 1).join(0)
                    }
                    $input.val(maskValue(value, settings))
                }

                function changeSign() {
                    var inputValue = $input.val();
                    if (settings.allowNegative) {
                        if (inputValue !== "" && inputValue.charAt(0) === "-") {
                            return inputValue.replace("-", "")
                        } else {
                            return "-" + inputValue
                        }
                    } else {
                        return inputValue
                    }
                }

                function preventDefault(e) {
                    if (e.preventDefault) {
                        e.preventDefault()
                    } else {
                        e.returnValue = !1
                    }
                }

                function keypressEvent(e) {
                    e = e || window.event;
                    var key = e.which || e.charCode || e.keyCode,
                        decimalKeyCode = settings.decimal.charCodeAt(0);
                    if (key === undefined) {
                        return !1
                    }
                    if ((key < 48 || key > 57) && (key !== decimalKeyCode || !settings.reverse)) {
                        return handleAllKeysExceptNumericalDigits(key, e)
                    } else if (!canInputMoreNumbers()) {
                        return !1
                    } else {
                        if (key === decimalKeyCode && shouldPreventDecimalKey()) {
                            return !1
                        }
                        if (settings.formatOnBlur) {
                            return !0
                        }
                        preventDefault(e);
                        applyMask(e);
                        return !1
                    }
                }

                function shouldPreventDecimalKey() {
                    if (isAllTextSelected()) {
                        return !1
                    }
                    return alreadyContainsDecimal()
                }

                function isAllTextSelected() {
                    var length = $input.val().length;
                    var selection = getInputSelection();
                    return selection.start === 0 && selection.end === length
                }

                function alreadyContainsDecimal() {
                    return $input.val().indexOf(settings.decimal) > -1
                }

                function applyMask(e) {
                    e = e || window.event;
                    var key = e.which || e.charCode || e.keyCode,
                        keyPressedChar = "",
                        selection, startPos, endPos, value;
                    if (key >= 48 && key <= 57) {
                        keyPressedChar = String.fromCharCode(key)
                    }
                    selection = getInputSelection();
                    startPos = selection.start;
                    endPos = selection.end;
                    value = $input.val();
                    $input.val(value.substring(0, startPos) + keyPressedChar + value.substring(endPos, value.length));
                    maskAndPosition(startPos + 1)
                }

                function handleAllKeysExceptNumericalDigits(key, e) {
                    if (key === 45) {
                        $input.val(changeSign());
                        return !1
                    } else if (key === 43) {
                        $input.val($input.val().replace("-", ""));
                        return !1
                    } else if (key === 13 || key === 9) {
                        return !0
                    } else if ($.browser.mozilla && (key === 37 || key === 39) && e.charCode === 0) {
                        return !0
                    } else {
                        preventDefault(e);
                        return !0
                    }
                }

                function keydownEvent(e) {
                    e = e || window.event;
                    var key = e.which || e.charCode || e.keyCode,
                        selection, startPos, endPos, value, lastNumber;
                    if (key === undefined) {
                        return !1
                    }
                    selection = getInputSelection();
                    startPos = selection.start;
                    endPos = selection.end;
                    if (key === 8 || key === 46 || key === 63272) {
                        preventDefault(e);
                        value = $input.val();
                        if (startPos === endPos) {
                            if (key === 8) {
                                if (settings.suffix === "") {
                                    startPos -= 1
                                } else {
                                    lastNumber = value.split("").reverse().join("").search(/\d/);
                                    startPos = value.length - lastNumber - 1;
                                    endPos = startPos + 1
                                }
                            } else {
                                endPos += 1
                            }
                        }
                        $input.val(value.substring(0, startPos) + value.substring(endPos, value.length));
                        maskAndPosition(startPos);
                        return !1
                    } else if (key === 9) {
                        return !0
                    } else {
                        return !0
                    }
                }

                function focusEvent() {
                    onFocusValue = $input.val();
                    mask();
                    var input = $input.get(0),
                        textRange;
                    if (!!settings.selectAllOnFocus) {
                        input.select()
                    } else if (input.createTextRange) {
                        textRange = input.createTextRange();
                        textRange.collapse(!1);
                        textRange.select()
                    }
                }

                function cutPasteEvent() {
                    setTimeout(function() {
                        mask()
                    }, 0)
                }

                function getDefaultMask() {
                    var n = parseFloat("0") / Math.pow(10, settings.precision);
                    return (n.toFixed(settings.precision)).replace(new RegExp("\\.", "g"), settings.decimal)
                }

                function blurEvent(e) {
                    if ($.browser.msie) {
                        keypressEvent(e)
                    }
                    if (!!settings.formatOnBlur && $input.val() !== onFocusValue) {
                        applyMask(e)
                    }
                    if ($input.val() === "" && settings.allowEmpty) {
                        $input.val("")
                    } else if ($input.val() === "" || $input.val() === setSymbol(getDefaultMask(), settings)) {
                        if (!settings.allowZero) {
                            $input.val("")
                        } else if (!settings.affixesStay) {
                            $input.val(getDefaultMask())
                        } else {
                            $input.val(setSymbol(getDefaultMask(), settings))
                        }
                    } else {
                        if (!settings.affixesStay) {
                            var newValue = $input.val().replace(settings.prefix, "").replace(settings.suffix, "");
                            $input.val(newValue)
                        }
                    }
                    if ($input.val() !== onFocusValue) {
                        $input.change()
                    }
                }

                function clickEvent() {
                    var input = $input.get(0),
                        length;
                    if (!!settings.selectAllOnFocus) {
                        return
                    } else if (input.setSelectionRange) {
                        length = $input.val().length;
                        input.setSelectionRange(length, length)
                    } else {
                        $input.val($input.val())
                    }
                }

                function doubleClickEvent() {
                    var input = $input.get(0),
                        start, length;
                    if (input.setSelectionRange) {
                        length = $input.val().length;
                        start = settings.doubleClickSelection ? 0 : length;
                        input.setSelectionRange(start, length)
                    } else {
                        $input.val($input.val())
                    }
                }
                $input.unbind(".maskMoney");
                $input.bind("keypress.maskMoney", keypressEvent);
                $input.bind("keydown.maskMoney", keydownEvent);
                $input.bind("blur.maskMoney", blurEvent);
                $input.bind("focus.maskMoney", focusEvent);
                $input.bind("click.maskMoney", clickEvent);
                $input.bind("dblclick.maskMoney", doubleClickEvent);
                $input.bind("cut.maskMoney", cutPasteEvent);
                $input.bind("paste.maskMoney", cutPasteEvent);
                $input.bind("mask.maskMoney", mask)
            })
        }
    };

    function setSymbol(value, settings) {
        var operator = "";
        if (value.indexOf("-") > -1) {
            value = value.replace("-", "");
            operator = "-"
        }
        if (value.indexOf(settings.prefix) > -1) {
            value = value.replace(settings.prefix, "")
        }
        if (value.indexOf(settings.suffix) > -1) {
            value = value.replace(settings.suffix, "")
        }
        return operator + settings.prefix + value + settings.suffix
    }

    function maskValue(value, settings) {
        if (settings.allowEmpty && value === "") {
            return ""
        }
        if (!!settings.reverse) {
            return maskValueReverse(value, settings)
        }
        return maskValueStandard(value, settings)
    }

    function maskValueStandard(value, settings) {
        var negative = (value.indexOf("-") > -1 && settings.allowNegative) ? "-" : "",
            onlyNumbers = value.replace(/[^0-9]/g, ""),
            integerPart = onlyNumbers.slice(0, onlyNumbers.length - settings.precision),
            newValue, decimalPart, leadingZeros;
        newValue = buildIntegerPart(integerPart, negative, settings);
        if (settings.precision > 0) {
            decimalPart = onlyNumbers.slice(onlyNumbers.length - settings.precision);
            leadingZeros = new Array((settings.precision + 1) - decimalPart.length).join(0);
            newValue += settings.decimal + leadingZeros + decimalPart
        }
        return setSymbol(newValue, settings)
    }

    function maskValueReverse(value, settings) {
        var negative = (value.indexOf("-") > -1 && settings.allowNegative) ? "-" : "",
            valueWithoutSymbol = value.replace(settings.prefix, "").replace(settings.suffix, ""),
            integerPart = valueWithoutSymbol.split(settings.decimal)[0],
            newValue, decimalPart = "";
        if (integerPart === "") {
            integerPart = "0"
        }
        newValue = buildIntegerPart(integerPart, negative, settings);
        if (settings.precision > 0) {
            var arr = valueWithoutSymbol.split(settings.decimal);
            if (arr.length > 1) {
                decimalPart = arr[1]
            }
            newValue += settings.decimal + decimalPart;
            var rounded = Number.parseFloat((integerPart + "." + decimalPart)).toFixed(settings.precision);
            var roundedDecimalPart = rounded.toString().split(settings.decimal)[1];
            newValue = newValue.split(settings.decimal)[0] + "." + roundedDecimalPart
        }
        return setSymbol(newValue, settings)
    }

    function buildIntegerPart(integerPart, negative, settings) {
        integerPart = integerPart.replace(/^0*/g, "");
        integerPart = integerPart.replace(/\B(?=(\d{3})+(?!\d))/g, settings.thousands);
        if (integerPart === "") {
            integerPart = "0"
        }
        return negative + integerPart
    }
    $.fn.maskMoney = function(method) {
        if (methods[method]) {
            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1))
        } else if (typeof method === "object" || !method) {
            return methods.init.apply(this, arguments)
        } else {
            $.error("Method " + method + " does not exist on jQuery.maskMoney")
        }
    }
})(window.jQuery || window.Zepto);
var wdtCustomUploader = null;
var inlineEditClass = function(tableDescription, dataTableOptions, $) {
    var obj = {
        params: {
            tableId: tableDescription.tableId,
            currentCell: '',
            editInputId: 'dt_cell_edit',
            editSelector: '#dt_cell_edit',
            validationPopover: '<div class="wpDataTablesPopover editError"></div>',
            value: '',
            table: '',
            cellData: '',
            cellInfo: '',
            rowId: '',
            columnId: '',
            columnType: '',
            inputType: '',
            columnHeader: '',
            notNull: '',
            code: '',
            expandButton: '',
            valid: !0,
            additionalValid: !0,
            dateFormat: tableDescription.datepickFormat.replace(/y/g, 'yy').replace(/Y/g, 'yyyy').replace(/M/g, 'mmm'),
            timeFormat: tableDescription.timeFormat
        },
        datePicker: '',
        timePicker: '',
        removeSelection: function() {
            if (document.selection && document.selection.empty) {
                document.selection.empty()
            } else if (window.getSelection) {
                var sel = window.getSelection();
                sel.removeAllRanges()
            }
        },
        setErrorPopoverPosition: function(element, popover) {
            var position = '';
            var offset = element.offset();
            var width = element.outerWidth(!0);
            var height = element.outerHeight(!0);
            var centerX = offset.left + (width / 2) - (popover.width / 2);
            var centerY = offset.top - (popover.height);
            position = {
                "top": centerY,
                "left": centerX
            };
            return position
        },
        parseLink: function() {
            if (obj.params.value !== null) {
                if (obj.params.value.indexOf('<a ') !== -1) {
                    var $link = $(obj.params.value);
                    if ($.inArray(obj.params.columnType, ['link', 'email']) !== -1) {
                        if ($link.attr('href').indexOf($link.html()) === -1) {
                            obj.params.value = $link.attr('href').replace('mailto:', '') + '||' + $link.html()
                        } else {
                            obj.params.value = $link.html()
                        }
                    } else if ($.inArray(obj.params.columnType, ['icon']) !== -1) {
                        var $linkthumb = $($link.html());
                        if ($link.attr('href').indexOf($link.html()) === -1) {
                            obj.params.value = $link.attr('href') + '||' + $linkthumb.attr('src')
                        } else {
                            obj.params.value = $link.html()
                        }
                    }
                } else if (obj.params.value.indexOf('<img ') !== -1) {
                    $link = $(obj.params.value);
                    obj.params.value = $link.attr('src')
                }
            }
        },
        saveData: function(val, rowId, columnId) {
            $(tableDescription.selector).addClass('overlayed');
            wpDataTables[obj.params.tableId].fnUpdate(val, rowId, columnId, 0, 0);
            var data = wpDataTables[obj.params.tableId].fnGetData(rowId);
            wpDataTablesFunctions[obj.params.tableId].applyData(data);
            wpDataTablesFunctions[obj.params.tableId].saveTableData(1);
            $(tableDescription.selector).find('td').removeClass('editing')
        },
        fieldValidation: function(type, element) {
            if (obj.params.value != '') {
                if (type == 'email') {
                    var field_valid = wdtValidateEmail(obj.params.value);
                    var message = wpdatatables_frontend_strings.invalid_email
                } else if (type == 'link') {
                    var field_valid = wdtValidateURL(obj.params.value);
                    var message = wpdatatables_frontend_strings.invalid_link
                }
                if (!field_valid) {
                    if (!element.closest('td').hasClass('error')) {
                        element.closest('td').addClass('error');
                        $('body').prepend(obj.params.validationPopover);
                        $('.wpDataTablesPopover.editError').html(message);
                        var popoverSize = {
                            "width": $('.wpDataTablesPopover.editError').outerWidth(),
                            "height": $('.wpDataTablesPopover.editError').outerHeight() + 7
                        };
                        $('.wpDataTablesPopover.editError').css(obj.setErrorPopoverPosition(element, popoverSize));
                        setTimeout(function() {
                            $('.wpDataTablesPopover.editError').animateFadeOut('300', function() {
                                $(this).remove();
                                element.closest('td').removeClass('error')
                            })
                        }, 2000)
                    }
                    obj.params.valid = !1;
                    obj.params.additionalValid = !1
                } else {
                    $(this).closest('td').removeClass('error');
                    obj.params.valid = !0;
                    obj.params.additionalValid = !0
                }
            } else {
                obj.params.valid = !0;
                obj.params.additionalValid = !0
            }
        },
        mandatoryFieldValidation: function(element) {
            if (obj.params.value == '' || !obj.params.additionalValid) {
                if (!element.closest('td').hasClass('error')) {
                    element.closest('td').addClass('error');
                    $('body').prepend(obj.params.validationPopover);
                    $('.wpDataTablesPopover.editError').html(wpdatatables_frontend_strings.cannot_be_empty);
                    var popoverSize = {
                        "width": $('.wpDataTablesPopover.editError').outerWidth(),
                        "height": $('.wpDataTablesPopover.editError').outerHeight() + 7
                    };
                    $('.wpDataTablesPopover.editError').css(obj.setErrorPopoverPosition(element, popoverSize));
                    setTimeout(function() {
                        $('.wpDataTablesPopover.editError').animateFadeOut('300', function() {
                            $(this).remove();
                            element.closest('td').removeClass('error')
                        })
                    }, 2000);
                    obj.params.valid = !1
                }
            } else {
                element.closest('td').removeClass('error');
                obj.params.valid = !0
            }
        },
        validateAndSave: function($this) {
            var type_array = new Array('email', 'link');
            if ($.inArray(obj.params.inputType, type_array) !== -1 && obj.params.columnType != 'icon') {
                obj.fieldValidation(obj.params.inputType, $this);
                if (obj.params.notNull) {
                    obj.mandatoryFieldValidation($this)
                }
            } else {
                if (obj.params.notNull) {
                    obj.mandatoryFieldValidation($this)
                }
            }
            if (obj.params.valid) {
                $.when(obj.saveData(obj.params.value, obj.params.rowId, obj.params.columnId)).then(obj.params.currentCell.prepend(obj.params.expandButton))
            }
        },
        FieldTypeMethods: {
            noneditableCell: function() {
                obj.params.currentCell.removeClass('editing');
                var $this = obj.params.currentCell;
                var $value = obj.params.currentCell.html();
                obj.params.currentCell.empty().html('You can\'t edit this field');
                $(document).click(function() {
                    $this.html($value)
                })
            },
            textCell: function() {
                obj.parseLink();
                var entityMap = {
                    "&": "&amp;",
                    "<": "&lt;",
                    ">": "&gt;",
                    '"': '&quot;',
                    "'": '&#39;',
                    "/": '&#x2F;'
                };

                function escapeHtml(string) {
                    return String(string).replace(/[&<>"'\/]/g, function(s) {
                        return entityMap[s]
                    })
                }
                var value = obj.params.value == null ? '' : escapeHtml(obj.params.value);
                obj.params.code = '<input type="text" data-input_type="' + obj.params.inputType + '" id="' + obj.params.editInputId + '" value="' + value + '" />';
                obj.params.currentCell.empty().append(obj.params.code);
                $(obj.params.editSelector).focus();
                $(obj.params.editSelector).blur(function() {
                    obj.params.value = $(this).val();
                    obj.validateAndSave($(this))
                })
            },
            textareaCell: function() {
                obj.parseLink();
                if (obj.params.value == null) {
                    obj.params.value = ''
                } else if (obj.params.value.indexOf('<br/>') != -1) {
                    obj.params.value = (obj.params.value).replace(/<br\/>/g, "\n")
                }
                obj.params.code = '<textarea data-input_type="' + obj.params.inputType + '" id="' + obj.params.editInputId + '" rows="3" columns="50">' + obj.params.value + '</textarea>';
                obj.params.currentCell.empty().append(obj.params.code);
                $(obj.params.editSelector).focus();
                $(obj.params.editSelector).blur(function() {
                    obj.params.value = $(this).val();
                    obj.validateAndSave($(this))
                })
            },
            tinymceCell: function() {
                obj.parseLink();
                if (obj.params.value.indexOf('<br/>') != -1) {
                    obj.params.value = (obj.params.value).replace(/<br\/>/g, "\n")
                }
                obj.params.code = '<textarea class="wpdt-tiny-mce" data-input_type="' + obj.params.inputType + '" id="' + obj.params.editInputId + '" rows="3" columns="50">' + obj.params.value + '</textarea>';
                obj.params.currentCell.empty().append(obj.params.code);
                tinymce.init({
                    selector: obj.params.editSelector,
                    auto_focus: obj.params.editInputId,
                    menubar: !1,
                    init_instance_callback: function(editor) {
                        editor.on('blur', function(e) {
                            tinymce.triggerSave();
                            obj.params.value = $(obj.params.editSelector).val();
                            obj.validateAndSave($(obj.params.editSelector))
                        })
                    }
                })
            },
            linkCell: function() {
                obj.parseLink();
                obj.params.code = '<input type="text" data-input_type="' + obj.params.inputType + '" id="' + obj.params.editInputId + '" value="' + obj.params.value + '" />';
                obj.params.currentCell.empty().append(obj.params.code);
                $(obj.params.editSelector).focus();
                $(obj.params.editSelector).blur(function() {
                    if (obj.params.columnType == 'icon') {
                        obj.params.value = '<img src="' + $(this).val() + '" />'
                    } else {
                        obj.params.value = $(this).val()
                    }
                    obj.validateAndSave($(this))
                })
            },
            dateCell: function() {
                obj.params.code = '<input type="text" class="wdt-datepicker" data-input_type="' + obj.params.inputType + '" id="' + obj.params.editInputId + '" value="' + obj.params.value + '" />';
                obj.params.currentCell.empty().append(obj.params.code);
                $(obj.params.editSelector).focus();
                $(obj.params.editSelector).blur(function() {
                    obj.params.value = $(this).val();
                    obj.validateAndSave($(this))
                })
            },
            timeCell: function() {
                obj.params.code = '<input type="text" class="wdt-timepicker" data-input_type="' + obj.params.inputType + '" id="' + obj.params.editInputId + '" value="' + obj.params.value + '" />';
                obj.params.currentCell.empty().append(obj.params.code);
                $(obj.params.editSelector).focus();
                $(obj.params.editSelector).blur(function() {
                    obj.params.value = $(this).val();
                    obj.validateAndSave($(this))
                })
            },
            datetimeCell: function() {
                obj.params.code = '<input type="text" class="wdt-datetimepicker" data-input_type="' + obj.params.inputType + '" id="' + obj.params.editInputId + '" value="' + obj.params.value + '" />';
                obj.params.currentCell.empty().append(obj.params.code);
                $(obj.params.editSelector).focus();
                $(obj.params.editSelector).blur(function() {
                    obj.params.value = $(this).val();
                    obj.validateAndSave($(this))
                })
            },
            selectboxCell: function() {
                obj.params.code = $('#' + tableDescription.tableId + '_' + obj.params.columnHeader).clone();
                obj.params.currentCell.empty().append(obj.params.code.attr('id', obj.params.editInputId).removeClass('selecter-element'));
                if (obj.params.value !== null) {
                    $.each(obj.params.value.split(", "), function(i, e) {
                        $(obj.params.editSelector + ' option[value="' + e + '"]').prop("selected", !0)
                    })
                }
                $(obj.params.editSelector).selectpicker();
                $(obj.params.editSelector).selectpicker('toggle');
                obj.params.currentCell.css({
                    'overflow': 'initial'
                });
                if (obj.params.inputType == 'selectbox') {
                    $(obj.params.editSelector).on('changed.bs.select', function() {
                        $(obj.params.editSelector).data('changed', !0);
                        obj.params.value = $(this).val();
                        if ($.type(obj.params.value) === 'array') {
                            obj.params.value = obj.params.value.join(', ')
                        }
                        obj.validateAndSave($(this))
                    })
                }
                $(obj.params.editSelector).on('hidden.bs.select', function() {
                    obj.params.value = $('#' + obj.params.editInputId).val();
                    if ($.type(obj.params.value) === 'array') {
                        obj.params.value = obj.params.value.join(', ')
                    }
                    obj.validateAndSave($(this))
                })
            },
            attachmentCell: function() {
                obj.params.value = '';
                var src = '';
                if (obj.params.currentCell.find('img').length > 0) {
                    if (obj.params.currentCell.find('img').attr('src').length > 0) {
                        src = obj.params.currentCell.find('img').attr('src')
                    }
                } else if (obj.params.currentCell.find('a').length > 0) {
                    if (obj.params.currentCell.find('a').attr('href').length > 0) {
                        src = obj.params.currentCell.find('a').attr('href')
                    }
                } else {
                    src = obj.params.currentCell.html()
                }
                var fileName = src.substring(src.lastIndexOf('/') + 1);
                obj.params.code = '<span class="btn btn-primary m-r-10 waves-effect fileupload_row_edit_' + tableDescription.tableId + '" ' + 'id="row_edit_' + tableDescription.tableId + '_sets_button" ' + 'data-column_type="icon" ' + 'data-rel_input="row_edit_' + tableDescription.tableId + '_sets">' + '<span class="fileinput-new">Select file</span>' + '<span class="fileinput-exists">Change</span>' + '<input type="hidden" ' + 'id="row_edit_' + tableDescription.tableId + '_sets" ' + 'data-key="sets" ' + 'data-input_type="attachment" ' + 'value="' + src + '" ' + 'class="editDialogInput" ' + '/>' + '</span>' + '<button class="btn btn-primary waves-effect fileinput-save m-r-10">Save</button>' + '<button class="btn btn-danger fileinput-exists wdt-detach-attachment-file-inline m-r-10" data-dismiss="fileinput">Remove</button>' + '<span class="fileinput-filename"></span>';
                obj.params.currentCell.empty().append(obj.params.code);
                obj.fileUploadInit('row_edit_' + tableDescription.tableId);
                var $inputElement = $('#row_edit_' + tableDescription.tableId + '_sets');
                if (fileName != '') {
                    $inputElement.parent().parent().removeClass('fileinput-new').addClass('fileinput-exists');
                    $inputElement.parent().parent().find('.fileinput-filename').text(fileName)
                } else {
                    $inputElement.parent().parent().removeClass('fileinput-exists').addClass('fileinput-new');
                    $inputElement.parent().parent().find('.fileinput-filename').text('')
                }
                $('.fileinput-save').click(function() {
                    obj.params.value = $('#row_edit_' + tableDescription.tableId + '_sets').val();
                    obj.params.value = '<a href="' + obj.params.value + '"></a>';
                    $('#row_edit_' + tableDescription.tableId + '_sets').closest('td').empty().html(obj.params.value);
                    obj.validateAndSave($(this))
                })
            }
        },
        fileUploadInit: function(selector) {
            if ($('.fileupload_' + selector).length) {
                var attachment = null;
                wdtCustomUploader = wp.media({
                    title: wpdatatables_frontend_strings.select_upload_file,
                    button: {
                        text: wpdatatables_frontend_strings.choose_file
                    },
                    multiple: !1
                });
                $('.fileupload_' + selector).click(function(e) {
                    e.preventDefault();
                    var $button = $(this);
                    var $relInput = $('#' + $button.data('rel_input'));
                    if (obj.params.columnType == 'icon') {
                        wdtCustomUploader = wp.media({
                            title: wpdatatables_frontend_strings.select_upload_file,
                            button: {
                                text: wpdatatables_frontend_strings.choose_file
                            },
                            multiple: !1,
                            library: {
                                type: 'image'
                            }
                        });
                        wdtCustomUploader.off('select').on('select', function() {
                            attachment = wdtCustomUploader.state().get('selection').first().toJSON();
                            var val = attachment.url;
                            $relInput.parent().parent().parent().find('.fileinput-preview').html('<img src=' + val + '>');
                            $relInput.parent().parent().parent().removeClass('fileinput-new').addClass('fileinput-exists');
                            $relInput.parent().parent().removeClass('fileinput-new').addClass('fileinput-exists');
                            if (attachment.sizes.thumbnail) {
                                val = attachment.sizes.thumbnail.url + '||' + val
                            }
                            $relInput.val(val)
                        })
                    } else {
                        wdtCustomUploader.off('select').on('select', function() {
                            attachment = wdtCustomUploader.state().get('selection').first().toJSON();
                            $relInput.val(attachment.url);
                            $relInput.parent().parent().removeClass('fileinput-new').addClass('fileinput-exists');
                            $relInput.parent().parent().find('.fileinput-filename').text(attachment.filename)
                        })
                    }
                    wdtCustomUploader.open()
                });
                $('.wdt-detach-attachment-file-inline').click(function(e) {
                    e.preventDefault();
                    e.stopImmediatePropagation();
                    if ($(this).parent().find('span.fileupload-' + tableDescription.tableId).data('column_type') == 'icon') {
                        $(this).parent().find('input.editDialogInput').val('');
                        $(this).parent().parent().find('.fileinput-preview').html('');
                        $(this).parent().parent().removeClass('fileinput-exists').addClass('fileinput-new');
                        $(this).parent().removeClass('fileinput-exists').addClass('fileinput-new')
                    } else {
                        $(this).parent().find('input.editDialogInput').val('');
                        $(this).parent().find('.fileinput-filename').text('');
                        $(this).parent().removeClass('fileinput-exists').addClass('fileinput-new')
                    }
                })
            }
        },
        bindClickEvent: function() {
            $(tableDescription.selector + ' tbody').on('dblclick', 'td', function(e) {
                var target = e.target || e.srcElement;
                var elementName = target.tagName.toLowerCase();
                if (elementName == 'input' || elementName == 'span' || !obj.params.valid || $(this).hasClass('editing')) {
                    return !1
                }
                obj.removeSelection();
                if (!$(this).hasClass("dataTables_empty")) {
                    $(this).addClass('editing')
                }
                obj.params.table = $(tableDescription.selector).DataTable();
                if (wpDataTables[obj.params.tableId].fnSettings().fnRecordsTotal() == 0) {
                    return !1
                }
                obj.params.cellData = obj.params.table.cell(this).data();
                obj.params.cellInfo = obj.params.table.cell(this).index();
                obj.params.columnId = obj.params.cellInfo.column;
                obj.params.columnType = wpDataTables[obj.params.tableId].fnSettings().aoColumns[obj.params.columnId].wdtType;
                obj.params.rowId = obj.params.cellInfo.row;
                obj.params.inputType = dataTableOptions.aoColumnDefs[obj.params.columnId].InputType;
                obj.params.columnHeader = dataTableOptions.aoColumnDefs[obj.params.columnId].origHeader;
                obj.params.notNull = dataTableOptions.aoColumnDefs[obj.params.columnId].notNull;
                obj.params.value = obj.params.cellData;
                obj.params.currentCell = $(this);
                if ($(this).children('.responsiveExpander') != '') {
                    obj.params.expandButton = $(this).children('.responsiveExpander')
                }
                switch (obj.params.inputType) {
                    case 'none':
                        obj.FieldTypeMethods.noneditableCell();
                        break;
                    case 'text':
                        obj.FieldTypeMethods.textCell();
                        break;
                    case 'textarea':
                        obj.FieldTypeMethods.textareaCell();
                        break;
                    case 'mce-editor':
                        obj.FieldTypeMethods.tinymceCell();
                        break;
                    case 'link':
                    case 'email':
                        obj.FieldTypeMethods.linkCell();
                        break;
                    case 'date':
                        obj.FieldTypeMethods.dateCell();
                        break;
                    case 'time':
                        obj.FieldTypeMethods.timeCell();
                        break;
                    case 'datetime':
                        obj.FieldTypeMethods.datetimeCell();
                        break;
                    case 'multi-selectbox':
                    case 'selectbox':
                        obj.FieldTypeMethods.selectboxCell();
                        break;
                    case 'attachment':
                        obj.FieldTypeMethods.attachmentCell();
                        break
                }
            })
        }
    };
    obj.bindClickEvent()
};
'use strict';

function ResponsiveDatatablesHelper(tableSelector, breakpoints, options) {
    if (typeof tableSelector === 'string') {
        this.tableElement = jQuery(tableSelector)
    } else {
        this.tableElement = tableSelector
    }
    this.api = this.tableElement.dataTable().api();
    this.columnIndexes = [];
    this.columnsShownIndexes = [];
    this.columnsHiddenIndexes = [];
    this.currentBreakpoint = '';
    this.lastBreakpoint = '';
    this.lastColumnsHiddenIndexes = [];
    var fileName = window.location.pathname.split("/").pop();
    var context = this.api.settings().context[0];
    this.tableId = context.sTableId;
    this.saveState = context.oInit.bStateSave;
    this.cookieName = 'DataTablesResponsiveHelper_' + this.tableId + (fileName ? '_' + fileName : '');
    this.lastStateExists = !1;
    this.expandColumn = undefined;
    this.origBreakpointsDefs = undefined;
    this.breakpoints = {};
    this.options = {
        hideEmptyColumnsInRowDetail: !1,
        clickOn: 'icon',
        showDetail: null,
        hideDetail: null
    };
    this.expandIconTemplate = '<span class="responsiveExpander"></span>';
    this.rowTemplate = '<tr class="row-detail"><td><ul><!--column item--></ul></td></tr>';
    this.rowLiTemplate = '<li><span class="columnTitle"><!--column title--></span>: <span class="columnValue"><!--column value--></span></li>';
    this.disabled = !0;
    this.skipNextWindowsWidthChange = !1;
    this.init(breakpoints, options)
}
ResponsiveDatatablesHelper.prototype.init = function(breakpoints, options) {
    this.origBreakpointsDefs = breakpoints;
    this.initBreakpoints();
    this.disable(!1);
    jQuery.extend(this.options, options)
};
ResponsiveDatatablesHelper.prototype.initBreakpoints = function() {
    if (this.saveState) {
        this.getState()
    }
    if (!this.lastStateExists) {
        var breakpointsSorted = [];
        for (var prop in this.origBreakpointsDefs) {
            breakpointsSorted.push({
                name: prop,
                upperLimit: this.origBreakpointsDefs[prop],
                columnsToHide: []
            })
        }
        breakpointsSorted.sort(function(a, b) {
            return a.upperLimit - b.upperLimit
        });
        var lowerLimit = 0;
        for (var i = 0; i < breakpointsSorted.length; i++) {
            breakpointsSorted[i].lowerLimit = lowerLimit;
            lowerLimit = breakpointsSorted[i].upperLimit
        }
        breakpointsSorted.push({
            name: 'always',
            lowerLimit: lowerLimit,
            upperLimit: Infinity,
            columnsToHide: []
        });
        this.breakpoints = {};
        var i, l;
        for (i = 0, l = breakpointsSorted.length; i < l; i++) {
            this.breakpoints[breakpointsSorted[i].name] = breakpointsSorted[i]
        }
        var columns = this.api.columns().header();
        var visibleColumnsHeadersTds = [];
        for (i = 0, l = columns.length; i < l; i++) {
            if (this.api.column(i).visible()) {
                this.columnIndexes.push(i);
                visibleColumnsHeadersTds.push(columns[i])
            }
        }
        for (var index = 0; index < visibleColumnsHeadersTds.length; index++) {
            var col = jQuery(visibleColumnsHeadersTds[index]);
            if (col.attr('data-class') === 'expand') {
                this.expandColumn = this.columnIndexes[index]
            }
            var dataHide = col.attr('data-hide');
            if (dataHide !== undefined) {
                var splitBreakingPoints = dataHide.split(/,\s*/);
                for (var i = 0; i < splitBreakingPoints.length; i++) {
                    var bp = splitBreakingPoints[i];
                    if (bp === 'always') {
                        for (var prop in this.breakpoints) {
                            if (this.breakpoints[prop].name !== 'default') {
                                this.breakpoints[prop].columnsToHide.push(this.columnIndexes[index])
                            }
                        }
                    } else if (this.breakpoints[bp] !== undefined) {
                        this.breakpoints[bp].columnsToHide.push(this.columnIndexes[index])
                    }
                }
            }
        }
    }
};
ResponsiveDatatablesHelper.prototype.setWindowsResizeHandler = function(bindFlag) {
    if (bindFlag === undefined) {
        bindFlag = !0
    }
    if (bindFlag) {
        var that = this;
        jQuery(window).bind("resize", function() {
            that.respond()
        })
    } else {
        jQuery(window).unbind("resize")
    }
};
ResponsiveDatatablesHelper.prototype.respond = function() {
    if (this.disabled) {
        return
    }
    var that = this;
    var newWindowWidth = jQuery(window).width();
    var newColumnsToHide = [];
    for (var prop in this.breakpoints) {
        var element = this.breakpoints[prop];
        if ((!element.lowerLimit || newWindowWidth > element.lowerLimit) && (!element.upperLimit || newWindowWidth <= element.upperLimit)) {
            this.currentBreakpoint = element.name;
            newColumnsToHide = element.columnsToHide
        }
    }
    var columnShowHide = !1;
    if (!this.skipNextWindowsWidthChange) {
        if (this.lastBreakpoint.length === 0 && newColumnsToHide.length) {
            columnShowHide = !0
        } else if (this.lastBreakpoint != this.currentBreakpoint) {
            columnShowHide = !0
        } else if (this.columnsHiddenIndexes.length !== newColumnsToHide.length) {
            columnShowHide = !0
        } else {
            var d1 = this.difference(this.columnsHiddenIndexes, newColumnsToHide).length;
            var d2 = this.difference(newColumnsToHide, this.columnsHiddenIndexes).length;
            columnShowHide = d1 + d2 > 0
        }
    }
    if (columnShowHide) {
        this.skipNextWindowsWidthChange = !0;
        this.columnsHiddenIndexes = newColumnsToHide;
        this.columnsShownIndexes = this.difference(this.columnIndexes, this.columnsHiddenIndexes);
        this.showHideColumns();
        this.lastBreakpoint = this.currentBreakpoint;
        this.setState();
        this.skipNextWindowsWidthChange = !1
    }
    if (this.columnsHiddenIndexes.length) {
        this.tableElement.addClass('has-columns-hidden');
        jQuery('tr.detail-show', this.tableElement).each(function(index, element) {
            var tr = jQuery(element);
            if (tr.next('.row-detail').length === 0) {
                ResponsiveDatatablesHelper.prototype.showRowDetail(that, tr)
            }
        })
    } else {
        this.tableElement.removeClass('has-columns-hidden');
        jQuery('tr.row-detail', this.tableElement).each(function(event) {
            ResponsiveDatatablesHelper.prototype.hideRowDetail(that, jQuery(this).prev())
        })
    }
};
ResponsiveDatatablesHelper.prototype.showHideColumns = function() {
    for (var i = 0, l = this.columnsShownIndexes.length; i < l; i++) {
        this.api.column(this.columnsShownIndexes[i]).visible(!0)
    }
    for (var i = 0, l = this.columnsHiddenIndexes.length; i < l; i++) {
        this.api.column(this.columnsHiddenIndexes[i]).visible(!1)
    }
    var that = this;
    jQuery('tr.row-detail', this.tableElement).each(function() {
        ResponsiveDatatablesHelper.prototype.hideRowDetail(that, jQuery(this).prev())
    });
    if (this.tableElement.hasClass('has-columns-hidden')) {
        jQuery('tr.detail-show', this.tableElement).each(function(index, element) {
            ResponsiveDatatablesHelper.prototype.showRowDetail(that, jQuery(element))
        })
    }
};
ResponsiveDatatablesHelper.prototype.createExpandIcon = function(tr) {
    if (this.disabled) {
        return
    }
    var tds = jQuery('td', tr);
    for (var i = 0, l = tds.length; i < l; i++) {
        var td = tds[i];
        var tdIndex = this.api.cell(td).index().column;
        td = jQuery(td);
        if (tdIndex === this.expandColumn) {
            if (jQuery('span.responsiveExpander', td).length == 0) {
                td.prepend(this.expandIconTemplate);
                switch (this.options.clickOn) {
                    case 'cell':
                        td.on('click', {
                            responsiveDatatablesHelperInstance: this
                        }, this.showRowDetailEventHandler);
                        break;
                    case 'row':
                        jQuery(tr).on('click', {
                            responsiveDatatablesHelperInstance: this
                        }, this.showRowDetailEventHandler);
                        break;
                    default:
                        td.on('click', 'span.responsiveExpander', {
                            responsiveDatatablesHelperInstance: this
                        }, this.showRowDetailEventHandler);
                        break
                }
            }
            break
        }
    }
};
ResponsiveDatatablesHelper.prototype.showRowDetailEventHandler = function(event) {
    var responsiveDatatablesHelperInstance = event.data.responsiveDatatablesHelperInstance;
    if (responsiveDatatablesHelperInstance.disabled) {
        return
    }
    var td = jQuery(this);
    if (!td.closest('table').hasClass('has-columns-hidden')) {
        return
    }
    var tr = td.closest('tr');
    if (tr.hasClass('detail-show')) {
        ResponsiveDatatablesHelper.prototype.hideRowDetail(responsiveDatatablesHelperInstance, tr)
    } else {
        ResponsiveDatatablesHelper.prototype.showRowDetail(responsiveDatatablesHelperInstance, tr)
    }
    tr.toggleClass('detail-show');
    event.stopPropagation()
};
ResponsiveDatatablesHelper.prototype.showRowDetail = function(responsiveDatatablesHelperInstance, tr) {
    var api = responsiveDatatablesHelperInstance.api;
    var columns = api.columns().header();
    var newTr = jQuery(responsiveDatatablesHelperInstance.rowTemplate);
    var ul = jQuery('ul', newTr);
    for (var i = 0; i < responsiveDatatablesHelperInstance.columnsHiddenIndexes.length; i++) {
        var index = responsiveDatatablesHelperInstance.columnsHiddenIndexes[i];
        var rowIndex = api.row(tr).index();
        var td = api.cell(rowIndex, index).node();
        if (!responsiveDatatablesHelperInstance.options.hideEmptyColumnsInRowDetail || td.innerHTML.trim().length) {
            var li = jQuery(responsiveDatatablesHelperInstance.rowLiTemplate);
            var hiddenColumnName = jQuery(columns[index]).attr('data-name');
            jQuery('.columnTitle', li).html(hiddenColumnName !== undefined ? hiddenColumnName : columns[index].innerHTML);
            var contents = jQuery(td).contents();
            var clonedContents = contents.clone();
            for (var n = 0, m = contents.length; n < m; n++) {
                var node = contents[n];
                if (node.nodeType === Node.ELEMENT_NODE && node.tagName === 'SELECT') {
                    clonedContents[n].selectedIndex = node.selectedIndex
                }
            }
            jQuery('.columnValue', li).append(clonedContents).data('originalTdSource', td);
            li.attr('data-column', index);
            var tdClass = jQuery(td).attr('class');
            if (tdClass !== 'undefined' && tdClass !== !1 && tdClass !== '') {
                li.addClass(tdClass)
            }
            ul.append(li)
        }
    }
    var colspan = responsiveDatatablesHelperInstance.columnIndexes.length - responsiveDatatablesHelperInstance.columnsHiddenIndexes.length;
    newTr.find('> td').attr('colspan', colspan);
    tr.after(newTr);
    if (responsiveDatatablesHelperInstance.options.showDetail) {
        responsiveDatatablesHelperInstance.options.showDetail(newTr)
    }
};
ResponsiveDatatablesHelper.prototype.hideRowDetail = function(responsiveDatatablesHelperInstance, tr) {
    var rowDetail = tr.next('.row-detail');
    if (responsiveDatatablesHelperInstance.options.hideDetail) {
        responsiveDatatablesHelperInstance.options.hideDetail(rowDetail)
    }
    rowDetail.find('li').each(function() {
        var columnValueContainer = jQuery(this).find('span.columnValue');
        var tdContents = columnValueContainer.contents();
        var td = columnValueContainer.data('originalTdSource');
        jQuery(td).empty().append(tdContents)
    });
    rowDetail.remove()
};
ResponsiveDatatablesHelper.prototype.disable = function(disable) {
    this.disabled = (disable === undefined) || disable;
    if (this.disabled) {
        this.setWindowsResizeHandler(!1);
        jQuery('tbody tr.row-detail', this.tableElement).remove();
        jQuery('tbody tr', this.tableElement).removeClass('detail-show');
        jQuery('tbody tr span.responsiveExpander', this.tableElement).remove();
        this.columnsHiddenIndexes = [];
        this.columnsShownIndexes = this.columnIndexes;
        this.showHideColumns();
        this.tableElement.removeClass('has-columns-hidden');
        this.tableElement.off('click', 'span.responsiveExpander', this.showRowDetailEventHandler)
    } else {
        this.setWindowsResizeHandler()
    }
};
ResponsiveDatatablesHelper.prototype.getState = function() {
    if (typeof(Storage)) {
        var value = JSON.parse(localStorage.getItem(this.cookieName));
        if (value) {
            this.columnIndexes = value.columnIndexes;
            this.breakpoints = value.breakpoints;
            this.expandColumn = value.expandColumn;
            this.lastBreakpoint = value.lastBreakpoint;
            this.lastStateExists = !0
        }
    } else {}
};
ResponsiveDatatablesHelper.prototype.setState = function() {
    if (typeof(Storage)) {
        var d1 = this.difference(this.lastColumnsHiddenIndexes, this.columnsHiddenIndexes).length;
        var d2 = this.difference(this.columnsHiddenIndexes, this.lastColumnsHiddenIndexes).length;
        if (d1 + d2 > 0) {
            var value = {
                columnIndexes: this.columnIndexes,
                columnsHiddenIndexes: this.columnsHiddenIndexes,
                breakpoints: this.breakpoints,
                expandColumn: this.expandColumn,
                lastBreakpoint: this.lastBreakpoint
            };
            var isSafari = !!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/);
            if (!isSafari) {
                localStorage.setItem(this.cookieName, JSON.stringify(value))
            }
            this.lastColumnsHiddenIndexes = this.columnsHiddenIndexes.slice(0)
        }
    } else {}
};
ResponsiveDatatablesHelper.prototype.difference = function(a, b) {
    var arr = [],
        i, hash = {};
    for (i = b.length - 1; i >= 0; i--) {
        hash[b[i]] = !0
    }
    for (i = a.length - 1; i >= 0; i--) {
        if (hash[a[i]] !== !0) {
            arr.push(a[i])
        }
    }
    return arr
};
jQuery(document).ready(function($) {
    var wdtDateFormat = getMomentWdtDateFormat();
    var wdtTimeFormat = getMomentWdtTimeFormat();
    jQuery('.wdt-preload-layer').animateFadeOut();
    if (typeof wpdatatables_frontend_strings !== 'undefined') {
        $.fn.DataTable.defaults.oLanguage.sInfo = wpdatatables_frontend_strings.sInfo;
        $.fn.DataTable.defaults.oLanguage.sSearch = wpdatatables_frontend_strings.sSearch;
        $.fn.DataTable.defaults.oLanguage.lengthMenu = wpdatatables_frontend_strings.lengthMenu;
        $.fn.DataTable.defaults.oLanguage.sEmptyTable = wpdatatables_frontend_strings.sEmptyTable;
        $.fn.DataTable.defaults.oLanguage.sInfoEmpty = wpdatatables_frontend_strings.sInfoEmpty;
        $.fn.DataTable.defaults.oLanguage.sInfoFiltered = wpdatatables_frontend_strings.sInfoFiltered;
        $.fn.DataTable.defaults.oLanguage.sInfoPostFix = wpdatatables_frontend_strings.sInfoPostFix;
        $.fn.DataTable.defaults.oLanguage.sInfoThousands = wpdatatables_frontend_strings.sInfoThousands;
        $.fn.DataTable.defaults.oLanguage.sLengthMenu = wpdatatables_frontend_strings.sLengthMenu;
        $.fn.DataTable.defaults.oLanguage.sProcessing = wpdatatables_frontend_strings.sProcessing;
        $.fn.DataTable.defaults.oLanguage.sZeroRecords = wpdatatables_frontend_strings.sZeroRecords;
        $.fn.DataTable.defaults.oLanguage.oPaginate = wpdatatables_frontend_strings.oPaginate;
        $.fn.DataTable.defaults.oLanguage.oAria = wpdatatables_frontend_strings.oAria
    }
    if (typeof($.fn.dataTableExt) !== 'undefined') {
        $.fn.dataTableExt.oApi.fnFilterClear = function(oSettings) {
            oSettings.oPreviousSearch.sSearch = "";
            if (typeof oSettings.aanFeatures.f != 'undefined') {
                var n = oSettings.aanFeatures.f;
                for (var i = 0, iLen = n.length; i < iLen; i++) {
                    $('input', n[i]).val('')
                }
            }
            for (var i = 0, iLen = oSettings.aoPreSearchCols.length; i < iLen; i++) {
                oSettings.aoPreSearchCols[i].sSearch = ""
            }
            oSettings.oApi._fnReDraw(oSettings)
        };
        $.extend($.fn.dataTableExt.oSort, {
            "formatted-num-pre": function(a) {
                if ($(a).text() != '') {
                    a = $(a).text()
                }
                a = (a === "-" || a === "") ? 0 : a.replace(/[^\d\-\.]/g, "");
                if (a != -1 && a != "") {
                    while (a.indexOf('.') != -1) {
                        a = a.replace(".", "")
                    }
                    a = a.replace(',', '.')
                }
                return parseFloat(a)
            },
            "formatted-num-asc": function(a, b) {
                return a - b
            },
            "formatted-num-desc": function(a, b) {
                return b - a
            },
            "statuscol-pre": function(a) {
                a = $(a).find('div.percents').text();
                return parseFloat(a)
            },
            "statuscol-asc": function(a, b) {
                return a - b
            },
            "statuscol-desc": function(a, b) {
                return b - a
            },
            "date-custom-pre": function(date) {
                return wdtPrepareDate(date, wdtDateFormat, wdtTimeFormat)
            },
            "time-custom-pre": function(time) {
                return wdtPrepareTime(time, wdtTimeFormat)
            }
        });
        $.fn.dataTableExt.oApi.fnGetColumnIndex = function(oSettings, sCol) {
            var cols = oSettings.aoColumns;
            for (var x = 0, xLen = cols.length; x < xLen; x++) {
                if ((typeof(cols[x].sTitle) == 'string') && (cols[x].sTitle.toLowerCase() == sCol.toLowerCase())) {
                    return x
                }
            }
            return -1
        };
        $.fn.dataTableExt.aTypes.unshift(function(sData) {
            "use strict";
            if (/^([0-2]?\d|3[0-1])-(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)-\d{4}/i.test(sData)) {
                return 'date-dd-mmm-yyyy'
            }
            return null
        });
        $.fn.dataTableExt.oSort['date-dd-mmm-yyyy-asc'] = function(a, b) {
            "use strict";
            var ordA = wdtCustomDateDDMMMYYYYToOrd(a),
                ordB = wdtCustomDateDDMMMYYYYToOrd(b);
            return (ordA < ordB) ? -1 : ((ordA > ordB) ? 1 : 0)
        };
        $.fn.dataTableExt.oSort['date-dd-mmm-yyyy-desc'] = function(a, b) {
            "use strict";
            var ordA = wdtCustomDateDDMMMYYYYToOrd(a),
                ordB = wdtCustomDateDDMMMYYYYToOrd(b);
            return (ordA < ordB) ? 1 : ((ordA > ordB) ? -1 : 0)
        }
    }
    $('body').on('focus', '.wdt-datepicker', function() {
        $(this).datetimepicker({
            format: wdtDateFormat,
            showClear: !0,
            keepOpen: !0,
            useCurrent: !1
        }).off('dp.show').on('dp.show', function() {
            $(this).parent().find('div.bootstrap-datetimepicker-widget').addClass('wdt-datetimepicker-modal');
            wdtAddTodayPlaceholder($(this))
        })
    });
    $('body').on('focus', '.wdt-timepicker', function() {
        $(this).datetimepicker({
            format: wdtTimeFormat,
            showClear: !0,
            keepOpen: !0,
            useCurrent: !1
        }).off('dp.show').on('dp.show', function() {
            $(this).parent().find('div.bootstrap-datetimepicker-widget').addClass('wdt-datetimepicker-modal')
        })
    });
    $('body').on('focus', '.wdt-datetimepicker', function() {
        $(this).datetimepicker({
            format: wdtDateFormat + ' ' + wdtTimeFormat,
            showClear: !0,
            keepOpen: !0,
            useCurrent: !1
        }).off('dp.show').on('dp.show', function() {
            $(this).parent().find('div.bootstrap-datetimepicker-widget').addClass('wdt-datetimepicker-modal');
            wdtAddTodayPlaceholder($(this))
        })
    })
});
var wdtCustomDateDDMMMYYYYToOrd = function(date) {
    "use strict";
    var dateParts = date.split(/-/);
    return (dateParts[2] * 10000) + (jQuery.inArray(dateParts[1].toUpperCase(), ["JAN", "FEB", "MAR", "APR", "MAY", "JUN", "JUL", "AUG", "SEP", "OCT", "NOV", "DEC"]) * 100) + dateParts[0]
};

function wdtValidateURL(textval) {
    var regex = /^([a-z]([a-z]|\d|\+|-|\.)*):(\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?((\[(|(v[\da-f]{1,}\.(([a-z]|\d|-|\.|_|~)|[!\$&'\(\)\*\+,;=]|:)+))\])|((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=])*)(:\d*)?)(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*|(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)){0})(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?(||.*)?$/i;
    return regex.test(textval)
}

function wdtPrepareDate(date, wdtDateFormat, wdtTimeFormat) {
    var format = wdtDateFormat + ' ' + wdtTimeFormat;
    return moment(date, format).valueOf()
}

function wdtPrepareTime(time, wdtTimeFormat) {
    return moment(time, wdtTimeFormat).valueOf()
}

function wdtValidateEmail(email) {
    var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+(||.*)?$/;
    return regex.test(email)
}

function wdtRandString(n) {
    if (!n) {
        n = 5
    }
    var text = '';
    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
    for (var i = 0; i < n; i++) {
        text += possible.charAt(Math.floor(Math.random() * possible.length))
    }
    return text
}

function wdtFormatNumber(n, c, d, t) {
    c = isNaN(c = Math.abs(c)) ? 2 : c, d = d == undefined ? "." : d, t = t == undefined ? "," : t, s = n < 0 ? "-" : "", i = parseInt(n = Math.abs(+n || 0).toFixed(c)) + "", j = (j = i.length) > 3 ? j % 3 : 0;
    return s + (j ? i.substr(0, j) + t : "") + i.substr(j).replace(/(\d{3})(?=\d)/g, "$1" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : "")
}

function wdtUnformatNumber(number, thousandsSeparator, decimalsSeparator, isFloat) {
    if (typeof isFloat == 'undefined') {
        isFloat = !1
    }
    var return_string = String(number).replace(new RegExp('\\' + thousandsSeparator, 'g'), '');
    if (isFloat && decimalsSeparator == ',') {
        return_string = return_string.replace(new RegExp('\\' + decimalsSeparator), '.')
    }
    return return_string
}

function wdtCalculateColumnSum(columnData, thousandsSeparator) {
    if (columnData.length > 0) {
        if (thousandsSeparator == '.') {
            var sum = columnData.reduce(function(a, b) {
                return parseFloat(a) + parseFloat(b.replace(/\./g, ''))
            }, 0)
        } else {
            sum = columnData.reduce(function(a, b) {
                return parseFloat(a) + parseFloat(b.replace(/\,/g, ''))
            }, 0)
        }
    } else {
        sum = 0
    }
    return parseFloat(sum)
}

function wdtCalculateColumnMin(columnData, thousandsSeparator) {
    if (columnData.length > 0) {
        if (thousandsSeparator == '.') {
            var min = columnData.reduce(function(a, b) {
                return parseInt(typeof(a) == 'number' ? a : a.replace(/\./g, '')) <= parseInt(b.replace(/\./g, '')) ? parseFloat(typeof(a) == 'number' ? a : a.replace(/\./g, '')) : parseFloat(b.replace(/\./g, ''))
            })
        } else {
            min = columnData.reduce(function(a, b) {
                return parseInt(typeof(a) == 'number' ? a : a.replace(/\,/g, '')) <= parseInt(b.replace(/\,/g, '')) ? parseFloat(typeof(a) == 'number' ? a : a.replace(/\,/g, '')) : parseFloat(b.replace(/\,/g, ''))
            })
        }
    } else {
        min = 0
    }
    return min
}

function wdtCalculateColumnMax(columnData, thousandsSeparator) {
    if (columnData.length > 0) {
        if (thousandsSeparator == '.') {
            var max = columnData.reduce(function(a, b) {
                return parseInt(typeof(a) == 'number' ? a : a.replace(/\./g, '')) >= parseInt(b.replace(/\./g, '')) ? parseFloat(typeof(a) == 'number' ? a : a.replace(/\./g, '')) : parseFloat(b.replace(/\./g, ''))
            })
        } else {
            max = columnData.reduce(function(a, b) {
                return parseInt(typeof(a) == 'number' ? a : a.replace(/\,/g, '')) >= parseInt(b.replace(/\,/g, '')) ? parseFloat(typeof(a) == 'number' ? a : a.replace(/\,/g, '')) : parseFloat(b.replace(/\,/g, ''))
            })
        }
    } else {
        max = 0
    }
    return max
}

function wdtFormatNumberByColumnType(number, columnType, columnDecimalPlaces, generalDecimalPlaces, decimalSeparator, thousandsSeparator) {
    var numStr = '';
    if (columnType == 'int') {
        numStr = wdtFormatNumber(number, 0, decimalSeparator, thousandsSeparator)
    } else {
        if (columnDecimalPlaces != -1) {
            numStr = wdtFormatNumber(number, columnDecimalPlaces, decimalSeparator, thousandsSeparator)
        } else {
            numStr = wdtFormatNumber(number, generalDecimalPlaces, decimalSeparator, thousandsSeparator)
        }
    }
    return numStr
}

function wdtFillPossibleValuesList(distValues) {
    if (jQuery('#wdt-column-values-list').tagsinput('items').length > 0) {
        jQuery('#wdt-possible-values-merge-list-modal').modal('show');
        jQuery('.wdt-merge-possible-values').click(function(e) {
            e.preventDefault();
            e.stopImmediatePropagation();
            var oldListValues = jQuery.extend([], jQuery('#wdt-column-values-list').tagsinput('items'));
            var mergedValues = jQuery.merge(oldListValues, distValues);
            jQuery('#wdt-column-values-list').tagsinput('removeAll');
            mergedValues.sort();
            mergedValues = jQuery.unique(mergedValues);
            jQuery('#wdt-column-values-list').tagsinput('add', mergedValues.join('|'));
            jQuery('#wdt-possible-values-merge-list-modal').modal('hide')
        });
        jQuery('.wdt-replace-possible-values').click(function(e) {
            e.preventDefault();
            e.stopImmediatePropagation();
            jQuery('#wdt-column-values-list').tagsinput('removeAll');
            distValues.sort();
            jQuery('#wdt-column-values-list').tagsinput('add', distValues.join('|'));
            jQuery('#wdt-possible-values-merge-list-modal').modal('hide')
        })
    } else {
        distValues.sort();
        jQuery('#wdt-column-values-list').tagsinput('add', distValues.join('|'))
    }
}

function wdtAddTodayPlaceholder(input) {
    if (input.hasClass("formatting-rule-cell-value")) {
        var todayPlaceholder = '<div class="col-sm-12 text-center p-b-15">' + '<button class="btn btn-primary p-5 btn-xs today-placeholder" data-toggle="tooltip" data-placement="top" title="By settings %TODAY% placeholder, cell value will be compared with today\'s date.">%TODAY%</button>' + '</div>';
        jQuery('.datepicker').closest("ul.list-unstyled").append(todayPlaceholder);
        jQuery('.today-placeholder').tooltip();
        jQuery('.today-placeholder').click(function() {
            jQuery('.formatting-rule-cell-value').val('%TODAY%');
            jQuery(this).closest('.form-group').find('.formatting-rule-cell-value').data("DateTimePicker").hide()
        })
    }
}

function getMomentWdtDateFormat() {
    return wpdatatables_settings.wdtDateFormat.replace('d', 'DD').replace('M', 'MMM').replace('m', 'MM').replace('y', 'YY')
}

function getMomentWdtTimeFormat() {
    return wpdatatables_settings.wdtTimeFormat.replace('H', 'HH').replace('i', 'mm')
};
var wpDataTables = {};
var wpDataTablesSelRows = {};
var wpDataTablesFunctions = {};
var wpDataTablesUpdatingFlags = {};
var wpDataTablesResponsiveHelpers = {};
var wpDataTablesHooks = wpDataTablesHooks || {
    onRenderFilter: []
};
var wdtBreakpointDefinition = {
    tablet: 1024,
    phone: 480
};
var wdtCustomUploader = null;
var wdtRenderDataTable = null;
(function($) {
    $(function() {
        wdtRenderDataTable = function($table, tableDescription) {
            var dataTableOptions = tableDescription.dataTableParams;
            if (tableDescription.responsive) {
                wpDataTablesResponsiveHelpers[tableDescription.tableId] = !1;
                dataTableOptions.preDrawCallback = function() {
                    if (!wpDataTablesResponsiveHelpers[tableDescription.tableId]) {
                        if (typeof tableDescription.mobileWidth !== 'undefined') {
                            wdtBreakpointDefinition.phone = parseInt(tableDescription.mobileWidth)
                        }
                        if (typeof tableDescription.tabletWidth !== 'undefined') {
                            wdtBreakpointDefinition.tablet = parseInt(tableDescription.tabletWidth)
                        }
                        wpDataTablesResponsiveHelpers[tableDescription.tableId] = new ResponsiveDatatablesHelper($(tableDescription.selector).dataTable(), wdtBreakpointDefinition, {
                            showDetail: function(detailsRow) {
                                if (tableDescription.conditional_formatting_columns) {
                                    var responsive_rows = detailsRow.find('li');
                                    var oSettings = wpDataTables[tableDescription.tableId].fnSettings();
                                    var params = {};
                                    params.thousandsSeparator = tableDescription.number_format == 1 ? '.' : ',';
                                    params.decimalSeparator = tableDescription.number_format == 1 ? ',' : '.';
                                    params.dateFormat = tableDescription.datepickFormat;
                                    params.momentDateFormat = params.dateFormat.replace('dd', 'DD').replace('M', 'MMM').replace('mm', 'MM');
                                    params.momentTimeFormat = tableDescription.timeFormat.replace('H', 'H').replace('i', 'mm');
                                    for (var i = 0; i < tableDescription.conditional_formatting_columns.length; i++) {
                                        var column = oSettings.oInstance.api().column(tableDescription.conditional_formatting_columns[i] + ':name', {
                                            search: 'applied'
                                        });
                                        var conditionalFormattingRules = oSettings.aoColumns[column.index()].conditionalFormattingRules;
                                        params.columnType = oSettings.aoColumns[column.index()].wdtType;
                                        for (var j in conditionalFormattingRules) {
                                            responsive_rows.each(function() {
                                                $(this).find('.columnValue').contents().filter(function() {
                                                    if (this.nodeType === 8) {
                                                        $(this).remove()
                                                    }
                                                });
                                                var value_cell = $(this).find('.columnValue').html();
                                                var column_index = $(this).data('column');
                                                if (column_index == column.index()) {
                                                    wdtCheckConditionalFormatting(conditionalFormattingRules[j], params, $(this), !0)
                                                }
                                            })
                                        }
                                    }
                                }
                            }
                        })
                    }
                    wdtAddOverlay('#' + tableDescription.tableId)
                }
                dataTableOptions.fnRowCallback = function(nRow, aData, iDisplayIndex, iDisplayIndexFull) {
                    wpDataTablesResponsiveHelpers[tableDescription.tableId].createExpandIcon(nRow)
                }
                if (!tableDescription.editable) {
                    dataTableOptions.fnDrawCallback = function() {
                        wpDataTablesResponsiveHelpers[tableDescription.tableId].respond();
                        wdtRemoveOverlay('#' + tableDescription.tableId)
                    }
                }
            } else {
                dataTableOptions.fnPreDrawCallback = function() {
                    wdtAddOverlay('#' + tableDescription.tableId)
                }
            }
            if (tableDescription.editable) {
                if (typeof wpDataTablesFunctions[tableDescription.tableId] === 'undefined') {
                    wpDataTablesFunctions[tableDescription.tableId] = {}
                }
                wpDataTablesSelRows[tableDescription.tableId] = -1;
                dataTableOptions.fnDrawCallback = function() {
                    wdtRemoveOverlay('#' + tableDescription.tableId);
                    if (tableDescription.responsive) {
                        wpDataTablesResponsiveHelpers[tableDescription.tableId].respond()
                    }
                    $('.edit_table[aria-controls="' + tableDescription.tableId + '"]').addClass('disabled');
                    $('.delete_table_entry[aria-controls="' + tableDescription.tableId + '"]').addClass('disabled');
                    if (wpDataTablesSelRows[tableDescription.tableId] == -2) {
                        var sel_row_index = wpDataTables[tableDescription.tableId].fnSettings()._iDisplayLength - 1;
                        $(tableDescription.selector + ' > tbody > tr').removeClass('selected');
                        wpDataTablesSelRows[tableDescription.tableId] = wpDataTables[tableDescription.tableId].fnGetPosition($(tableDescription.selector + ' > tbody > tr:eq(' + sel_row_index + ')').get(0));
                        $(tableDescription.selector + ' > tbody > tr:eq(' + sel_row_index + ')').addClass('selected')
                    } else if (wpDataTablesSelRows[tableDescription.tableId] == -3) {
                        var sel_row_index = 0;
                        $(tableDescription.selector + ' > tbody > tr').removeClass('selected');
                        wpDataTablesSelRows[tableDescription.tableId] = wpDataTables[tableDescription.tableId].fnGetPosition($(tableDescription.selector + ' > tbody > tr:eq(' + sel_row_index + ')').get(0));
                        $(tableDescription.selector + ' > tbody > tr:eq(' + sel_row_index + ')').addClass('selected')
                    }
                    if ($(tableDescription.selector + '_edit_dialog').is(':visible')) {
                        var data = wpDataTables[tableDescription.tableId].fnGetData(wpDataTablesSelRows[tableDescription.tableId]);
                        wpDataTablesFunctions[tableDescription.tableId].applyData(data)
                    }
                    $(tableDescription.selector + '_edit_dialog').parent().removeClass('overlayed');
                    
                    wpDataTablesUpdatingFlags[tableDescription.tableId] = !1
                };
                wpDataTablesFunctions[tableDescription.tableId].applyData = function(data) {
                    $(data).each(function(index, el) {
                        if (el) {
                            var val = el.toString()
                        } else {
                            var val = ''
                        }
                        if (val.indexOf('span') != -1) {
                            val = val.replace(/<span>/g, '').replace(/<\/span>/g, '')
                        }
                        if (val.indexOf('<br/>') != -1 || val.indexOf('<br>') != -1) {
                            val = val.replace(/<br\s*[\/]?>/g, "\n")
                        }
                        var $inputElement = $('#' + tableDescription.tableId + '_edit_dialog .editDialogInput:not(.bootstrap-select):eq(' + index + ')');
                        var inputElementType = $inputElement.data('input_type');
                        var columnType = $inputElement.data('column_type');
                        if (inputElementType == 'multi-selectbox') {
                            var values = val.split(', ');
                            $inputElement.selectpicker();
                            $inputElement.selectpicker('val', values);
                            $inputElement.selectpicker('refresh')
                        } else if (inputElementType == 'selectbox') {
                            $inputElement.selectpicker();
                            if ($inputElement.hasClass('wdt-foreign-key-select') && val != '') {
                                val = typeof $inputElement.find('option[data-label="' + val + '"]').val() !== 'undefined' ? $inputElement.find('option[data-label="' + val + '"]').val() : val
                            }
                            if (val == '') {
                                val = 'possibleValuesAddEmpty'
                            }
                            $inputElement.selectpicker('val', val);
                            $inputElement.selectpicker('refresh')
                        } else {
                            if (inputElementType == 'attachment' || $.inArray(columnType, ['icon']) !== -1) {
                                columnType = $inputElement.parent().data('column_type');
                                if (val != '') {
                                    if ($(val).children('img').first().attr('src') != undefined) {
                                        val = $(val).children('img').first().attr('src') + '||' + $(val).attr('href')
                                    } else if ($(val).attr('href') != undefined) {
                                        val = $(val).attr('href')
                                    } else if ($(val).attr('src') != undefined) {
                                        val = $(val).attr('src')
                                    }
                                    $inputElement.parent().parent().removeClass('fileinput-new').addClass('fileinput-exists');
                                    if (columnType == 'icon') {
                                        $inputElement.parent().parent().parent().removeClass('fileinput-new').addClass('fileinput-exists');
                                        if (val.indexOf('||') != -1) {
                                            $inputElement.parent().parent().parent().find('.fileinput-preview').html('<img src=' + val.substring(val.indexOf('||') + 2, val.length) + '>')
                                        } else {
                                            $inputElement.parent().parent().parent().find('.fileinput-preview').html('<img src=' + val + '>')
                                        }
                                    } else {
                                        $inputElement.parent().parent().find('.fileinput-filename').text(val.split('/').pop())
                                    }
                                } else {
                                    $inputElement.closest('.fileinput').removeClass('fileinput-exists').addClass('fileinput-new');
                                    $inputElement.closest('.fileinput').find('div.fileinput-exists').removeClass('fileinput-exists').addClass('fileinput-new');
                                    $inputElement.closest('.fileinput').find('.fileinput-filename').text('');
                                    $inputElement.closest('.fileinput').find('.fileinput-preview').html('')
                                }
                            } else {
                                if (val.indexOf('<a ') != -1) {
                                    if ($.inArray(columnType, ['link', 'email', 'icon']) !== -1) {
                                        $link = $(val);
                                        if ($link.attr('href').indexOf($link.html()) === -1) {
                                            val = $link.attr('href').replace('mailto:', '') + '||' + $link.html()
                                        } else {
                                            val = $link.html()
                                        }
                                    }
                                }
                                if (inputElementType == 'mce-editor') {
                                    tinymce.execCommand('mceRemoveEditor', !0, $inputElement.attr('id'));
                                    tinymce.init({
                                        selector: '#' + $inputElement.attr('id'),
                                        init_instance_callback: function(editor) {
                                            editor.setContent(val)
                                        },
                                        menubar: !1
                                    })
                                }
                            }
                            $inputElement.val(val).css('border', '')
                        }
                    })
                };
                wpDataTablesFunctions[tableDescription.tableId].saveTableData = function(forceRedraw, closeDialog) {
                    $(tableDescription.selector + '_edit_dialog').closest('.modal-dialog').find('.wdt-preload-layer').animateFadeIn();
                    wpDataTablesUpdatingFlags[tableDescription.tableId] = !0;
                    var formdata = {
                        table_id: tableDescription.tableWpId
                    };
                    var aoData = [];
                    var valid = !0;
                    var validation_message = '';
                    var no_empty_msg = 'Please insert no empty value!';
                    var table_column_no = 0;
                    if (tableDescription.popoverTools) {
                        $('.wpDataTablesPopover.editTools').hide()
                    }
                    if (typeof tinymce != 'undefined') {
                        tinymce.triggerSave()
                    }
                    $(tableDescription.selector + '_edit_dialog .editDialogInput').not('.bootstrap-select').each(function() {
                        if (table_column_no == 1 || table_column_no == 5) {
                            if ($(this).val() == '') {
                                wdtNotify(wpdatatables_edit_strings.error, no_empty_msg + '(' + $(this).data('column_header') + ')', 'danger');
                                $(this).addClass('error');
                                return !1
                            }
                        }
                        if ($(this).data('input_type') == 'email') {
                            if ($(this).val() != '') {
                                var field_valid = wdtValidateEmail($(this).val());
                                if (!field_valid) {
                                    valid = !1;
                                    $(this).addClass('error');
                                    validation_message += wpdatatables_frontend_strings.invalid_email + ' <b>' + $(this).data('column_header') + '</b><br>'
                                } else {
                                    $(this).removeClass('error')
                                }
                            }
                        } else if ($(this).data('input_type') == 'link') {
                            if ($(this).val() != '') {
                                field_valid = wdtValidateURL($(this).val());
                                if (!field_valid) {
                                    valid = !1;
                                    $(this).addClass('error');
                                    validation_message += wpdatatables_frontend_strings.invalid_link + ' <b>' + $(this).data('column_header') + '</b><br>'
                                } else {
                                    $(this).removeClass('error')
                                }
                            }
                        }
                        if ($(this).hasClass('mandatory')) {
                            if ($(this).val() == '' || $(this).val() == null) {
                                $(this).addClass('error');
                                valid = !1;
                                validation_message += '<b>' + $(this).data('column_header') + '</b> ' + wpdatatables_frontend_strings.cannot_be_empty + '<br>'
                            } else {
                                if (valid) {
                                    $(this).removeClass('error')
                                }
                            }
                        }
                        if ($(this).hasClass('datepicker')) {
                            formdata[$(this).data('key')] = $.datepicker.formatDate(tableDescription.datepickFormat, $.datepicker.parseDate(tableDescription.datepickFormat, $(this).val()))
                        } else if ($(this).data('input_type') == 'multi-selectbox') {
                            if ($(this).val()) {
                                formdata[$(this).data('key')] = $(this).val().join(', ')
                            } else {
                                formdata[$(this).data('key')] = ''
                            }
                        } else if ($(this).data('column_type') == 'int') {
                            formdata[$(this).data('key')] = $(this).val().replace(/,/g, '').replace(/\./g, '')
                        } else {
                            formdata[$(this).data('key')] = $(this).val()
                        }
                        table_column_no = table_column_no + 1;
                        aoData.push(formdata[$(this).data('key')])
                    });
                    if (!valid) {
                        $(tableDescription.selector + '_edit_dialog').closest('.modal-dialog').find('.wdt-preload-layer').animateFadeOut();
                        wdtNotify(wpdatatables_edit_strings.error, validation_message, 'danger');
                        return !1
                    }
                    wpDataTablesUpdatingFlags[tableDescription.tableId] = !0;
                    $.ajax({
                        url: tableDescription.adminAjaxBaseUrl,
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            action: 'wdt_save_table_frontend',
                            wdtNonce: $('#wdtNonceFrontendEdit').val(),
                            formdata: formdata
                        },
                        success: function(returnData) {
                            $(tableDescription.selector + '_edit_dialog').closest('.modal-dialog').find('.wdt-preload-layer').animateFadeOut();
                            if (returnData.error == '') {
                                var insert_id = returnData.success;
                                if (returnData.is_new) {
                                    forceRedraw = !0
                                }
                                if (insert_id) {
                                    $(tableDescription.selector + '_edit_dialog tr.idRow .editDialogInput').val(insert_id);
                                    if (forceRedraw) {
                                        wpDataTables[tableDescription.tableId].fnDraw(!1);
                                        $('.edit_table[aria-controls="' + tableDescription.tableId + '"]').addClass('disabled')
                                    }
                                } else {
                                    wpDataTables[tableDescription.tableId].fnDraw(!1);
                                    $('.edit_table[aria-controls="' + tableDescription.tableId + '"]').addClass('disabled')
                                }
                                wdtNotify(wpdatatables_edit_strings.success, wpdatatables_edit_strings.dataSaved, 'success');
                                setTimeout(function() {
                                    if (closeDialog) {
                                        $('#wdt-frontend-modal').modal('hide')
                                    } else {
                                        $(tableDescription.selector + '_edit_dialog .editDialogInput').val('');
                                        $(tableDescription.selector + '_edit_dialog .editDialogInput').selectpicker('val', '');
                                        $('.fileinput').removeClass('fileinput-exists').addClass('fileinput-new');
                                        $('.fileinput').find('div.fileinput-exists').removeClass('fileinput-exists').addClass('fileinput-new');
                                        $('.fileinput').find('.fileinput-filename').text('');
                                        $('.fileinput').find('.fileinput-preview').html('');
                                        if (tinymce.activeEditor)
                                            tinymce.activeEditor.setContent('')
                                    }
                                }, 1000);
                                if (!returnData.is_new && $(tableDescription.selector + ' > tbody > tr.selected').length) {
                                    var cursor = wpDataTables[tableDescription.tableId].fnGetPosition($(tableDescription.selector + ' > tbody > tr.selected').get(0));
                                    wpDataTables[tableDescription.tableId].fnSettings().aoData[cursor]._aData = aoData
                                }
                            } else {
                                wdtNotify(wpdatatables_edit_strings.error, returnData.error, 'danger')
                            }
                        },
                        error: function() {
                            $(tableDescription.selector + '_edit_dialog').closest('.modal-dialog').find('.wdt-preload-layer').animateFadeOut();
                            wdtNotify(wpdatatables_edit_strings.error, wpdatatables_frontend_strings.databaseInsertError, 'danger')
                        }
                    });
                    return !0
                }
            }
            if (!tableDescription.responsive && !tableDescription.editable) {
                dataTableOptions.fnDrawCallback = function() {
                    wdtRemoveOverlay('#' + tableDescription.tableId)
                }
            }
            if ($('.wdt-column-sum[data-table-id="' + tableDescription.tableWpId + '"]').length) {
                var sumColumns = [];
                $('.wdt-column-sum[data-table-id="' + tableDescription.tableWpId + '"]').each(function() {
                    sumColumns.push($(this).data('column-orig-header'))
                })
            }
            if ($('.wdt-column-avg[data-table-id="' + tableDescription.tableWpId + '"]').length) {
                var avgColumns = [];
                $('.wdt-column-avg[data-table-id="' + tableDescription.tableWpId + '"]').each(function() {
                    avgColumns.push($(this).data('column-orig-header'))
                })
            }
            if ($('.wdt-column-min[data-table-id="' + tableDescription.tableWpId + '"]').length) {
                var minColumns = [];
                $('.wdt-column-min[data-table-id="' + tableDescription.tableWpId + '"]').each(function() {
                    minColumns.push($(this).data('column-orig-header'))
                })
            }
            if ($('.wdt-column-max[data-table-id="' + tableDescription.tableWpId + '"]').length) {
                var maxColumns = [];
                $('.wdt-column-max[data-table-id="' + tableDescription.tableWpId + '"]').each(function() {
                    maxColumns.push($(this).data('column-orig-header'))
                })
            }
            if (tableDescription.serverSide) {
                dataTableOptions.ajax.data = function(data) {
                    data.sumColumns = sumColumns;
                    data.avgColumns = avgColumns;
                    data.minColumns = minColumns;
                    data.maxColumns = maxColumns;
                    data.currentUserId = $('#wdt-user-id-placeholder').val();
                    data.currentUserLogin = $('#wdt-user-login-placeholder').val();
                    data.currentPostIdPlaceholder = $('#wdt-post-id-placeholder').val();
                    data.wpdbPlaceholder = $('#wdt-wpdb-placeholder').val()
                }
            }
            if (tableDescription.hideBeforeLoad) {
                dataTableOptions.fnInitComplete = function() {
                    $(tableDescription.selector).animateFadeIn()
                }
            }
            wpDataTables[tableDescription.tableId] = $(tableDescription.selector).dataTable(dataTableOptions);
            if (wpDataTables[tableDescription.tableId].fnSettings()._iDisplayLength >= wpDataTables[tableDescription.tableId].fnSettings().fnRecordsTotal() || dataTableOptions.iDisplayLength === -1) {
                $('.dataTables_paginate').hide()
            }
            wpDataTables[tableDescription.tableId].fnSettings().aoDrawCallback.push({
                sName: 'removePaginate',
                fn: function(oSettings) {
                    var api = oSettings.oInstance.api();
                    if (api.page.len() >= api.page.info().recordsDisplay || api.data().page.len() == -1) {
                        $('.dataTables_paginate').hide()
                    } else {
                        $('.dataTables_paginate').show()
                    }
                }
            });
            if (tableDescription.serverSide) {
                if (parseInt(tableDescription.autoRefreshInterval) > 0) {
                    setInterval(function() {
                        wpDataTables[tableDescription.tableId].fnDraw(!1)
                    }, parseInt(tableDescription.autoRefreshInterval) * 1000)
                }
            }
            wpDataTables[tableDescription.tableId].addOnDrawCallback = function(callback) {
                if (typeof callback !== 'function') {
                    return
                }
                var index = wpDataTables[tableDescription.tableId].fnSettings().aoDrawCallback.length + 1;
                wpDataTables[tableDescription.tableId].fnSettings().aoDrawCallback.push({
                    sName: 'user_callback_' + index,
                    fn: callback
                })
            };
            if (tableDescription.hasSumColumns || tableDescription.hasAvgColumns || tableDescription.hasMinColumns || tableDescription.hasMaxColumns || $('.wdt-column-sum').length || $('.wdt-column-avg').length || $('.wdt-column-min').length || $('.wdt-column-max').length) {
                var sumLabel = tableDescription.sumFunctionsLabel ? tableDescription.sumFunctionsLabel : '&#8721; = ';
                var avgLabel = tableDescription.avgFunctionsLabel ? tableDescription.avgFunctionsLabel : 'Avg = ';
                var minLabel = tableDescription.minFunctionsLabel ? tableDescription.minFunctionsLabel : 'Min = ';
                var maxLabel = tableDescription.maxFunctionsLabel ? tableDescription.maxFunctionsLabel : 'Max = ';
                if (tableDescription.serverSide) {
                    wpDataTables[tableDescription.tableId].fnSettings().aoDrawCallback.push({
                        sName: 'updateFooterFunctions',
                        fn: function(oSettings) {
                            var api = oSettings.oInstance.api();
                            for (var columnName in api.ajax.json().sumFooterColumns) {
                                if (tableDescription.hasSumColumns) {
                                    $('#' + tableDescription.tableId + ' tfoot tr.wdt-sum-row td.wdt-sum-cell[data-column_header="' + columnName + '"]').html(sumLabel + ' ' + api.ajax.json().sumColumnsValues[columnName])
                                }
                            }
                            for (columnName in api.ajax.json().avgFooterColumns) {
                                if (tableDescription.hasAvgColumns) {
                                    $('#' + tableDescription.tableId + ' tfoot tr.wdt-avg-row td.wdt-avg-cell[data-column_header="' + columnName + '"]').html(avgLabel + ' ' + api.ajax.json().avgColumnsValues[columnName])
                                }
                            }
                            for (columnName in api.ajax.json().minFooterColumns) {
                                if (tableDescription.hasMinColumns) {
                                    $('#' + tableDescription.tableId + ' tfoot tr.wdt-min-row td.wdt-min-cell[data-column_header="' + columnName + '"]').html(minLabel + ' ' + api.ajax.json().minColumnsValues[columnName])
                                }
                            }
                            for (columnName in api.ajax.json().maxFooterColumns) {
                                if (tableDescription.hasMaxColumns) {
                                    $('#' + tableDescription.tableId + ' tfoot tr.wdt-max-row td.wdt-max-cell[data-column_header="' + columnName + '"]').html(maxLabel + ' ' + api.ajax.json().maxColumnsValues[columnName])
                                }
                            }
                            if ($('.wdt-column-sum').length) {
                                $('.wdt-column-sum[data-table-id="' + tableDescription.tableWpId + '"]').each(function() {
                                    $(this).find('.wdt-column-sum-value').text(api.ajax.json().sumColumnsValues[$(this).data('column-orig-header')])
                                })
                            }
                            if ($('.wdt-column-avg').length) {
                                $('.wdt-column-avg[data-table-id="' + tableDescription.tableWpId + '"]').each(function() {
                                    $(this).find('.wdt-column-avg-value').text(api.ajax.json().avgColumnsValues[$(this).data('column-orig-header')])
                                })
                            }
                            if ($('.wdt-column-min').length) {
                                $('.wdt-column-min[data-table-id="' + tableDescription.tableWpId + '"]').each(function() {
                                    $(this).find('.wdt-column-min-value').text(api.ajax.json().minColumnsValues[$(this).data('column-orig-header')])
                                })
                            }
                            if ($('.wdt-column-max').length) {
                                $('.wdt-column-max[data-table-id="' + tableDescription.tableWpId + '"]').each(function() {
                                    $(this).find('.wdt-column-max-value').text(api.ajax.json().maxColumnsValues[$(this).data('column-orig-header')])
                                })
                            }
                        }
                    })
                } else {
                    wpDataTables[tableDescription.tableId].fnSettings().aoDrawCallback.push({
                        sName: 'updateFooterFunctions',
                        fn: function(oSettings) {
                            var api = oSettings.oInstance.api();
                            var thousandsSeparator = tableDescription.number_format == 1 ? '.' : ',';
                            var decimalSeparator = tableDescription.number_format == 1 ? ',' : '.';
                            for (var i in tableDescription.sumAvgColumns) {
                                var columnData = api.column(tableDescription.sumAvgColumns[i] + ':name', {
                                    search: 'applied'
                                }).data();
                                var columnType = oSettings.aoColumns[api.column(tableDescription.sumAvgColumns[i] + ':name').index()].wdtType;
                                var sum = wdtCalculateColumnSum(columnData, thousandsSeparator);
                                var sumStr = wdtFormatNumberByColumnType(parseFloat(sum), columnType, tableDescription.columnsDecimalPlaces[tableDescription.sumAvgColumns[i]], tableDescription.decimalPlaces, decimalSeparator, thousandsSeparator);
                                if (_.contains(tableDescription.sumColumns, tableDescription.sumAvgColumns[i])) {
                                    $('#' + tableDescription.tableId + ' tfoot tr.wdt-sum-row td.wdt-sum-cell[data-column_header="' + tableDescription.sumAvgColumns[i] + '"]').html(sumLabel + ' ' + sumStr)
                                }
                                if (_.contains(tableDescription.avgColumns, tableDescription.sumAvgColumns[i])) {
                                    var avg = sum / api.page.info().recordsDisplay;
                                    var avgStr = wdtFormatNumberByColumnType(avg, 'float', tableDescription.columnsDecimalPlaces[tableDescription.sumAvgColumns[i]], tableDescription.decimalPlaces, decimalSeparator, thousandsSeparator);
                                    $('#' + tableDescription.tableId + ' tfoot tr.wdt-avg-row td.wdt-avg-cell[data-column_header="' + tableDescription.sumAvgColumns[i] + '"]').html(avgLabel + ' ' + avgStr)
                                }
                            }
                            for (i in tableDescription.minColumns) {
                                columnData = api.column(tableDescription.minColumns[i] + ':name', {
                                    search: 'applied'
                                }).data();
                                columnType = oSettings.aoColumns[api.column(tableDescription.minColumns[i] + ':name').index()].wdtType;
                                var min = wdtCalculateColumnMin(columnData, thousandsSeparator);
                                var minStr = wdtFormatNumberByColumnType(parseFloat(min), columnType, tableDescription.columnsDecimalPlaces[tableDescription.minColumns[i]], tableDescription.decimalPlaces, decimalSeparator, thousandsSeparator);
                                $('#' + tableDescription.tableId + ' tfoot tr.wdt-min-row td.wdt-min-cell[data-column_header="' + tableDescription.minColumns[i] + '"]').html(minLabel + ' ' + minStr)
                            }
                            for (i in tableDescription.maxColumns) {
                                columnData = api.column(tableDescription.maxColumns[i] + ':name', {
                                    search: 'applied'
                                }).data();
                                columnType = oSettings.aoColumns[api.column(tableDescription.maxColumns[i] + ':name').index()].wdtType;
                                var max = wdtCalculateColumnMax(columnData, thousandsSeparator);
                                var maxStr = wdtFormatNumberByColumnType(parseFloat(max), columnType, tableDescription.columnsDecimalPlaces[tableDescription.maxColumns[i]], tableDescription.decimalPlaces, decimalSeparator, thousandsSeparator);
                                $('#' + tableDescription.tableId + ' tfoot tr.wdt-max-row td.wdt-max-cell[data-column_header="' + tableDescription.maxColumns[i] + '"]').html(maxLabel + ' ' + maxStr)
                            }
                            if ($('.wdt-column-sum').length) {
                                $('.wdt-column-sum[data-table-id="' + tableDescription.tableWpId + '"]').each(function() {
                                    var columnData = api.column($(this).data('column-orig-header') + ':name', {
                                        search: 'applied'
                                    }).data();
                                    var columnType = oSettings.aoColumns[api.column($(this).data('column-orig-header') + ':name').index()].wdtType;
                                    var sum = wdtCalculateColumnSum(columnData, thousandsSeparator);
                                    var sumStr = wdtFormatNumberByColumnType(parseFloat(sum), columnType, tableDescription.columnsDecimalPlaces[$(this).data('column-orig-header')], tableDescription.decimalPlaces, decimalSeparator, thousandsSeparator);
                                    $(this).find('.wdt-column-sum-value').text(sumStr)
                                })
                            }
                            if ($('.wdt-column-avg').length) {
                                $('.wdt-column-avg[data-table-id="' + tableDescription.tableWpId + '"]').each(function() {
                                    var columnData = api.column($(this).data('column-orig-header') + ':name', {
                                        search: 'applied'
                                    }).data();
                                    var avg = wdtCalculateColumnSum(columnData, thousandsSeparator) / api.page.info().recordsDisplay;
                                    var avgStr = wdtFormatNumberByColumnType(parseFloat(avg), 'float', tableDescription.columnsDecimalPlaces[$(this).data('column-orig-header')], tableDescription.decimalPlaces, decimalSeparator, thousandsSeparator);
                                    $(this).find('.wdt-column-avg-value').text(avgStr)
                                })
                            }
                            if ($('.wdt-column-min').length) {
                                $('.wdt-column-min[data-table-id="' + tableDescription.tableWpId + '"]').each(function() {
                                    var columnData = api.column($(this).data('column-orig-header') + ':name', {
                                        search: 'applied'
                                    }).data();
                                    var columnType = oSettings.aoColumns[api.column($(this).data('column-orig-header') + ':name').index()].wdtType;
                                    var min = wdtCalculateColumnMin(columnData, thousandsSeparator);
                                    var minStr = wdtFormatNumberByColumnType(parseFloat(min), columnType, tableDescription.columnsDecimalPlaces[$(this).data('column-orig-header')], tableDescription.decimalPlaces, decimalSeparator, thousandsSeparator);
                                    $(this).find('.wdt-column-min-value').text(minStr)
                                })
                            }
                            if ($('.wdt-column-max').length) {
                                $('.wdt-column-max[data-table-id="' + tableDescription.tableWpId + '"]').each(function() {
                                    var columnData = api.column($(this).data('column-orig-header') + ':name', {
                                        search: 'applied'
                                    }).data();
                                    var columnType = oSettings.aoColumns[api.column($(this).data('column-orig-header') + ':name').index()].wdtType;
                                    var max = wdtCalculateColumnMax(columnData, thousandsSeparator);
                                    var maxStr = wdtFormatNumberByColumnType(parseFloat(max), columnType, tableDescription.columnsDecimalPlaces[$(this).data('column-orig-header')], tableDescription.decimalPlaces, decimalSeparator, thousandsSeparator);
                                    $(this).find('.wdt-column-max-value').text(maxStr)
                                })
                            }
                        }
                    })
                }
            }
            if (tableDescription.conditional_formatting_columns) {
                wpDataTables[tableDescription.tableId].fnSettings().aoDrawCallback.push({
                    sName: 'updateConditionalFormatting',
                    fn: function(oSettings) {
                        for (var i = 0; i < tableDescription.conditional_formatting_columns.length; i++) {
                            var params = {};
                            var column = oSettings.oInstance.api().column(tableDescription.conditional_formatting_columns[i] + ':name', {
                                search: 'applied'
                            });
                            var conditionalFormattingRules = oSettings.aoColumns[column.index()].conditionalFormattingRules;
                            params.columnType = oSettings.aoColumns[column.index()].wdtType;
                            params.thousandsSeparator = tableDescription.number_format == 1 ? '.' : ',';
                            params.decimalSeparator = tableDescription.number_format == 1 ? ',' : '.';
                            params.dateFormat = tableDescription.datepickFormat;
                            params.momentDateFormat = params.dateFormat.replace('dd', 'DD').replace('M', 'MMM').replace('mm', 'MM').replace('yy', 'YYYY');
                            params.momentTimeFormat = tableDescription.timeFormat.replace('H', 'H').replace('i', 'mm');
                            for (var j in conditionalFormattingRules) {
                                var nodes = column.nodes();
                                column.nodes().to$().each(function() {
                                    wdtCheckConditionalFormatting(conditionalFormattingRules[j], params, $(this))
                                })
                            }
                        }
                    }
                });
                if (!tableDescription.serverSide) {
                    wpDataTables[tableDescription.tableId].fnDraw()
                }
            }
            wpDataTables[tableDescription.tableId].checkSelectedLimits = function() {
                if (wpDataTablesUpdatingFlags[tableDescription.tableId]) {
                    return
                }
                var sel_row_index = $(tableDescription.selector + ' > tbody > tr.selected').index();
                if (sel_row_index + wpDataTables[tableDescription.tableId].fnSettings()._iDisplayStart == wpDataTables[tableDescription.tableId].fnSettings()._iRecordsDisplay - 1) {
                    $(tableDescription.selector + '_next_edit_dialog').prop('disabled', !0)
                } else {
                    $(tableDescription.selector + '_next_edit_dialog').prop('disabled', !1)
                }
                if ((sel_row_index == 0 && wpDataTables[tableDescription.tableId].fnSettings()._iDisplayStart == 0) || wpDataTables[tableDescription.tableId].fnSettings()._iRecordsDisplay == 0) {
                    $(tableDescription.selector + '_prev_edit_dialog').prop('disabled', !0)
                } else {
                    $(tableDescription.selector + '_prev_edit_dialog').prop('disabled', !1)
                }
            };
            if ((tableDescription.columnsFixed == 0) && (tableDescription.groupingEnabled)) {
                wpDataTables[tableDescription.tableId].rowGrouping({
                    iGroupingColumnIndex: tableDescription.groupingColumnIndex
                })
            }
            if (tableDescription.advancedFilterEnabled) {
                $('#' + tableDescription.tableId).dataTable().columnFilter(tableDescription.advancedFilterOptions);
                for (var i in wpDataTablesHooks.onRenderFilter) {
                    wpDataTablesHooks.onRenderFilter[i](tableDescription)
                }
            }
            if (tableDescription.editable) {
                $(document).on('click', tableDescription.selector + '_prev_edit_dialog', function(e) {
                    e.preventDefault();
                    var sel_row_index = $(tableDescription.selector + ' > tbody > tr.selected').index();
                    if (sel_row_index > 0) {
                        $(tableDescription.selector + ' > tbody > tr.selected').removeClass('selected');
                        $(tableDescription.selector + ' > tbody > tr:eq(' + (sel_row_index - 1) + ')').addClass('selected', 300);
                        wpDataTablesSelRows[tableDescription.tableId] = wpDataTables[tableDescription.tableId].fnGetPosition($(tableDescription.selector + ' > tbody > tr.selected').get(0));
                        var data = wpDataTables[tableDescription.tableId].fnGetData(wpDataTablesSelRows[tableDescription.tableId]);
                        wpDataTablesFunctions[tableDescription.tableId].applyData(data)
                    } else {
                        var cur_page = Math.ceil(wpDataTables[tableDescription.tableId].fnSettings()._iDisplayStart / wpDataTables[tableDescription.tableId].fnSettings()._iDisplayLength) + 1;
                        if (cur_page == 1)
                            return;
                        wpDataTablesSelRows[tableDescription.tableId] = -2;
                        wpDataTablesUpdatingFlags[tableDescription.tableId] = !0;
                        wpDataTables[tableDescription.tableId].fnPageChange('previous')
                    }
                    wpDataTables[tableDescription.tableId].checkSelectedLimits()
                });
                $(document).on('click', tableDescription.selector + '_next_edit_dialog', function(e) {
                    e.preventDefault();
                    if (wpDataTables[tableDescription.tableId].fnSettings()._iDisplayLength == -1) {
                        wpDataTables[tableDescription.tableId].fnSettings()._iDisplayLength = wpDataTables[tableDescription.tableId].fnSettings()._iRecordsTotal
                    }
                    var sel_row_index = $(tableDescription.selector + ' > tbody > tr.selected').index();
                    if (sel_row_index < wpDataTables[tableDescription.tableId].fnSettings()._iDisplayLength - 1) {
                        $(tableDescription.selector + ' > tbody > tr.selected').removeClass('selected');
                        $(tableDescription.selector + ' > tbody > tr:eq(' + (sel_row_index - 1) + ')').addClass('selected', 300);
                        wpDataTablesSelRows[tableDescription.tableId] = wpDataTables[tableDescription.tableId].fnGetPosition($(tableDescription.selector + ' > tbody > tr.selected').get(0));
                        var data = wpDataTables[tableDescription.tableId].fnGetData(wpDataTablesSelRows[tableDescription.tableId]);
                        wpDataTablesFunctions[tableDescription.tableId].applyData(data)
                    } else {
                        var cur_page = Math.ceil(wpDataTables[tableDescription.tableId].fnSettings()._iDisplayStart / wpDataTables[tableDescription.tableId].fnSettings()._iDisplayLength) + 1;
                        if (cur_page == 1)
                            return;
                        wpDataTablesSelRows[tableDescription.tableId] = -2;
                        wpDataTablesUpdatingFlags[tableDescription.tableId] = !0;
                        wpDataTables[tableDescription.tableId].fnPageChange('previous')
                    }
                    wpDataTables[tableDescription.tableId].checkSelectedLimits()
                });
                $(document).on('click', tableDescription.selector + '_next_edit_dialog', function(e) {
                    e.preventDefault();
                    if (wpDataTables[tableDescription.tableId].fnSettings()._iDisplayLength == -1) {
                        wpDataTables[tableDescription.tableId].fnSettings()._iDisplayLength = wpDataTables[tableDescription.tableId].fnSettings()._iRecordsTotal
                    }
                    var sel_row_index = $(tableDescription.selector + ' > tbody > tr.selected').index();
                    if (sel_row_index < wpDataTables[tableDescription.tableId].fnSettings()._iDisplayLength - 1) {
                        $(tableDescription.selector + ' > tbody > tr.selected').removeClass('selected');
                        $(tableDescription.selector + ' > tbody > tr:eq(' + (sel_row_index + 1) + ')').addClass('selected', 300);
                        wpDataTablesSelRows[tableDescription.tableId] = wpDataTables[tableDescription.tableId].fnGetPosition($(tableDescription.selector + ' > tbody > tr.selected').get(0));
                        var data = wpDataTables[tableDescription.tableId].fnGetData(wpDataTablesSelRows[tableDescription.tableId]);
                        wpDataTablesFunctions[tableDescription.tableId].applyData(data)
                    } else {
                        var cur_page = Math.ceil(wpDataTables[tableDescription.tableId].fnSettings()._iDisplayStart / wpDataTables[tableDescription.tableId].fnSettings()._iDisplayLength) + 1;
                        var total_pages = Math.ceil(wpDataTables[tableDescription.tableId].fnSettings()._iRecordsTotal / wpDataTables[tableDescription.tableId].fnSettings()._iDisplayLength);
                        if (cur_page == total_pages)
                            return;
                        wpDataTablesSelRows[tableDescription.tableId] = -3;
                        wpDataTablesUpdatingFlags[tableDescription.tableId] = !0;
                        wpDataTables[tableDescription.tableId].fnPageChange('next');
                        wpDataTables[tableDescription.tableId].fnDraw(!1)
                    }
                    wpDataTables[tableDescription.tableId].checkSelectedLimits()
                });
                $(document).on('click', tableDescription.selector + '_apply_edit_dialog', function(e) {
                    e.preventDefault();
                    e.stopImmediatePropagation();
                    e.preventDefault();
                    wpDataTablesFunctions[tableDescription.tableId].saveTableData(!0, !1)
                });
                $(document).on('click', tableDescription.selector + '_ok_edit_dialog', function(e) {
                    e.preventDefault();
                    e.stopImmediatePropagation();
                    e.preventDefault();
                    wpDataTablesFunctions[tableDescription.tableId].saveTableData(!0, !0)
                });
                $(document).on('keyup', tableDescription.selector + '_edit_dialog input', function(e) {
                    if (e.which == 13) {
                        $(tableDescription.selector + '_ok_edit_dialog').click()
                    }
                });
                $(tableDescription.selector + '_edit_dialog input.wdt-maskmoney[data-column_type="float"]').each(function(i) {
                    var decimalPlaces = tableDescription.columnsDecimalPlaces[$(this).data('key')] != -1 ? tableDescription.columnsDecimalPlaces[$(this).data('key')] : parseInt(tableDescription.decimalPlaces);
                    $(this).maskMoney({
                        thousands: tableDescription.number_format == 1 ? '.' : ',',
                        decimal: tableDescription.number_format == 1 ? ',' : '.',
                        precision: decimalPlaces,
                        allowNegative: !0,
                        allowEmpty: !0,
                        allowZero: !0
                    })
                });
                $(tableDescription.selector + '_edit_dialog input.wdt-maskmoney[data-column_type="int"]').each(function(i) {
                    var thousandsSeparator = tableDescription.number_format == 1 ? '.' : ',';
                    if (tableDescription.columnsThousandsSeparator[$(this).data('key')] == 0) {
                        thousandsSeparator = ''
                    }
                    $(this).maskMoney({
                        thousands: thousandsSeparator,
                        precision: 0,
                        allowNegative: !0,
                        allowEmpty: !0,
                        allowZero: !0
                    })
                });
                var fileUploadInit = function(selector) {
                    if ($('.fileupload-' + selector).length) {
                        var attachment = null;
                        wdtCustomUploader = wp.media({
                            title: wpdatatables_frontend_strings.select_upload_file,
                            button: {
                                text: wpdatatables_frontend_strings.choose_file
                            },
                            multiple: !1
                        });
                        $('span.fileupload-' + selector).click(function(e) {
                            e.preventDefault();
                            var $button = $(this);
                            var $relInput = $('#' + $button.data('rel_input'));
                            $(document).off('focusin.modal');
                            wdtCustomUploader = wp.media({
                                title: wpdatatables_frontend_strings.select_upload_file,
                                button: {
                                    text: wpdatatables_frontend_strings.choose_file
                                },
                                multiple: !1,
                                library: {
                                    type: $button.data('column_type') == 'icon' ? 'image' : ''
                                }
                            });
                            if ($button.data('column_type') == 'icon') {
                                wdtCustomUploader.off('select').on('select', function() {
                                    attachment = wdtCustomUploader.state().get('selection').first().toJSON();
                                    var val = attachment.url;
                                    $relInput.parent().parent().parent().find('.fileinput-preview').html('<img src=' + val + '>');
                                    $relInput.parent().parent().parent().removeClass('fileinput-new').addClass('fileinput-exists');
                                    $relInput.parent().parent().removeClass('fileinput-new').addClass('fileinput-exists');
                                    if (attachment.sizes.thumbnail) {
                                        val = attachment.sizes.thumbnail.url + '||' + val
                                    }
                                    $relInput.val(val)
                                })
                            } else {
                                wdtCustomUploader.off('select').on('select', function() {
                                    var attachment = wdtCustomUploader.state().get('selection').first().toJSON();
                                    $relInput.val(attachment.url);
                                    $relInput.parent().parent().removeClass('fileinput-new').addClass('fileinput-exists');
                                    $relInput.parent().parent().find('.fileinput-filename').text(attachment.filename)
                                })
                            }
                            wdtCustomUploader.open()
                        })
                    }
                };
                fileUploadInit(tableDescription.tableId);
                $('.edit_table[aria-controls="' + tableDescription.tableId + '"]').click(function() {
                    var modal = $('#wdt-frontend-modal');
                    if ($(this).hasClass('disabled'))
                        return !1;
                    $('.wpDataTablesPopover.editTools').hide();
                    modal.find('.modal-title').html('Редактировать строчку');
                    modal.find('.modal-body').html('');
                    var row = $(tableDescription.selector + ' tr.selected').get(0);
                    var data = wpDataTables[tableDescription.tableId].fnGetData(row);
                    wpDataTablesFunctions[tableDescription.tableId].applyData(data);
                    wpDataTables[tableDescription.tableId].checkSelectedLimits();
                    modal.find('.modal-body').append($(tableDescription.selector + '_edit_dialog').show());
                    modal.find('.modal-footer').html('').append($(tableDescription.selector + '_edit_dialog_buttons').show());
                    $('#wdt-frontend-modal .editDialogInput').each(function(index) {
                        if ($(this).data('input_type') == 'mce-editor') {
                            if ($(this).siblings().length) {
                                tinymce.execCommand('mceRemoveEditor', !0, $(this).attr('id'))
                            }
                            tinymce.init({
                                selector: '#' + $(this).attr('id'),
                                menubar: !1
                            })
                        }
                    });
                    modal.modal('show');
                    if (modal.find('.wdt-edit-dialog-fields-block').find('.form-group').length == 0)
                        $('#wdt-frontend-modal div.wdt-no-editor-inputs-selected-alert').show()
                });
                if (tableDescription.inlineEditing) {
                    new inlineEditClass(tableDescription, dataTableOptions, $)
                }
                $('.new_table_entry[aria-controls="' + tableDescription.tableId + '"]').click(function() {
                    var modal = $('#wdt-frontend-modal');
                    $('.wpDataTablesPopover.editTools').hide();
                    modal.find('.modal-title').html('Add new entry');
                    modal.find('.modal-body').html('').append($(tableDescription.selector + '_edit_dialog').show());
                    modal.find('.modal-footer').html('').append($(tableDescription.selector + '_edit_dialog_buttons').show());
                    $('#wdt-frontend-modal .editDialogInput').val('').css('border', '');
                    $('#wdt-frontend-modal tr.idRow .editDialogInput').val('0');
                    $('#wdt-frontend-modal .editDialogInput').each(function(index) {
                        if ($(this).data('input_type') == 'mce-editor') {
                            if (tinymce.activeEditor)
                                tinymce.activeEditor.setContent('');
                            tinymce.execCommand('mceRemoveEditor', !0, $(this).attr('id'));
                            tinymce.init({
                                selector: '#' + $(this).attr('id'),
                                menubar: !1
                            })
                        }
                    });
                    wpDataTables[tableDescription.tableId].checkSelectedLimits();
                    $('#wdt-frontend-modal .selectpicker').selectpicker('deselectAll').selectpicker('refresh');
                    for (var i in tableDescription.advancedEditingOptions.aoColumns) {
                        var defaultValue = tableDescription.advancedEditingOptions.aoColumns[i].defaultValue;
                        var editorInputType = tableDescription.advancedEditingOptions.aoColumns[i].editorInputType;
                        if (defaultValue) {
                            if ($.inArray(editorInputType, ['selectbox', 'multi-selectbox']) !== -1) {
                                defaultValue = editorInputType == 'multi-selectbox' ? defaultValue.split('|') : defaultValue;
                                $('#wdt-frontend-modal .editDialogInput:not(.bootstrap-select):eq(' + i + ')').selectpicker('val', defaultValue)
                            } else {
                                $('#wdt-frontend-modal .editDialogInput:not(.bootstrap-select):eq(' + i + ')').val(defaultValue)
                            }
                        }
                    }
                    if ($('.fileupload-' + tableDescription.tableId).length) {
                        var $fileUploadEl = $('.fileupload-' + tableDescription.tableId);
                        $($fileUploadEl).each(function() {
                            $(this).parent().find('input.editDialogInput').val('');
                            if ($(this).data('column_type') == 'icon') {
                                $(this).parent().parent().find('.fileinput-preview').html('');
                                $(this).parent().removeClass('fileinput-exists').addClass('fileinput-new');
                                $(this).parent().parent().removeClass('fileinput-exists').addClass('fileinput-new')
                            } else {
                                $(this).parent().find('.fileinput-filename').text('');
                                $(this).parent().removeClass('fileinput-exists').addClass('fileinput-new')
                            }
                        })
                    }
                    if (modal.find('.wdt-edit-dialog-fields-block').find('.form-group').length == 0)
                        $('#wdt-frontend-modal div.wdt-no-editor-inputs-selected-alert').show();
                    modal.modal('show')
                });
                $(document).on('keyup', '#wdt-frontend-modal', function(e) {
                    e.preventDefault();
                    e.stopImmediatePropagation();
                    if (e.which == 27) {
                        $('#wdt-frontend-modal').modal('hide')
                    }
                });
                $('#wdt-frontend-modal').on('hidden.bs.modal', function(e) {
                    $(tableDescription.selector + '_wrapper').append($(tableDescription.selector + '_edit_dialog').hide());
                    $(tableDescription.selector + '_wrapper').append($(tableDescription.selector + '_edit_dialog_buttons').hide())
                });
                $('.delete_table_entry[aria-controls="' + tableDescription.tableId + '"]').click(function() {
                    if ($(this).hasClass('disabled')) {
                        return !1
                    }
                    $('.wpDataTablesPopover.editTools').hide();
                    $('#wdt-delete-modal').modal('show');
                    $('#wdt-browse-delete-button').click(function(e) {
                        e.preventDefault();
                        e.stopImmediatePropagation();
                        var row = $(tableDescription.selector + ' tr.selected').get(0);
                        var data = wpDataTables[tableDescription.tableId].fnGetData(row);
                        var id_val = data[tableDescription.idColumnIndex];
                        $.ajax({
                            url: tableDescription.adminAjaxBaseUrl,
                            type: 'POST',
                            data: {
                                action: 'wdt_delete_table_row',
                                id_key: tableDescription.idColumnKey,
                                id_val: id_val,
                                table_id: tableDescription.tableWpId,
                                wdtNonce: $('#wdtNonceFrontendEdit').val()
                            },
                            success: function() {
                                wpDataTables[tableDescription.tableId].fnDraw(!1);
                                $('#wdt-delete-modal').modal('hide');
                                wdtNotify(wpdatatables_edit_strings.success, wpdatatables_edit_strings.rowDeleted, 'success')
                            }
                        })
                    })
                });
                if (tableDescription.popoverTools) {
                    $(tableDescription.selector + '_wrapper').css('position', 'relative');
                    $('<div class="wpDataTablesPopover editTools ' + tableDescription.tableId + '"></div>').prependTo(tableDescription.selector + '_wrapper').hide();
                    $('.new_table_entry[aria-controls="' + tableDescription.tableId + '"]').prependTo(tableDescription.selector + '_wrapper .wpDataTablesPopover.editTools').css('float', 'right');
                    $('.edit_table[aria-controls="' + tableDescription.tableId + '"]').prependTo(tableDescription.selector + '_wrapper .wpDataTablesPopover.editTools').css('float', 'right');
                    $('.delete_table_entry[aria-controls="' + tableDescription.tableId + '"]').prependTo(tableDescription.selector + '_wrapper .wpDataTablesPopover.editTools').css('float', 'right')
                }
                var clickEvent = function(e) {
                    if (!$(e.target).is('a') && !$(e.target).is('button')) {
                        e.preventDefault();
                        e.stopImmediatePropagation();
                        e.preventDefault()
                    }
                    if ($(this).hasClass('group')) {
                        return !1
                    }
                    var popoverVerticalPosition = $(this).offset().top - $(tableDescription.selector + '_wrapper').offset().top - $('.wpDataTablesPopover.editTools').outerHeight() - 7;
                    var editedRow = ($(this).children('').hasClass('editing')) ? !0 : !1;
                    if ($(this).hasClass('selected')) {
                        $(tableDescription.selector + ' tbody tr').removeClass('selected');
                        wpDataTablesSelRows[tableDescription.tableId] = -1
                    } else if (!$(this).find('td').hasClass('dataTables_empty') || tableDescription.popoverTools) {
                        $(tableDescription.selector + '  tbody tr').removeClass('selected');
                        $(this).addClass('selected');
                        wpDataTablesSelRows[tableDescription.tableId] = wpDataTables[tableDescription.tableId].fnGetPosition($(tableDescription.selector + ' tbody tr.selected').get(0))
                    }
                    if ($(tableDescription.selector + ' tbody tr.selected').length > 0) {
                        $('.edit_table[aria-controls="' + tableDescription.tableId + '"]').removeClass('disabled');
                        $('.delete_table_entry[aria-controls="' + tableDescription.tableId + '"]').removeClass('disabled');
                        if (!editedRow) {
                            $('.wpDataTablesPopover.editTools.' + tableDescription.tableId + '').show().css('top', popoverVerticalPosition)
                        } else {
                            return !1
                        }
                    } else {
                        $('.edit_table[aria-controls="' + tableDescription.tableId + '"]').addClass('disabled');
                        $('.delete_table_entry[aria-controls="' + tableDescription.tableId + '"]').addClass('disabled');
                        $('.wpDataTablesPopover.editTools.' + tableDescription.tableId + '').hide()
                    }
                };
                var ua = navigator.userAgent,
                    event = (ua.match(/iPad/i)) ? "touchstart" : "click";
                $(document).off(event, tableDescription.selector + ' tbody tr').on(event, tableDescription.selector + ' tbody tr', clickEvent);
                $(document).on('click', tableDescription.selector + '_edit_dialog a.wdt-detach-attachment-file, a.wdt-detach-attachment-file', function(e) {
                    e.preventDefault();
                    e.stopImmediatePropagation();
                    if ($(this).parent().find('span.fileupload-' + tableDescription.tableId).data('column_type') == 'icon') {
                        $(this).parent().find('input.editDialogInput').val('');
                        $(this).parent().parent().find('.fileinput-preview').html('');
                        $(this).parents('.fileinput-exists').removeClass('fileinput-exists').addClass('fileinput-new')
                    } else {
                        $(this).parent().find('input.editDialogInput').val('');
                        $(this).parent().find('.fileinput-filename').text('');
                        $(this).parent().removeClass('fileinput-exists').addClass('fileinput-new')
                    }
                })
            }
            if (tableDescription.filterInForm == !0) {
                if ($('#wdt-filter-widget').length) {
                    $('.wpDataTablesFilter').appendTo('#wdt-filter-widget')
                }
            }
            return wpDataTables[tableDescription.tableId]
        };
        $('table.wpDataTable').each(function() {
            var tableDescription = $.parseJSON($('#' + $(this).data('described-by')).val());
            wdtRenderDataTable($(this), tableDescription)
        })
    })
})(jQuery);

function wdtApplyCellAction($cell, action, setVal) {
    switch (action) {
        case 'setCellColor':
            $cell.attr('style', 'background-color: ' + setVal + ' !important');
            break;
        case 'defaultCellColor':
            $cell.attr('style', 'background-color: "" !important');
            break;
        case 'setCellContent':
            $cell.html(setVal);
            break;
        case 'setCellClass':
            $cell.addClass(setVal);
            break;
        case 'removeCellClass':
            $cell.removeClass(setVal);
            break;
        case 'setRowColor':
            $cell.closest('tr').find('td').attr('style', 'background-color: ' + setVal + ' !important');
            break;
        case 'defaultRowColor':
            $cell.closest('tr').find('td').attr('style', 'background-color: "" !important');
            break;
        case 'setRowClass':
            $cell.closest('tr').addClass(setVal);
            break;
        case 'addColumnClass':
            var index = $cell.index() + 1;
            $cell.closest('table.wpDataTable').find('tbody td:nth-child(' + index + ')').addClass(setVal);
            break;
        case 'setColumnColor':
            var index = $cell.index() + 1;
            $cell.closest('table.wpDataTable').find('tbody td:nth-child(' + index + ')').attr('style', 'background-color: ' + setVal + ' !important');
            break
    }
}

function wdtDialog(str, title) {
    var dialogId = Math.floor((Math.random() * 1000) + 1);
    var editModal = jQuery('.wdt-frontend-modal').clone();
    editModal.attr('id', 'remodal-' + dialogId);
    editModal.find('.modal-title').html(title);
    editModal.find('.modal-header').append(str);
    return editModal
}

function wdtAddOverlay(table_selector) {
    jQuery(table_selector).addClass('overlayed')
}

function wdtRemoveOverlay(table_selector) {
    jQuery(table_selector).removeClass('overlayed')
}

function getPurifiedValue(element, responsive) {
    if (responsive) {
        var cellVal = element.children('.columnValue').html()
    } else {
        cellVal = element.clone().children().remove().end().html()
    }
    return cellVal
}

function wdtCheckConditionalFormatting(conditionalFormattingRules, params, element, responsive) {
    var cellVal = '';
    var ruleVal = '';
    var ruleMatched = !1;
    if ((params.columnType == 'int') || (params.columnType == 'float')) {
        cellVal = parseFloat(wdtUnformatNumber(getPurifiedValue(element, responsive), params.thousandsSeparator, params.decimalSeparator, !0))
        ruleVal = conditionalFormattingRules.cellVal
    } else if (params.columnType == 'date') {
        cellVal = moment(getPurifiedValue(element, responsive), params.momentDateFormat).toDate();
        if (conditionalFormattingRules.cellVal == '%TODAY%') {
            ruleVal = moment().startOf('day').toDate()
        } else {
            ruleVal = moment(conditionalFormattingRules.cellVal, params.momentDateFormat).toDate()
        }
    } else if (params.columnType == 'datetime') {
        if (conditionalFormattingRules.cellVal == '%TODAY%') {
            cellVal = moment(getPurifiedValue(element, responsive), params.momentDateFormat + ' ' + params.momentTimeFormat).startOf('day').toDate();
            ruleVal = moment().startOf('day').toDate()
        } else {
            cellVal = moment(getPurifiedValue(element, responsive), params.momentDateFormat + ' ' + params.momentTimeFormat).toDate();
            ruleVal = moment(conditionalFormattingRules.cellVal, params.momentDateFormat + ' ' + params.momentTimeFormat).toDate()
        }
    } else if (params.columnType == 'time') {
        cellVal = moment(getPurifiedValue(element, responsive), params.momentTimeFormat).toDate();
        ruleVal = moment(conditionalFormattingRules.cellVal, params.momentTimeFormat).toDate()
    } else {
        cellVal = getPurifiedValue(element, responsive);
        ruleVal = conditionalFormattingRules.cellVal
    }
    switch (conditionalFormattingRules.ifClause) {
        case 'lt':
            ruleMatched = cellVal < ruleVal;
            break;
        case 'lteq':
            ruleMatched = cellVal <= ruleVal;
            break;
        case 'eq':
            if (params.columnType == 'date' || params.columnType == 'datetime' || params.columnType == 'time') {
                cellVal = cellVal != null ? cellVal.getTime() : null;
                ruleVal = ruleVal != null ? ruleVal.getTime() : null
            }
            ruleMatched = cellVal == ruleVal;
            break;
        case 'neq':
            if (params.columnType == 'date' || params.columnType == 'datetime') {
                cellVal = cellVal != null ? cellVal.getTime() : null;
                ruleVal = ruleVal != null ? ruleVal.getTime() : null
            }
            ruleMatched = cellVal != ruleVal;
            break;
        case 'gteq':
            ruleMatched = cellVal >= ruleVal;
            break;
        case 'gt':
            ruleMatched = cellVal > ruleVal;
            break;
        case 'contains':
            ruleMatched = cellVal.indexOf(ruleVal) !== -1;
            break;
        case 'contains_not':
            ruleMatched = cellVal.indexOf(ruleVal) == -1;
            break
    }
    if (ruleMatched) {
        wdtApplyCellAction(element, conditionalFormattingRules.action, conditionalFormattingRules.setVal)
    }
}
jQuery.fn.dataTableExt.oStdClasses.sWrapper = "wpDataTables wpDataTablesWrapper";
jQuery.fn.dataTable.ext.classes.sLengthSelect = 'selectpicker length_menu';
jQuery.fn.dataTable.ext.classes.sFilterInput = 'form-control'